(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a3f8ff0"],{"2b68":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"punch-list page-padding"},[i("van-nav-bar",{attrs:{title:"阅读列表",border:!1,fixed:""}}),i("div",{staticClass:"list"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":t.$store.state.slogan},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.list.length?i("div",{staticClass:"content"},t._l(t.list,function(e,a){return i("van-cell",{key:a},[t.timediff(e,a)?i("div",{staticClass:"date-title"},[t._v(t._s(e.create_date.split(" ")[0]))]):t._e(),i("cardPunch",{attrs:{item:e}})],1)}),1):i("div",{staticClass:"no-list"},[t._v("\n                尚未打卡 "),i("span",{staticClass:"theme-color",on:{click:t.toBabyHome}},[t._v("进入宝贝主页参与阅读打卡")])])])],1)],1)],1)},n=[],s=(i("28a5"),i("cebc")),o=i("9993"),c=i("2ec8"),r=(i("bec1"),i("591a")),l={name:"punch-list",components:{cardPunch:c["a"]},computed:Object(s["a"])({},Object(r["e"])("openWX",["ready"]),Object(r["c"])(["userDataState"]),{item:function(){var t={cate_name:"打卡",details:"参与阅读打卡，好的习惯贵在坚持",title:"【阅亮书架】阅读打卡"};return t}}),data:function(){return{loading:!1,finished:!1,list:[],page:1,shareShow:!1}},updated:function(){this.wxShare()},watch:{ready:function(){this.wxShare()}},methods:Object(s["a"])({},Object(r["b"])("openWX",["share"]),{wxShare:function(){var t={item:this.item,success:function(){console.log("微信分享")}};this.share(t)},onLoad:function(){var t=this,e={params:{page:this.page,child_id:this.$route.query.id}};return o["a"].get("/book/member/get_read_sign_list",e).then(function(e){switch(e.data.status){case 1:1==t.page?t.list=e.data.data:t.list=t.list.concat(e.data.data),t.loading=!1,t.page++,t.list.length>=e.data.count&&(t.finished=!0);break;case 0:t.page=1,t.loading=!1,t.finished=!0,t.list=[];break}})},onRefresh:function(){var t=this;this.page=1,this.onLoad().then(function(){t.loading=!1,t.finished=!1})},timediff:function(t,e){if(0==e)return!0;var i=this.list[e-1].create_date.split(" ")[0];if(e){var a=i,n=t.create_date.split(" ")[0];return a!=n}},toBabyHome:function(){this.$router.push({name:"baby-home",query:{id:this.userDataState.child_id}})}})},d=l,u=(i("3dbd"),i("2877")),h=Object(u["a"])(d,a,n,!1,null,"c390d692",null);e["default"]=h.exports},"2ec8":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card",on:{click:function(e){return t.toBookDetails(t.item)}}},[i("div",{staticClass:"item flex flex-align"},[i("div",{staticClass:"book-cover"},[i("img",{attrs:{src:t.thumb(t.item.book_photo)}})]),i("div",{staticClass:"book-info"},[i("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:2,expression:"2",arg:"20"}],staticClass:"title"},[t._v(t._s(t.item.book_name))]),i("div",{staticClass:"time"},[t._v("打卡时间："+t._s(t.getTime(t.item.create_time)))])]),t.item.book_id>0?i("div",{staticClass:"iconfont"},[t._v("\n        \n      ")]):t._e()])])},n=[],s=(i("4917"),i("bec1")),o={name:"card-punch",props:["item"],methods:{thumb:function(t){if(t){var e=t.match(/https?:\/\/(.+?)\//);return e?"/book/api/remotePic?url=".concat(t):t}},toBookDetails:function(t){t.book_id>0&&this.$router.push({name:"book-details",query:{id:t.book_id}})},getTime:function(t){return Object(s["e"])(1e3*t,"HH:mm:ss")}}},c=o,r=(i("c175"),i("2877")),l=Object(r["a"])(c,a,n,!1,null,"b45906b6",null);e["a"]=l.exports},"3dbd":function(t,e,i){"use strict";var a=i("4f61"),n=i.n(a);n.a},"4f61":function(t,e,i){},"6be8":function(t,e,i){},c175:function(t,e,i){"use strict";var a=i("6be8"),n=i.n(a);n.a}}]);