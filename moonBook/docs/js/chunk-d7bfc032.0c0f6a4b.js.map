{"version":3,"sources":["webpack:///./src/components/pages/invite/addFamily.vue?bcd5","webpack:///src/components/pages/invite/addFamily.vue","webpack:///./src/components/pages/invite/addFamily.vue?f5fe","webpack:///./src/components/pages/invite/addFamily.vue","webpack:///./src/components/pages/invite/addFamily.vue?5437"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","_v","_m","is_mine","attrs","src","babyInfo","avatar","_s","_e","type","size","square","on","click","addFamily","staticRenderFns","addFamilyvue_type_script_lang_js_","computed","Object","objectSpread","vuex_esm","item","data","cate_name","details","concat","title","imgUrl","location","origin","isLoading","shareShow","created","fetchData","updated","wxShare","watch","$router","ready","methods","self","success","push","query","id","$route","share","_this","params","child_id","api","get","then","res","status","_this2","$toast","msg","toRouter","back","invite_addFamilyvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addFamily_vue_vue_type_style_index_0_id_9cfefd14_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addFamily_vue_vue_type_style_index_0_id_9cfefd14_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-d7bfc032.0c0f6a4b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-family\"},[_c('div',{staticClass:\"pictorial\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.is_mine),expression:\"is_mine\"}],staticClass:\"tips\"},[_vm._v(\"点击发送给家人 邀请加入\")]),_vm._m(0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.is_mine),expression:\"!is_mine\"}],staticClass:\"child-info\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{directives:[{name:\"http2https\",rawName:\"v-http2https\"}],attrs:{\"src\":_vm.babyInfo.avatar}})]),_c('div',{staticClass:\"name\"},[_vm._v(\"\\n        \"+_vm._s(_vm.babyInfo.name)+\"\\n      \")]),_c('div',{staticClass:\"text\"},[_vm._v(\"\\n        邀请您加入家庭主页\\n      \")])]),_vm._m(1),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.is_mine?'邀请家人一起参与宝贝阅读，记录成长':'与家人一起参与宝贝阅读，记录成长'))]),(!_vm.is_mine)?_c('van-button',{staticClass:\"theme-btn\",attrs:{\"type\":\"primary\",\"size\":\"normal\",\"square\":\"\"},on:{\"click\":_vm.addFamily}},[_vm._v(\"加 入\")]):_vm._e(),(_vm.is_mine)?_c('div',{staticClass:\"copyright\"},[_vm._v(\"© 阅亮书架\")]):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":\"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/logo.png\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"head-box flex flex-justify\"},[_c('div',{staticClass:\"head-list flex flex-align\"},[_c('img',{attrs:{\"src\":\"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/head1.png\"}}),_c('img',{attrs:{\"src\":\"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/head2.png\"}}),_c('img',{attrs:{\"src\":\"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/head3.png\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"add-family\">\r\n    <div class=\"pictorial\">\r\n      <div class=\"tips\" v-show='is_mine'>点击发送给家人 邀请加入</div>\r\n      <div class=\"logo\">\r\n        <img src=\"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/logo.png\" />\r\n      </div>\r\n      <div class=\"child-info\" v-show='!is_mine'>\r\n        <div class=\"avatar\">\r\n          <img :src=\"babyInfo.avatar\" v-http2https/>\r\n        </div>\r\n        <div class=\"name\">\r\n          {{babyInfo.name}}\r\n        </div>\r\n        <div class=\"text\">\r\n          邀请您加入家庭主页\r\n        </div>\r\n      </div>\r\n      <div class=\"head-box flex flex-justify\">\r\n        <div class=\"head-list flex flex-align\">\r\n          <img src=\"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/head1.png\" />\r\n          <img src=\"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/head2.png\" />\r\n          <img src=\"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/head3.png\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"text\">{{is_mine?'邀请家人一起参与宝贝阅读，记录成长':'与家人一起参与宝贝阅读，记录成长'}}</div>\r\n\r\n      <van-button class=\"theme-btn\" v-if='!is_mine' type=\"primary\" size=\"normal\" @click=\"addFamily\" square>加 入</van-button>\r\n      <div class=\"copyright\" v-if='is_mine'>© 阅亮书架</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from './../../lib/js/api'\r\nimport { mapActions,mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'add-family',\r\n  computed: {\r\n    ...mapState('openWX',['ready']),\r\n    item() {\r\n      let data = {\r\n        cate_name: '邀请',\r\n        details:`与家人一起陪伴${this.babyInfo.name}的成长，参与阅读。让阅亮书架成为孩子进步的阶梯。`,\r\n        title: `${this.babyInfo.name}邀请您加入家庭主页`,\r\n        imgUrl: location.origin + this.babyInfo.avatar\r\n      }\r\n\r\n      return data\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      shareShow: false,\r\n      is_mine: true,\r\n      babyInfo: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  updated(){   \r\n    this.wxShare()\r\n  },\r\n  watch: {\r\n    '$router': 'fetchData',\r\n    ready(){\r\n      this.wxShare()\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('openWX', ['share']),\r\n    wxShare(){\r\n      const self = this \r\n      let data = {\r\n        item: self.item,\r\n        success() {\r\n          self.$router.push({\r\n            name: 'baby-home',\r\n            query: {\r\n              id: self.$route.query.id\r\n            }\r\n          })\r\n        }\r\n      }\r\n      self.share(data)\r\n    },\r\n    fetchData() {\r\n      let data = {\r\n        params: {\r\n          child_id: this.$route.query.id\r\n        }\r\n      }\r\n      axios.get('/book/baby/getInfo', data).then(res => {\r\n        if (res.data.status = 1) {\r\n          this.is_mine = res.data.data.is_mine\r\n          this.babyInfo = res.data.data\r\n        }\r\n      })\r\n    },\r\n    addFamily() {\r\n      let data = {\r\n        params: {\r\n          child_id: this.$route.query.id\r\n        }\r\n      }\r\n\r\n      axios.get('/book/babyParent/join', data).then(res => {\r\n        this.isLoading = true\r\n        if (res.status == 1) {\r\n          this.$toast(res.data.msg)\r\n          this.toRouter()\r\n          this.isLoading = false\r\n        } else {\r\n          this.$toast(res.data.msg)\r\n          this.toRouter()\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    toRouter() {\r\n      if (this.$route.query.back) {\r\n        this.$router.push({\r\n          name: this.$route.query.back,\r\n          query: {\r\n            id: this.$route.query.id,\r\n          }\r\n        })\r\n      } else {\r\n        this.$router.push({\r\n          name: 'home'\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.btn {\r\n  padding: 1.25rem /* 20/16 */ 0.625rem /* 10/16 */;\r\n  position: relative;\r\n  z-index: 999;\r\n}\r\n\r\n.pictorial {\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-image: url('https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/share-bg.jpg');\r\n  background-size: cover;\r\n  background-position: bottom;\r\n}\r\n\r\n.copyright {\r\n  text-align: center;\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 2.25rem /* 36/16 */;\r\n  line-height: 2.25rem /* 36/16 */;\r\n  color: #909399;\r\n  font-size: 0.8125rem /* 13/16 */;\r\n}\r\n\r\n.logo {\r\n  width: 10rem /* 160/16 */;\r\n  padding-top: 8.125rem /* 130/16 */;\r\n  margin: 0 auto;\r\n}\r\n\r\n.tips {\r\n  position: absolute;\r\n  z-index: 10;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: #fff;\r\n  padding: 0.625rem /* 10/16 */ 1.25rem /* 20/16 */;\r\n  height: 1.75rem /* 28/16 */;\r\n  line-height: 1.75rem /* 28/16 */;\r\n  border-radius: 0.5rem /* 8/16 */;\r\n  right: 0.625rem /* 10/16 */;\r\n  top: 30px;\r\n}\r\n\r\n.tips::before {\r\n  content: '';\r\n  position: absolute;\r\n  border-right: 0 solid transparent;\r\n  border-left: 15px solid transparent;\r\n  border-bottom: 30px solid#000;\r\n  top: -30px;\r\n  right: 0.5rem /* 8/16 */;\r\n  opacity: 0.7;\r\n}\r\n\r\n.head-list {\r\n  margin: 0 auto;\r\n}\r\n\r\n.head-list img {\r\n  height: 4.375rem /* 70/16 */;\r\n}\r\n\r\n.head-box {\r\n  margin-top: 1.5625rem /* 25/16 */;\r\n  margin-bottom: 0.625rem /* 10/16 */;\r\n}\r\n\r\n.text {\r\n  text-align: center;\r\n  color: #007fff;\r\n}\r\n\r\n.avatar{\r\n  width: 66px;\r\n  margin: 10px auto;\r\n}\r\n\r\n.avatar img {\r\n  width: 60px;\r\n  height: 60px;\r\n  border: 3px solid #fff;\r\n  border-radius: 50%;\r\n  margin: 20px auto 0.625rem 10px auto;\r\n  display: block;\r\n}\r\n\r\n.name {\r\n  text-align: center;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n}\r\n\r\n.theme-btn {\r\n  position: fixed;\r\n  width: 100%;\r\n  bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addFamily.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addFamily.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addFamily.vue?vue&type=template&id=9cfefd14&scoped=true&\"\nimport script from \"./addFamily.vue?vue&type=script&lang=js&\"\nexport * from \"./addFamily.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addFamily.vue?vue&type=style&index=0&id=9cfefd14&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9cfefd14\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addFamily.vue?vue&type=style&index=0&id=9cfefd14&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addFamily.vue?vue&type=style&index=0&id=9cfefd14&scoped=true&lang=css&\""],"sourceRoot":""}