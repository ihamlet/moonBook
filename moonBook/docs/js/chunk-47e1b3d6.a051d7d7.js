(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47e1b3d6"],{"5c0a":function(t,a,e){},6971:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"verify-list"},[e("div",{staticClass:"container"},[e("div",{staticClass:"theme-background"},[t.isRouterAlive?e("family",{key:t.$route.query.id}):t._e()],1),e("div",{staticClass:"list"},[e("van-list",{attrs:{finished:t.finished,"finished-text":t.$store.state.slogan},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[t._l(t.list,function(a,i){return e("van-cell",{key:i,attrs:{center:""}},[e("div",{staticClass:"title flex flex-align",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"avatar"},[e("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:a.avatar,alt:a.parent_name}})]),e("div",{staticClass:"name"},[t._v(t._s(a.parent_name))])]),a.is_manager?e("div",{staticClass:"type"},[t._v("群主")]):e("div",{staticClass:"btn-box"},[a.parent_id!=t.userDataState.id?e("div",{staticClass:"btn"},[a.show_check?e("van-button",{staticClass:"theme-btn",attrs:{size:"small",type:"primary",round:"",plain:""},on:{click:function(e){return t.by(a)}}},[t._v("通过")]):t._e(),a.show_remove?e("van-button",{staticClass:"theme-btn",attrs:{size:"small",type:"primary",round:""},on:{click:function(e){return t.by(a)}}},[t._v("请出")]):t._e()],1):"0"==a.is_close?e("div",{staticClass:"btn"},[e("van-button",{staticClass:"theme-btn",attrs:{size:"small",type:"primary",round:"",plain:a.show_check},on:{click:t.out}},[t._v("退出")])],1):t._e()]),a.show_wait?e("div",{staticClass:"state"},[t._v("请等待审核通过")]):t._e()])}),0==t.count?e("div",{staticClass:"no-content"},[t._v("\n          暂无审核... "),e("span",{staticClass:"theme-color",on:{click:t.onClickRight}},[t._v(" 邀请家人 ")])]):t._e()],2)],1),e("div",{staticClass:"footer-bar"},[e("van-button",{staticClass:"theme-btn",attrs:{square:"",type:"primary"},on:{click:t.toFind}},[t._v("发现更多")])],1)])])},s=[],n=e("cebc"),o=e("9993"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"family-card"},[e("div",{staticClass:"family"},[e("div",{staticClass:"family-list flex flex-align",attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"flex flex-align"},t._l(t.list,function(a,i){return e("div",{key:i,staticClass:"avatar",on:{click:t.toDialog}},[i<6?e("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:a.avatar}}):t._e()])}),0),e("div",{staticClass:"invite"},[e("van-button",{staticClass:"theme-plain",attrs:{plain:"",type:"primary",size:"small",round:""},on:{click:t.toFamily}},[t._v("+ 成员")])],1)])])])},r=[],l=(e("7f7f"),e("591a")),u=(e("bec1"),{name:"family",computed:Object(n["a"])({},Object(l["c"])(["userDataState"])),data:function(){return{list:[],count:0}},created:function(){this.fetchData()},watch:{$router:"fetchData"},methods:{fetchData:function(){var t=this,a="/book/babyParent/getList",e={params:{child_id:this.$route.query.id,is_close:0}};o["a"].get(a,e).then(function(a){switch(a.data.status){case 1:t.list=a.data.data;break}})},toFamily:function(){this.$router.push({name:"add-family",query:{id:this.$route.query.id,back:this.$route.name}})},toDialog:function(){this.$router.push({name:"dialog",query:{title:"家庭群聊",id:this.$route.query.id}})}}}),d=u,h=(e("d1fe"),e("97f9"),e("2877")),f=Object(h["a"])(d,c,r,!1,null,"0107bf3e",null),v=f.exports,m={name:"verifyList",components:{family:v},computed:Object(n["a"])({},Object(l["c"])(["userDataState"])),data:function(){return{list:[],loading:!1,finished:!1,count:0,isRouterAlive:!0}},methods:Object(n["a"])({},Object(l["b"])(["getUserData"]),{onLoad:function(){var t=this,a={params:{child_id:this.$route.query.id,is_delete:0}};o["a"].get("/book/babyParent/getList",a).then(function(a){t.count=a.data.count,t.list=a.data.data,t.loading=!1,t.list.length>=a.data.count&&(t.finished=!0)})},onClickRight:function(){this.$router.push({name:"add-family",query:{id:this.$route.query.id}})},by:function(t){var a=this;switch(!0){case t.show_check:o["a"].get("/book/babyParent/check?id=".concat(t.id)).then(function(t){1==t.data.status&&(a.$toast.success("通过审核"),a.reload(),a.onLoad())});break;case t.show_remove:var e={params:{child_id:this.$route.query.id,parent_id:t.parent_id}};o["a"].get("/book/baby/remove_parent",e).then(function(t){switch(t.data.status){case 1:a.$toast(t.data.msg),a.reload(),a.onLoad();break}});break}},out:function(){var t=this;this.$dialog.alert({message:"<div class='text-center'>确定要退出家庭吗</div>",confirmButtonText:"取消",cancelButtonText:"确认",showCancelButton:!0}).then(function(){done()}).catch(function(){var a={params:{child_id:t.$route.query.id}};o["a"].get("/book/baby/del",a).then(function(a){t.getUserData(),t.$router.go(-1)})})},reload:function(){var t=this;this.isRouterAlive=!1,this.$nextTick(function(){return t.isRouterAlive=!0})},toFind:function(){this.$router.push({name:"apps-find"})}})},b=m,p=(e("79a6"),Object(h["a"])(b,i,s,!1,null,"6803d82d",null));a["default"]=p.exports},"79a6":function(t,a,e){"use strict";var i=e("e6d6"),s=e.n(i);s.a},"846a":function(t,a,e){},"97f9":function(t,a,e){"use strict";var i=e("846a"),s=e.n(i);s.a},d1fe:function(t,a,e){"use strict";var i=e("5c0a"),s=e.n(i);s.a},e6d6:function(t,a,e){}}]);
//# sourceMappingURL=chunk-47e1b3d6.a051d7d7.js.map