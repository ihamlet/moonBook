(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f8406f4"],{1689:function(t,e,a){},"5c15":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banji-edit page-padding"},[a("van-nav-bar",{attrs:{title:t.$route.query.pageTitle,border:!1,fixed:"",zIndex:99}},[a("van-button",{staticClass:"theme-btn",attrs:{slot:"right",round:"",type:"primary",size:"small",loading:t.isBtnLoading,"loading-text":"提交中..."},on:{click:t.sumbit},slot:"right"},[t._v(" "+t._s("add"==t.$route.query.pageType&&t.form.banji_id>0?"创建":"提交")+" ")])],1),a("div",{staticClass:"container"},[a("van-cell-group",[a("van-field",{attrs:{label:"班级名称",size:"large",required:"",placeholder:"请输入班级名称","input-align":"right",border:!1},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),a("van-field",{attrs:{label:"班级类型",size:"large",required:"",readonly:"",placeholder:"请选择班级类型","input-align":"right",border:!1},on:{click:function(e){return t.onClickPickerShow("type")}},model:{value:t.form.grade_name,callback:function(e){t.$set(t.form,"grade_name",e)},expression:"form.grade_name"}}),a("van-field",{attrs:{label:"班级邀请码",size:"large",required:"",placeholder:"请输入四位数字班级邀请码","input-align":"right",border:!1},model:{value:t.form.invite_code,callback:function(e){t.$set(t.form,"invite_code",e)},expression:"form.invite_code"}}),a("van-field",{attrs:{label:"班级年份",size:"large",required:"",readonly:"",placeholder:"请选择班级年份","input-align":"right",border:!1},on:{click:function(e){return t.onClickPickerShow("year")}},model:{value:t.form.year,callback:function(e){t.$set(t.form,"year",e)},expression:"form.year"}})],1),t.form.banji_id?a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("div",{staticClass:"list"},[a("van-collapse",{attrs:{border:!1},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("van-collapse-item",{staticClass:"collapse-item",attrs:{name:"teacher",border:!1}},[a("div",{staticClass:"collapse-title flex flex-align",attrs:{slot:"title"},slot:"title"},[t._v("老师")]),a("van-cell",{attrs:{title:"班级通知",value:"发布",size:"large","is-link":""},on:{click:t.notification}},[a("div",{staticClass:"iconfont cell-icon icon-notice jackInTheBox animated",attrs:{slot:"icon"},slot:"icon"},[t._v("")])]),t.form.banji_id>0?a("van-cell",{attrs:{title:"阅读数据",value:"查看",size:"large","is-link":"",border:!1},on:{click:t.toReadData}},[a("div",{staticClass:"iconfont cell-icon icon-data jackInTheBox animated",attrs:{slot:"icon"},slot:"icon"},[t._v("")])]):t._e(),t.teacherList.length?a("div",{staticClass:"teacher-list"},[t.teacherList.length?a("van-cell",[a("div",{staticClass:"list-cell flex flex-align"},[a("div",{staticClass:"invite-code"},[t._v("\n                    添加老师\n                  ")]),a("div",{staticClass:"btn-list flex flex-align"},[a("div",{staticClass:"add theme-color",on:{click:function(e){return t.toList("teacher")}}},[t._v("添加")]),a("div",{staticClass:"share theme-color",on:{click:function(e){return t.toShare("teacher")}}},[t._v("邀请")])])])]):t._e(),t._l(t.teacherList,function(e,i){return a("van-swipe-cell",{key:i,attrs:{"right-width":80}},[e.user_id>0?a("userCard",{attrs:{item:e,type:"list"}}):t._e(),a("div",{staticClass:"swipe-cell-right",attrs:{slot:"right"},on:{click:function(a){return t.outTeacher(e)}},slot:"right"},[a("span",{staticClass:"out-text"},[t._v("请出老师")])])],1)})],2):a("div",{staticClass:"not-content"},[t._v("\n              您可以："),a("span",{staticClass:"theme-color",on:{click:function(e){return t.toList("teacher")}}},[t._v("添加老师")]),t._v("或是"),a("span",{staticClass:"theme-color",on:{click:function(e){return t.toShare("teacher")}}},[t._v("邀请老师")])])],1),a("van-collapse-item",{staticClass:"collapse-item",attrs:{name:"student",border:!1}},[a("div",{staticClass:"collapse-title flex flex-align",attrs:{slot:"title"},slot:"title"},[t._v("学生 "),t.count>0?a("van-tag",{staticClass:"tag",attrs:{round:"",type:"success",size:"medium"}},[t._v(t._s(t.count)+"人")]):t._e()],1),a("div",{staticClass:"student-list"},[t.studentList.length?a("van-cell",[a("div",{staticClass:"list-cell flex flex-align"},[a("div",{staticClass:"invite-code"},[t._v("\n                    邀请码 "+t._s(t.form.invite_code)+"\n                  ")]),a("div",{staticClass:"btn-list flex flex-align"},[a("div",{staticClass:"add theme-color",on:{click:function(e){return t.toList("students")}}},[t._v("添加")]),a("div",{staticClass:"share theme-color",on:{click:function(e){return t.toShare("students")}}},[t._v("邀请")])])])]):t._e(),t.count>0?a("form",{attrs:{action:"/"}},[a("van-search",{attrs:{placeholder:"请输入姓名或手机号",shape:"round"},on:{search:t.onSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("div",{staticClass:"label theme-color",attrs:{slot:"label"},on:{click:t.selectLabel},slot:"label"},[t._v("\n                    "+t._s(t.searchLabel)+"\n                  ")])])],1):t._e(),a("van-list",{attrs:{finished:t.finished,"finished-text":t.$store.state.slogan},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.studentList.length?a("div",{staticClass:"list-container"},t._l(t.studentList,function(t,e){return a("studentCard",{key:e,attrs:{item:t}})}),1):a("div",{staticClass:"no-list"},[t._v("\n                  您可以："),a("span",{staticClass:"theme-color",on:{click:function(e){return t.toList("students")}}},[t._v("添加学生")]),t._v("或是"),a("span",{staticClass:"theme-color",on:{click:function(e){return t.toShare("students")}}},[t._v("邀请学生")])])])],1)])],1)],1)]):a("div",{staticClass:"no-list"},[t._v("\n      请在创建班级成功后添加老师和学生\n    ")])],1),a("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-picker",{attrs:{title:t.pickerTitle,columns:t.columns,"show-toolbar":"","visible-item-count":t.visibleCount},on:{change:t.onChange,cancel:t.onPickerCancel,confirm:function(e){t.show=!1}}})],1)],1)},s=[],n=a("e20c"),o=a("9993"),c=a("d3b8"),r=a("6506"),l=a("591a"),h=a("77e0"),m={name:"banjiEdit",mixins:[h["e"],h["b"]],components:{studentCard:c["a"],userCard:r["a"]},computed:Object(n["a"])({},Object(l["c"])("manage",["manageSchoolInfo"]),{banjiYearArr:function(){var t=[this.classYear+1,this.classYear,this.classYear-1];return t}}),data:function(){return{form:Object(n["a"])({},this.$route.query),studentList:[],teacherList:[],activeNames:[],loading:!1,finished:!1,checkCount:0,count:0,banjiTypeArr:["大班","中班","小班"],show:!1,isBtnLoading:!1,columns:[],pickerType:"type",pickerTitle:"班级类型",inviteCode:"",value:"",visibleCount:3,searchLabel:"全部",page:1}},created:function(){this.fetchData()},watch:{$router:"fetchData",value:function(){this.onSearch()}},methods:Object(n["a"])({},Object(l["d"])("articleSetting",["setTag"]),{fetchData:function(){this.getTeacherList(),this.getStudentList()},getTeacherList:function(){var t=this;this.form.banji_id>0&&(this.activeNames.push("teacher"),o["a"].get("/SchoolManage/teacher/getList",{params:{banji_id:this.form.banji_id}}).then(function(e){switch(e.data.status){case 1:t.teacherList=e.data.data;break;default:t.$toast(e.data.msg)}}))},getStudentList:function(){var t=this;this.form.banji_id>0&&(this.activeNames.push("student"),o["a"].get("/SchoolManage/students/getList",{params:{school_id:this.$route.query.school_id,banji_id:this.form.banji_id,is_banji_confirm:0}}).then(function(e){switch(e.data.status){case 1:t.checkCount=e.data.count;break;default:t.$toast(e.data.msg)}}))},onLoad:function(){var t=this,e={params:{school_id:this.form.school_id,banji_id:this.form.banji_id,keyword:this.value,page:this.page,sort:"confirm"}};switch(this.searchLabel){case"已审核":e.params.is_banji_confirm=1;break;case"未审核":e.params.is_banji_confirm=0;break;case"已办卡":e.params.is_card=1;break;case"未办卡":e.params.is_card=0;break}return o["a"].get("/SchoolManage/students/getList",e).then(function(e){switch(e.data.status){case 1:1==t.page?t.studentList=e.data.data:t.studentList=t.studentList.concat(e.data.data),t.count=e.data.count,t.page++,t.loading=!1,t.studentList.length>=e.data.count&&(t.finished=!0);break;default:t.$toast(e.data.msg)}})},onRefresh:function(){var t=this;this.page=1,this.onLoad().then(function(){t.loading=!1,t.finished=!1})},onChange:function(t,e,a){switch(this.pickerType){case"type":this.form.grade_name=e;break;case"year":this.form.year=e;break;case"filter":this.searchLabel=e,this.onSearch();break}},onPickerCancel:function(){this.form.grade_name=this.$route.query.grade_name,this.show=!1},onClickPickerShow:function(t){switch(this.show=!0,this.pickerType=t,t){case"type":this.columns=this.banjiTypeArr,this.pickerTitle="班级类型";break;case"year":this.columns=this.banjiYearArr,this.pickerTitle="班级年份";break}},sumbit:function(){var t=this,e=/^\d{4}$/,a=/^([\u2E80-\u9FFF]|[a-zA-Z0-9]){1,10}$/;this.form.title?this.form.invite_code?a.test(this.form.title)?this.form.grade_name?e.test(this.form.invite_code)?(this.isBtnLoading=!0,o["a"].post("/SchoolManage/banji/edit",Object(n["a"])({},this.form,{title:this.formatBanjiTitle(this.form.title)})).then(function(e){switch(t.isBtnLoading=!1,e.data.status){case 1:t.$toast.success(e.data.msg),"add"==t.$route.query.pageType?(t.form.banji_id=e.data.data.banji_id,t.form.invite_code=e.data.data.invite_code,t.getTeacherList(e.data.data.banji_id),t.getStudentList(e.data.data.banji_id),t.onRefresh()):t.$router.go(-1);break;default:t.$toast(e.data.msg)}})):this.$toast("班级邀请码输入不正确(4位数字)"):this.$toast("请选择班级类型"):this.$toast("班级名字输入有误(中文、英文、数字且不能包含标点符号和特殊符号)"):this.$toast("请输入四位数字班级邀请码"):this.$toast("请输入班级名称")},toShare:function(t){switch(t){case"students":this.$router.push({name:"share",query:{school_id:this.$route.query.school_id,school_name:this.$route.query.school_name,banji_id:this.form.banji_id,banji_name:this.form.title,invite_code:this.form.invite_code,grade_name:this.form.grade_name,year:this.form.year,user_id:0}});break;case"teacher":this.$router.push({name:"teacherShare",query:Object(n["a"])({},this.form)});break}},toList:function(t){this.$router.push({name:"List",query:Object(n["a"])({},this.$route.query,this.form,{pageType:t})})},outTeacher:function(t){var e=this;this.$dialog.confirm({message:"您确定要请出该老师吗?"}).then(function(){o["a"].post("/SchoolManage/teacher/edit",Object(n["a"])({},t,{banji_id:0,banji_name:""})).then(function(t){switch(t.data.status){case 1:e.$toast.success(t.data.msg),e.getTeacherList();break;default:e.$toast(t.data.msg)}})}).catch(function(){})},selectLabel:function(){this.show=!0,this.visibleCount=5,this.columns=["全部","已审核","未审核","已办卡","未办卡"],this.pickerTitle="筛选",this.pickerType="filter"},onSearch:function(){this.page=1,this.studentList=[],this.onLoad()},notification:function(){this.setTag({portal_name:"班级主页",cate_id:124,cate_name:"班级通知"}),this.$router.push({name:"graphic",query:{pageType:"notice",banji_name:this.form.title,banji_id:this.form.banji_id,school_id:this.manageSchoolInfo.school_id,title:"发布通知到".concat(this.formatBanjiTitle(this.form.title))}})},toReadData:function(){this.$router.push({name:"readData",query:{title:"阅读数据",banji_id:this.form.banji_id,school_id:this.manageSchoolInfo.school_id,banji_name:this.form.title}})}})},d=m,u=(a("7552"),a("17cc")),f=Object(u["a"])(d,i,s,!1,null,"30828749",null);e["default"]=f.exports},6506:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-cell",{attrs:{border:!1},on:{click:t.selectTeacher}},[a("div",{staticClass:"user-card flex flex-align"},[a("div",{staticClass:"info flex flex-align",on:{click:t.toEditPage}},[a("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:t.item.avatar},on:{error:t.imgError}}),a("div",{staticClass:"user-info"},[a("div",{staticClass:"name"},[t._v(t._s(t.item.username))]),a("div",{staticClass:"tags"},[a("van-tag",{attrs:{plain:"",round:"",type:"primary"}},[t._v(t._s(t.item.role_name))])],1),a("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"child flex"},[t._v(t._s(t.formatBanjiTitle(t.item.banji_name))+" "),t.item.banji_name&&t.item.duty?a("span",[t._v("|")]):t._e(),t._v(" "+t._s(t.item.duty))])])]),t.isBtnShow?a("div",{staticClass:"operation-btn flex flex-align"},[a("van-button",{staticClass:"pass",attrs:{size:"small",round:"",type:"info"},on:{click:t.info}},[t._v("详情")]),"list"!=t.type?a("van-button",{staticClass:"past",attrs:{disabled:!(1==t.manageSchoolInfo.is_master&&0==t.item.is_master),size:"small",round:"",type:1==t.item.is_confirm?"warning":"primary"},on:{click:t.past}},[t._v("  "+t._s(1==t.item.is_confirm?"请出":"通过")+" ")]):t._e()],1):a("i",{staticClass:"iconfont icon-arrow"},[t._v("")])]),a("van-popup",{staticClass:"popup-techaer",attrs:{"get-container":"#app"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"popup-close",on:{click:function(e){t.show=!1}}},[a("i",{staticClass:"iconfont"},[t._v("")])]),a("div",{staticClass:"techer-card"},[a("div",{staticClass:"avatar",on:{click:t.toEditPage}},[t.item.avatar?a("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:t.item.avatar},on:{error:t.imgError}}):t._e()]),a("van-cell-group",[t.item.mobile?a("van-cell",{attrs:{title:"手机号",border:!1}},[a("a",{staticClass:"theme-color",attrs:{href:"tel:"+t.item.mobile}},[t._v("请触拨号")])]):t._e(),t.item.username?a("van-cell",{attrs:{title:"姓名",value:t.item.username,border:!1}}):t._e(),t.item.school_name?a("van-cell",{attrs:{title:"学校",value:t.item.school_name,border:!1,"value-class":"info-cell","is-link":""},on:{click:t.toSchool}}):t._e(),t.item.banji_name?a("van-cell",{attrs:{title:"班级",value:t.formatBanjiTitle(t.item.banji_name),"is-link":"",border:!1},on:{click:t.toBanji}}):t._e(),a("van-cell",{attrs:{title:"职位",value:t.item.duty?t.item.duty:"老师",border:!1}}),t.teacherInfo.confirm_user_id>0?a("van-cell",{attrs:{title:"审核人",value:t.teacherInfo.confirm_user_name==t.item.username?"自己":t.teacherInfo.confirm_user_name,border:!1}}):t._e(),a("van-cell",{attrs:{title:"审核时间",value:t.teacherInfo.confirm_date,"value-class":"info-cell",border:!1}})],1),"list"!=t.type&&t.verification("修改老师")?a("div",{staticClass:"popup-footer flex-align flex"},[a("div",{staticClass:"btn"},[a("van-button",{staticClass:"edit",attrs:{size:"small",type:"info",round:"",plain:""},on:{click:t.toEditPage}},[t._v(" 编辑 ")])],1),a("div",{staticClass:"btn"},[a("van-button",{staticClass:"past",attrs:{disabled:!(1==t.manageSchoolInfo.is_master&&0==t.item.is_master),size:"small",round:"",type:1==t.item.is_confirm?"warning":"primary"},on:{click:t.past}},[t._v("  "+t._s(1==t.item.is_confirm?"请出":"通过")+" ")])],1)]):t._e()],1)])],1)},s=[],n=a("e20c"),o=a("9993"),c=a("591a"),r=a("77e0"),l={name:"userCard",mixins:[r["e"],r["g"]],computed:Object(n["a"])({},Object(c["c"])("manage",["manageSchoolInfo"])),props:{item:{type:Object,default:function(){return{avatar:"",username:"",banji_id:0,banji_name:"3",duty:"信息老师",is_confirm:0,is_master:0,mobile:"",school_name:"微美幼儿园",school_id:0,id:0,role_name:""}}},type:{type:String,default:""},isBtnShow:{type:Boolean,default:!0}},data:function(){return{show:!1,teacherInfo:""}},methods:{info:function(){var t=this;o["a"].get("/SchoolManage/teacher/getTeacher",{params:{id:this.item.id}}).then(function(e){switch(e.data.status){case 1:t.show=!0,t.teacherInfo=e.data.data;break;default:t.$toast(e.data.msg)}})},past:function(){var t,e=this,a=1==this.item.is_confirm?"kick":"check";switch(a){case"kick":t="您确定要请出".concat(this.item.username,"老师吗?此操作后，该用户将无法进入学校和班级。");break;case"check":t="您确定要通过".concat(this.item.username,"吗?");break}this.$dialog.confirm({message:t}).then(function(){o["a"].get("/SchoolManage/teacher/".concat(a),{params:{id:e.item.id}}).then(function(t){switch(t.data.status){case 1:e.$toast.success(t.data.msg),e.$emit("statusChange",e.item.id,a);break;default:e.$toast(t.data.msg)}})}).catch(function(){})},toSchool:function(){this.item.school_id>0&&this.$router.push({name:"apps-school",query:{id:this.item.school_id}})},toBanji:function(){this.item.banji_id>0&&this.$router.push({name:"class-home",query:{id:this.item.banji_id,cate_id:116,home_type:"banji"}})},toEditPage:function(){"list"!=this.type&&this.verification("修改老师")&&this.$router.push({name:"teacherEdit",query:Object(n["a"])({},this.teacherInfo,this.item,{type:"edit",title:"成员设置"})})},selectTeacher:function(){this.$emit("selectTeacher",this.item)},imgError:function(t){t.target.src="https://wx.qlogo.cn/mmopen/ajNVdqHZLLBGT5R0spIjic7Pobf19Uw0qc07mwPLicXILrafUXYkhtMTZ0WialrHiadXDKibJsRTux0WvmNuDyYRWDw/0"}}},h=l,m=(a("7870"),a("17cc")),d=Object(m["a"])(h,i,s,!1,null,"152f4454",null);e["a"]=d.exports},7552:function(t,e,a){"use strict";var i=a("9cf47"),s=a.n(i);s.a},7870:function(t,e,a){"use strict";var i=a("eea6"),s=a.n(i);s.a},"9cf47":function(t,e,a){},abd3:function(t,e,a){"use strict";var i=a("1689"),s=a.n(i);s.a},d3b8:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-cell",{attrs:{border:!1}},[a("div",{staticClass:"user-card flex flex-align"},[a("div",{staticClass:"info flex flex-align"},[a("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:t.item.avatar},on:{error:t.imgError,click:function(e){t.show=!0}}}),a("div",{staticClass:"user-info",on:{click:function(e){t.show=!0}}},[a("div",{staticClass:"name"},[t._v(t._s(t.item.name))]),0!=t.activeId?a("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"child flex"},[t._v(t._s(t.item.parent_name?t.item.parent_name+" | ":"")+t._s(t.item.relation_name))]):a("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"child flex"},[t._v(t._s(t.item.banji_name?t.formatBanjiTitle(t.item.banji_name)+" | ":"")+t._s(t.item.parent_name))])])]),t.isBtnShow&&!t.selectShow?a("div",{staticClass:"operation-btn flex flex-align"},[a("van-button",{staticClass:"past",attrs:{size:"small",round:"",type:1==t.item.is_banji_confirm?"warning":"primary"},on:{click:t.past}},[t._v("  "+t._s(1==t.item.is_banji_confirm?"请出":"通过")+" ")])],1):a("div",{staticClass:"select",on:{click:t.selectChild}},[t.select?a("i",{staticClass:"icon-select theme-color iconfont"},[t._v("")]):t.selectShow?a("i",{staticClass:"icon-select to-be-selected  iconfont"},[t._v("")]):t._e()])]),a("van-popup",{staticClass:"popup-techaer",attrs:{"get-container":"#app"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"popup-close",on:{click:function(e){t.show=!1}}},[a("i",{staticClass:"iconfont"},[t._v("")])]),a("div",{staticClass:"techer-card"},[a("div",{staticClass:"avatar"},[a("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:t.item.avatar},on:{error:t.imgError}})]),a("van-cell-group",[a("van-cell",{attrs:{title:"姓名",value:t.item.name,border:!1}}),t.item.parent_name?a("van-cell",{attrs:{title:"家长",value:t.item.parent_name,border:!1,"value-class":"info-cell"}}):t._e(),t.item.parent_mobile?a("van-cell",{attrs:{title:"联系电话",border:!1}},[a("a",{staticClass:"theme-color",attrs:{href:"tel:"+t.item.parent_mobile}},[t._v("请触拨号")])]):t._e(),t.item.school_name?a("van-cell",{attrs:{title:"学校",value:t.item.school_name,border:!1,"value-class":"info-cell","is-link":""},on:{click:t.toSchool}}):t._e(),t.item.banji_name?a("van-cell",{attrs:{title:"班级",value:t.formatBanjiTitle(t.item.banji_name),"is-link":"",border:!1},on:{click:t.toBanji}}):t._e(),t.item.banji_apply_date?a("van-cell",{attrs:{title:"申请时间",value:t.item.banji_apply_date,border:!1}}):t._e()],1),a("div",{staticClass:"popup-footer flex-align flex"},[a("div",{staticClass:"btn"},[a("van-button",{staticClass:"edit",attrs:{size:"small",type:"info",round:"",plain:""},on:{click:t.changeBanji}},[t._v(" 换班 "+t._s(0!=t.activeId?"/转班":"")+" ")])],1),a("div",{staticClass:"btn"},[a("van-button",{staticClass:"past",attrs:{size:"small",round:"",type:1==t.item.is_banji_confirm?"warning":"primary"},on:{click:t.past}},[t._v("  "+t._s(1==t.item.is_confirm?"请出":"通过")+" ")])],1)])],1)])],1)},s=[],n=(a("7364"),a("d4d5"),a("e20c")),o=a("9993"),c=a("77e0"),r=a("591a"),l={name:"userCard",mixins:[c["e"],c["b"]],computed:Object(n["a"])({},Object(r["c"])("manage",["manageSchoolInfo"])),props:{item:{type:Object,default:function(){return{avatar:"",name:"",banji_id:0,banji_name:"3",parent_name:"赵静静",relation_name:"妈妈",is_banji_confirm:0,school_name:"微美幼儿园",parent_mobile:"",school_id:0,id:0}}},activeId:{type:Number,default:0},selectShow:{type:Boolean,default:!1},isBtnShow:{type:Boolean,default:!0}},data:function(){return{show:!1,select:!1}},watch:{selectShow:function(t){t||(this.select=t)}},methods:{past:function(){var t,e=this,a=1==this.item.is_banji_confirm?"kick":"check";switch(a){case"kick":t="您确定要请出".concat(this.item.name,"该学生吗?此操作后，该用户将无法进入").concat(this.item.banji_name?this.formatBanjiTitle(this.item.banji_name):"班级","。");break;case"check":t="您确定要通过".concat(this.item.name,"吗?");break}this.$dialog.confirm({message:t}).then(function(){o["a"].get("/SchoolManage/students/".concat(a),{params:{id:e.item.id}}).then(function(t){switch(t.data.status){case 1:"check"==a?(e.item.is_banji_confirm=1,e.$toast.success("审核通过")):(e.item.is_banji_confirm=0,e.$toast(t.data.msg)),e.$emit("statusChange");break;default:e.$toast(t.data.msg)}})}).catch(function(){})},toSchool:function(){this.item.school_id>0&&this.$router.push({name:"apps-school",query:{id:this.item.school_id}})},toBanji:function(){this.item.banji_id>0&&this.$router.push({name:"class-home",query:{id:this.item.banji_id,cate_id:116,home_type:"banji"}})},changeBanji:function(){"edit"==this.$route.query.pageType?this.$router.push({name:"banjiList",query:{id:this.item.id,names:this.item.name,school_id:this.manageSchoolInfo.school_id,set:"transmit",type:"select",year:this.classYear,back:this.$route.name}}):(this.$emit("selectShowTrue"),this.show=!1,this.selectChild())},imgError:function(t){t.target.src="https://wx.qlogo.cn/mmopen/ajNVdqHZLLBGT5R0spIjic7Pobf19Uw0qc07mwPLicXILrafUXYkhtMTZ0WialrHiadXDKibJsRTux0WvmNuDyYRWDw/0"},selectChild:function(){this.select=!this.select,this.$emit("electChild",this.select,this.item)}}},h=l,m=(a("abd3"),a("17cc")),d=Object(m["a"])(h,i,s,!1,null,"e1574e70",null);e["a"]=d.exports},eea6:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4f8406f4.796c3d4b.js.map