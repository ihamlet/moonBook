(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75647fa7"],{"2b68":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"punch-list page-padding"},[a("van-nav-bar",{attrs:{title:"阅读列表",border:!1,fixed:""}}),a("div",{staticClass:"list"},[a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("van-list",{attrs:{finished:t.finished,"finished-text":t.$store.state.slogan},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.list.length?a("div",{staticClass:"content"},t._l(t.list,function(e,i){return a("van-cell",{key:i},[t.timediff(e,i)?a("div",{staticClass:"date-title"},[t._v(t._s(e.create_date.split(" ")[0]))]):t._e(),a("cardPunch",{attrs:{item:e}})],1)}),1):a("div",{staticClass:"no-list"},[t._v("\n                尚未打卡 "),a("span",{staticClass:"theme-color",on:{click:t.toBabyHome}},[t._v("进入宝贝主页参与阅读打卡")])])])],1)],1)],1)},n=[],s=(a("7bc1"),a("e20c")),o=a("9993"),c=a("2ec8"),r=(a("bec1"),a("591a")),l={name:"punch-list",components:{cardPunch:c["a"]},computed:Object(s["a"])({},Object(r["e"])("openWX",["ready"]),Object(r["c"])(["userDataState"]),{item:function(){var t={cate_name:"打卡",details:"参与阅读打卡，好的习惯贵在坚持",title:"【阅亮书架】阅读打卡"};return t}}),data:function(){return{loading:!1,finished:!1,list:[],page:1,shareShow:!1}},updated:function(){this.wxShare()},watch:{ready:function(){this.wxShare()}},methods:Object(s["a"])({},Object(r["b"])("openWX",["share"]),{wxShare:function(){var t={item:this.item,success:function(){console.log("微信分享")}};this.share(t)},onLoad:function(){var t=this,e={params:{page:this.page,child_id:this.$route.query.id}};return o["a"].get("/book/member/get_read_sign_list",e).then(function(e){switch(e.data.status){case 1:1==t.page?t.list=e.data.data:t.list=t.list.concat(e.data.data),t.loading=!1,t.page++,t.list.length>=e.data.count&&(t.finished=!0);break;case 0:t.page=1,t.loading=!1,t.finished=!0,t.list=[];break}})},onRefresh:function(){var t=this;this.page=1,this.onLoad().then(function(){t.loading=!1,t.finished=!1})},timediff:function(t,e){if(0==e)return!0;var a=this.list[e-1].create_date.split(" ")[0];if(e){var i=a,n=t.create_date.split(" ")[0];return i!=n}},toBabyHome:function(){this.$router.push({name:"baby-home",query:{id:this.userDataState.child_id}})}})},d=l,u=(a("3dbd"),a("17cc")),h=Object(u["a"])(d,i,n,!1,null,"c390d692",null);e["default"]=h.exports},"2ec8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",on:{click:function(e){return t.toBookDetails(t.item)}}},[a("div",{staticClass:"item flex flex-align"},[a("div",{staticClass:"book-cover"},[a("img",{attrs:{src:t.thumb(t.item.book_photo)}})]),a("div",{staticClass:"book-info"},[a("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:2,expression:"2",arg:"20"}],staticClass:"title"},[t._v(t._s(t.item.book_name))]),a("div",{staticClass:"time"},[t._v("打卡时间："+t._s(t.getTime(t.item.create_time)))])]),t.item.book_id>0?a("div",{staticClass:"iconfont"},[t._v("\n        \n      ")]):t._e()])])},n=[],s=(a("3c6b"),a("bec1")),o={name:"card-punch",props:["item"],methods:{thumb:function(t){if(t){var e=t.match(/https?:\/\/(.+?)\//);return e?"/book/api/remotePic?url=".concat(t):t}},toBookDetails:function(t){t.book_id>0&&this.$router.push({name:"book-details",query:{id:t.book_id}})},getTime:function(t){return Object(s["e"])(1e3*t,"HH:mm:ss")}}},c=o,r=(a("c175"),a("17cc")),l=Object(r["a"])(c,i,n,!1,null,"b45906b6",null);e["a"]=l.exports},"3a2f":function(t,e,a){},"3dbd":function(t,e,a){"use strict";var i=a("6b36"),n=a.n(i);n.a},"6b36":function(t,e,a){},c175:function(t,e,a){"use strict";var i=a("3a2f"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-75647fa7.1244d79e.js.map