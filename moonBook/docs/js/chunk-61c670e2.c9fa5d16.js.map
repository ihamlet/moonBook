{"version":3,"sources":["webpack:///./src/components/pages/editor/Graphic.vue?4f6b","webpack:///./src/components/pages/editor/Graphic.vue?92ea","webpack:///src/components/pages/editor/Graphic.vue","webpack:///./src/components/pages/editor/Graphic.vue?ddda","webpack:///./src/components/pages/editor/Graphic.vue","webpack:///./node_modules/_core-js@2.6.9@core-js/modules/_string-context.js","webpack:///./node_modules/_core-js@2.6.9@core-js/modules/_fails-is-regexp.js","webpack:///./src/components/pages/editor/mould/articleSetting.vue?8969","webpack:///./src/components/pages/editor/Graphic.vue?c387","webpack:///./node_modules/_core-js@2.6.9@core-js/modules/es6.string.includes.js","webpack:///./src/components/pages/editor/mould/articleSetting.vue?9b6a","webpack:///src/components/pages/editor/mould/articleSetting.vue","webpack:///./src/components/pages/editor/mould/articleSetting.vue?370b","webpack:///./src/components/pages/editor/mould/articleSetting.vue","webpack:///./src/components/pages/editor/mould/articleSetting.vue?6125"],"names":["_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_Graphic_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_Graphic_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","border","fixed","slot","_v","_s","title","directives","name","rawName","src","userDataState","avatar","loading","percent","loading-text","type","size","round","on","click","onClickRelease","progressIsShow","_e","percentage","show-pivot","color","placeholder","tag","cate_id","icon","rows","autosize","model","value","grapicData","callback","$$v","$set","expression","gutter","_l","item","index","key","span","class","thumb","large","is_video","photo","preview","$event","deletePhoto","uploaderImg","typeUpload","post","childId","child_id","detailsId","post_id","tushu_id","toDetails","toArticle","isWxMsg","onChangeSwitch","switchChange","ref","after-read","onRead","multiple","accept","data-type","hidden","change","doUpload","capture","close-on-click-overlay","$store","state","slogan","staticRenderFns","Graphicvue_type_script_lang_js_","mixins","mixin","components","topicList","articleSetting","articleCard","computed","Object","objectSpread","vuex_esm","imagesLength","photos","length","boolean","data","u","navigator","userAgent","show","actionShow","text","isAndroid","indexOf","isIOS","match","ossSign","mediaContent","photoLength","videoThumb","$route","query","created","fetchData","beforeRouteLeave","to","from","next","meta","keepAlive","watch","handler","val","localStorage","setItem","JSON","stringify","deep","imgList","$router","methods","_this","getItem","parse","api","get","then","res","articleDetailData","params","ajax","id","status","extra","postData","template_id","concat","user","username","book_id","bookDetailData","bookData","sign_read_count","sign_days","upVideo","$nextTick","$refs","fileVideo","selectFileVideo","ready","selectImg","selectPhoto","input","file","_this2","array","push","forEach","element","util","content","toBlob","blob","upOssPhoto","$dialog","alert","message","onSelect","go","_this3","details","banji_id","school_id","is_wx_msg","teacher_school_id","home_type","from_page","teacher_school_name","tags","cate_name","teacher_duty","class_post_count","back","release","commentData","contents","clearImg","$toast","success","replace","teacher_banji_id","getResult","fail","msg","splice","toTopicPage","e","sizeVal","_this4","target","files","dataset","formData","FormData","maxSize","slice","append","url","method","onUploadProgress","p","info","height","width","rotate","duration","Math","floor","upOssMedia","_this5","host","dir","Date","now","path","accessid","policy","signature","loaded","total","is_audio","base64","_this6","img","Image","fd","routeName","num","weChatSwitch","editor_Graphicvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","isRegExp","defined","module","exports","that","searchString","NAME","TypeError","String","MATCH","KEY","re","f","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_articleSetting_vue_vue_type_style_index_0_id_f9883a92_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_articleSetting_vue_vue_type_style_index_0_id_f9883a92_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_Graphic_vue_vue_type_style_index_0_id_cfd8e12c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_Graphic_vue_vue_type_style_index_0_id_cfd8e12c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","$export","context","INCLUDES","P","F","includes","arguments","undefined","classify","is-link","pageType","arrow-direction","selectTagShow","value-class","synchronous","center","isResultShow","title-style","active-value","inactive-value","active-color","inactive-color","label","$emit","checked","position","get-container","settingResult","clickable","toggle","refInFor","cate","cateIndex","selectCate","tagIndex","close","closeTopic","confirm","select","selectTag","articleSettingvue_type_script_lang_js_","props","Number","default","resultList","result","join","selectGroup","groupList","cateName","banjiCateList","babyCateList","routerPath","schoolCateList","cateList","isCateShow","addResult","managerState","removeItem","_fetchData","asyncToGenerator","regeneratorRuntime","mark","_callee","arr","wrap","_context","prev","map","getCateList","portal_name","cateArray","_data","access_level","tag_id","setTag","children","stop","apply","_getCateList","_callee2","portalName","_context2","abrupt","_x","checkboxes","mould_articleSettingvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_articleSetting_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_articleSetting_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-61c670e2.c9fa5d16.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"graphic page-padding\"},[_c('van-nav-bar',{attrs:{\"border\":false,\"fixed\":\"\"}},[(_vm.title)?_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]):_c('div',{staticClass:\"user-info\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{directives:[{name:\"http2https\",rawName:\"v-http2https\"}],attrs:{\"src\":_vm.userDataState.avatar}})])]),_c('div',{staticClass:\"head-bar-btn theme-color\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('van-button',{staticClass:\"theme-btn\",attrs:{\"loading\":_vm.percent != 0,\"loading-text\":\"上传中\",\"type\":\"primary\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.onClickRelease}},[_vm._v(\"发布\")])],1)]),_c('div',{staticClass:\"textarea-module\"},[(_vm.percent!=0&&_vm.percent!=100&&!_vm.progressIsShow)?_c('van-progress',{attrs:{\"percentage\":_vm.percent,\"show-pivot\":false,\"color\":\"linear-gradient(to right, #00BCD4, #0084ff)\"}}):_vm._e(),_c('van-cell-group',[_c('van-field',{staticClass:\"theme-textarea\",attrs:{\"border\":false,\"type\":\"textarea\",\"placeholder\":_vm.tag.cate_id == 99 || _vm.tag.cate_id ==124?'请输入通知内容...':_vm.icon,\"rows\":\"2\",\"autosize\":\"\"},model:{value:(_vm.grapicData.text),callback:function ($$v) {_vm.$set(_vm.grapicData, \"text\", $$v)},expression:\"grapicData.text\"}}),_c('div',{staticClass:\"upload-module flex wrap\"},[_c('van-cell',{attrs:{\"border\":false}},[_c('van-row',{attrs:{\"gutter\":\"4\"}},[_vm._l((_vm.grapicData.photos),function(item,index){return _c('van-col',{key:index,attrs:{\"span\":8}},[_c('div',{staticClass:\"preview img-grid\",class:[item.thumb?'transparent':'']},[_c('img',{staticClass:\"thumb\",attrs:{\"src\":item.thumb,\"large\":item.is_video==1?'':item.photo,\"preview\":\"\"}}),_c('div',{staticClass:\"close-btn\",on:{\"click\":function($event){return _vm.deletePhoto(index)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]),(item.is_video == 1)?_c('van-tag',{staticClass:\"type-tag\",attrs:{\"color\":\"#7232dd\"}},[_vm._v(\"视频\")]):_vm._e()],1)])}),(_vm.boolean)?_c('van-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"img-grid\",on:{\"click\":_vm.uploaderImg}},[_c('div',{staticClass:\"photo-upload\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_c('span',{staticClass:\"directions\"},[_vm._v(_vm._s(_vm.typeUpload?'添加视频':'添加图片'))])])])]):_vm._e()],2)],1)],1),(_vm.post)?_c('div',{staticClass:\"article-card\"},[_c('van-cell',[_c('articleCard',{attrs:{\"item\":_vm.post,\"childId\":_vm.userDataState.child_id,\"detailsId\":_vm.post.post_id || _vm.post.tushu_id},on:{\"toDetails\":_vm.toArticle}})],1)],1):_vm._e()],1)],1),_c('articleSetting',{attrs:{\"type\":\"mould\",\"isWxMsg\":_vm.isWxMsg},on:{\"onChangeSwitch\":_vm.switchChange}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],staticClass:\"media-input\"},[_c('van-uploader',{ref:\"selectPhoto\",attrs:{\"after-read\":_vm.onRead,\"multiple\":\"\"}}),_c('input',{ref:\"selectFileVideo\",attrs:{\"type\":\"file\",\"accept\":\"video/*\",\"data-type\":\"video\",\"hidden\":\"\"},on:{\"change\":_vm.doUpload}}),_c('input',{ref:\"fileVideo\",attrs:{\"type\":\"file\",\"accept\":\"video/*\",\"capture\":\"camcorder\",\"data-type\":\"video\",\"hidden\":\"\"},on:{\"change\":_vm.doUpload}})],1),_c('van-popup',{staticClass:\"progress-popup\",attrs:{\"close-on-click-overlay\":false},model:{value:(_vm.progressIsShow),callback:function ($$v) {_vm.progressIsShow=$$v},expression:\"progressIsShow\"}},[_c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"upload-upload\"},[_vm._v(\"视频正在上传中...\")]),(_vm.percent!=0)?_c('van-progress',{attrs:{\"percentage\":_vm.percent,\"show-pivot\":false,\"color\":\"linear-gradient(to right, #00BCD4, #0084ff)\"}}):_vm._e()],1)]),_c('div',{staticClass:\"slogan\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$store.state.slogan)+\"\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"graphic page-padding\">\r\n    <van-nav-bar :border='false' fixed>\r\n      <div class=\"title\" slot='title' v-if='title'>\r\n        {{title}}\r\n      </div>\r\n      <div class=\"user-info\" slot='title' v-else>\r\n        <div class=\"avatar\">\r\n          <img :src=\"userDataState.avatar\" v-http2https/>\r\n        </div>\r\n      </div>\r\n      <div class=\"head-bar-btn theme-color\" slot=\"right\">\r\n        <van-button :loading='percent != 0' loading-text='上传中' class=\"theme-btn\" type=\"primary\" size=\"small\" @click=\"onClickRelease\" round>发布</van-button>\r\n      </div>\r\n    </van-nav-bar>\r\n\r\n    <div class=\"textarea-module\">\r\n      <van-progress v-if='percent!=0&&percent!=100&&!progressIsShow' :percentage=\"percent\" :show-pivot='false' color=\"linear-gradient(to right, #00BCD4, #0084ff)\" />\r\n      <van-cell-group>\r\n        <van-field :border='false' class=\"theme-textarea\" v-model=\"grapicData.text\" type=\"textarea\" :placeholder=\"tag.cate_id == 99 || tag.cate_id ==124?'请输入通知内容...':icon\" rows=\"2\" autosize />\r\n        <div class=\"upload-module flex wrap\">\r\n          <van-cell :border='false'>\r\n            <van-row gutter=\"4\">\r\n              <van-col :span=\"8\" v-for='(item,index) in grapicData.photos' :key=\"index\">\r\n                <div class=\"preview img-grid\" :class=\"[item.thumb?'transparent':'']\">\r\n                  <img class=\"thumb\" :src=\"item.thumb\" :large=\"item.is_video==1?'':item.photo\" preview />\r\n                  <div class=\"close-btn\" @click=\"deletePhoto(index)\">\r\n                    <i class=\"iconfont\">&#xe647;</i>\r\n                  </div>\r\n                  <van-tag class=\"type-tag\" color=\"#7232dd\" v-if='item.is_video == 1'>视频</van-tag>\r\n                </div>\r\n              </van-col>\r\n              <van-col :span=\"8\" v-if='boolean'>\r\n                <div class=\"img-grid\" @click=\"uploaderImg\">\r\n                  <div class=\"photo-upload\">\r\n                    <i class=\"iconfont\">&#xe664;</i>\r\n                    <span class=\"directions\">{{typeUpload?'添加视频':'添加图片'}}</span>\r\n                  </div>\r\n                </div>\r\n              </van-col>\r\n            </van-row>\r\n          </van-cell>\r\n        </div>\r\n        <div class=\"article-card\" v-if='post'>\r\n          <van-cell>\r\n            <articleCard :item='post' :childId='userDataState.child_id' :detailsId='post.post_id || post.tushu_id' @toDetails='toArticle'/>\r\n          </van-cell>\r\n        </div>\r\n      </van-cell-group>\r\n    </div>\r\n    <!-- 分类设置、同步、设置机构标签 -->\r\n    <articleSetting type='mould' :isWxMsg='isWxMsg' @onChangeSwitch='switchChange'/>\r\n    <div class=\"media-input\" v-show=\"false\">\r\n      <van-uploader ref='selectPhoto' :after-read=\"onRead\" multiple />\r\n      <input type=\"file\" accept=\"video/*\" ref='selectFileVideo' data-type='video' hidden @change='doUpload'>\r\n      <input type=\"file\" accept=\"video/*\" capture=\"camcorder\" ref='fileVideo' data-type='video' hidden @change='doUpload'>\r\n    </div>\r\n\r\n    <van-popup v-model=\"progressIsShow\" class=\"progress-popup\" :close-on-click-overlay='false'>\r\n      <div class=\"progress\">\r\n        <div class=\"upload-upload\">视频正在上传中...</div>\r\n        <van-progress v-if='percent!=0' :percentage=\"percent\" :show-pivot='false' color=\"linear-gradient(to right, #00BCD4, #0084ff)\" />\r\n      </div>\r\n    </van-popup>\r\n\r\n    <div class=\"slogan\">\r\n      {{$store.state.slogan}}\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from './../../lib/js/api'\r\nimport { mapState, mapActions, mapGetters, mapMutations } from 'vuex'\r\nimport topicList from './../../module/release/topicList'\r\nimport articleSetting from './mould/articleSetting'\r\nimport articleCard from './../../module/card/articleCard'\r\nimport { compress,checkHtml } from './../../lib/js/util'\r\nimport { newBanjiTitle } from './../../lib/js/mixin'\r\n\r\nexport default {\r\n  name: 'graphic',\r\n  mixins:[newBanjiTitle],\r\n  components: {\r\n    topicList,\r\n    articleSetting,\r\n    articleCard\r\n  },\r\n  computed: {\r\n    ...mapState('openWX',['ready','imgList']),\r\n    ...mapState('articleSetting', ['group','tag']),\r\n    ...mapGetters('articleSetting',['getResult']),\r\n    ...mapGetters(['userDataState','managerState']),\r\n    imagesLength() {\r\n      return this.grapicData.photos.length\r\n    },\r\n    boolean(){\r\n      let boolean = true\r\n      if(this.typeUpload){\r\n        if(this.imagesLength == 1){\r\n          boolean = false\r\n        }\r\n      }else{\r\n        if(this.imagesLength >= 9){\r\n          boolean = false\r\n        }\r\n      }\r\n      return boolean\r\n    }\r\n  },\r\n  data() {\r\n    let u = navigator.userAgent\r\n    return {\r\n      icon: '\\ue658\\ue65f\\ue65e\\ue661\\ue659\\ue65a\\ue65b\\ue655\\ue660\\ue662',\r\n      show: false,\r\n      actionShow: false,\r\n      grapicData: {\r\n        text: '',\r\n        photos: []\r\n      },\r\n      isAndroid: u.indexOf('Android') > -1 || u.indexOf('Adr') > -1, //安卓终端\r\n      isIOS: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), // ios终端\r\n      ossSign: '',\r\n      mediaContent: [],\r\n      percent: 0,\r\n      photoLength: 0,\r\n      videoThumb:'',\r\n      typeUpload:'',\r\n      post:'',\r\n      progressIsShow: false,\r\n      isWxMsg:1,\r\n      title: this.$route.query.title || ''\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  //去掉页面数据缓存\r\n  beforeRouteLeave(to, from, next) {\r\n    to.meta.keepAlive = false \r\n    next()\r\n  },\r\n  watch: {\r\n    grapicData: {\r\n      handler(val) {\r\n        localStorage.setItem('grapicData',JSON.stringify(val))\r\n      },\r\n      deep: true\r\n    },\r\n    imgList:{\r\n      handler(val) {\r\n        this.grapicData.photos = val\r\n        this.photoLength = val.length\r\n      },\r\n      deep: true\r\n    },\r\n    tag(val){\r\n      switch(val.cate_id){\r\n        case '124':\r\n          this.title = '班级通知'\r\n          this.icon = '请输入班级通知内容...'\r\n          break\r\n        case '116':\r\n          this.title = '课堂阅读'\r\n          this.icon = '请输入...'\r\n          break\r\n        case '99':\r\n          this.title = '学校通知'\r\n          this.icon = '请输入学校通知内容...'\r\n          break\r\n        default:\r\n          this.title = ''\r\n          this.icon = '\\ue658\\ue65f\\ue65e\\ue661\\ue659\\ue65a\\ue65b\\ue655\\ue660\\ue662'\r\n      }\r\n    },\r\n    '$router': 'fetchData'\r\n  },\r\n  methods: {\r\n    ...mapActions('openWX',['selectImg']),\r\n    ...mapActions(['release']),\r\n    ...mapMutations('openWX',['clearImg']),\r\n    fetchData() {\r\n      if (localStorage.getItem('grapicData')) {\r\n        this.grapicData = JSON.parse(localStorage.getItem('grapicData'))\r\n      }\r\n  \r\n      axios.get('/book/api/oss_sign').then(res => {\r\n        this.ossSign = res.data.data\r\n      })\r\n\r\n      //如果路由存在文章ID 说明是转发文章 这里根据id来获取文章详情\r\n      if(this.$route.query.post_id){\r\n        let articleDetailData = {\r\n          params:{\r\n            ajax:1,\r\n            id:this.$route.query.post_id\r\n          }\r\n        }\r\n\r\n        axios.get('/book/SchoolArticle/detail',articleDetailData).then(res => {\r\n          if(res.data.status == 1){\r\n            if(res.data.data.post.extra){\r\n              this.post = JSON.parse(res.data.data.post.extra)\r\n            }else{\r\n              let postData = res.data.data.post\r\n              this.post = {\r\n                title: postData.template_id == 1?`${postData.user.username}的晒一晒`:postData.title, //内容\r\n                post_id: postData.post_id || 0,\r\n                type:'post'\r\n              }\r\n            }\r\n          }\r\n        })\r\n      }\r\n      \r\n      if(this.$route.query.book_id){\r\n        if(this.$route.query.book_id > 0){\r\n          let bookDetailData = {\r\n            params:{\r\n              ajax:1,\r\n              book_id: this.$route.query.book_id,\r\n            }\r\n          }\r\n\r\n          axios.get('/book/ShelfBook/getInfo',bookDetailData).then(res=>{\r\n            if(res.data.status == 1){\r\n              let bookData = res.data.data\r\n              this.post = {\r\n                title: bookData.title, //内容\r\n                tushu_id: bookData.tushu_id || 0,\r\n                sign_read_count: this.$route.query.sign_read_count,\r\n                sign_days: this.$route.query.sign_days,\r\n                type:'book'\r\n              }\r\n            }\r\n          })\r\n        }else{\r\n          this.post = {\r\n            title: '自选图书', //内容\r\n            tushu_id: 0,\r\n            sign_read_count: this.$route.query.sign_read_count,\r\n            sign_days: this.$route.query.sign_days,\r\n            type:'book'\r\n          }    \r\n        }\r\n      }\r\n\r\n      //判断路由自动触发小视频 视频\r\n      if(this.$route.query.upVideo){\r\n        this.$nextTick(() => {\r\n          switch(this.$route.query.upVideo){\r\n            case 1:\r\n              this.$refs.fileVideo.click()\r\n              this.typeUpload = 'fileVideo'\r\n            break\r\n            case 2:\r\n              this.$refs.selectFileVideo.click()\r\n              this.typeUpload = 'selectFileVideo'\r\n            break\r\n          }\r\n        })\r\n      }\r\n    },\r\n    uploaderImg(){\r\n      switch(this.typeUpload){\r\n        case 'fileVideo':\r\n          this.$refs.fileVideo.click()\r\n        break\r\n        case 'selectFileVideo':\r\n          this.$refs.selectFileVideo.click()\r\n        break\r\n        default:\r\n          if(this.ready){\r\n            // 传上传张数\r\n            this.selectImg(9-this.photoLength)\r\n          }else{\r\n            this.$refs.selectPhoto.$refs.input.click()\r\n          }\r\n      }\r\n    },\r\n    onRead(file) {\r\n      let array = []\r\n      if (file.length) {\r\n        array = file\r\n      } else {\r\n        array.push(file)\r\n      }\r\n      array.forEach(element => {\r\n        if (this.photoLength < 9) {\r\n          this.photoLength++\r\n          compress(element.content, 1200, 0.8, 'blob').then(val => {\r\n            val.toBlob((blob) => {\r\n              this.upOssPhoto(blob, element.file, element.content)\r\n            })\r\n          })\r\n        } else {\r\n          this.$dialog.alert({\r\n            message: `<div class='text-center'>最多只能上传9张图片</div>`\r\n          })\r\n        }\r\n      })\r\n    },\r\n    onSelect(item) {\r\n        this.$router.go(-1)\r\n        this.actionShow = false\r\n        this.grapicData = {\r\n          text: '',\r\n          photos: []\r\n        }\r\n    },\r\n    onClickRelease() {\r\n      if (!this.grapicData.text.length && !this.grapicData.photos.length) {\r\n\r\n        if ( this.tag.cate_id == 124 || this.tag.cate_id == 99) {\r\n          this.$toast('请输入通知内容')\r\n        } else if (this.$route.query.back && this.$route.name!='home') {\r\n          this.$router.push({\r\n            name: this.$route.query.back,\r\n            query: {\r\n              id:  this.$route.query.id\r\n            }\r\n          })\r\n        } else {\r\n          this.$router.push({\r\n            name: 'apps-find'\r\n          })\r\n        }\r\n\r\n      }else if(this.grapicData.text.length < 12000) {\r\n          \r\n          // cate_id = 116 课堂阅读\r\n\r\n          // 发布\r\n          let data = {\r\n            details: this.grapicData.text,\r\n            template_id: 1,\r\n            photos: this.grapicData.photos,\r\n            extra: this.post,\r\n            banji_id: this.$route.query.banji_id,\r\n            school_id: this.$route.query.school_id,\r\n            is_wx_msg: this.isWxMsg\r\n          }\r\n\r\n          //老师的班级学校\r\n          if(this.userDataState.teacher_school_id > 0 && this.$route.query.home_type == 'banji'){\r\n            data.from_page = `${this.userDataState.teacher_school_id},${this.userDataState.teacher_school_name}`\r\n            data.tags = this.$route.query.tags || `${this.tag.cate_name},${this.userDataState.teacher_duty},${this.userDataState.class_post_count}`\r\n          }\r\n\r\n          switch(this.$route.query.back){\r\n            case 'baby-home':\r\n              data.child_id = this.$route.query.id\r\n              data.tags = this.$route.query.tags || '宝贝主页'\r\n            break\r\n            case 'class-home':\r\n              data.banji_id = this.$route.query.id\r\n            break\r\n            case 'apps-school':\r\n              data.school_id = this.$route.query.id\r\n            break\r\n          }\r\n          \r\n          this.release(data).then(res=>{\r\n            switch(res.data.status){\r\n              case 1:\r\n\r\n                if(this.$route.query.post_id&&this.$route.query.post_id > 0){\r\n                  let commentData = {\r\n                    post_id: this.post.post_id,\r\n                    contents: '收录了',\r\n                  }\r\n\r\n                  axios.post('/book/SchoolArticleComment/edit?ajax=1', commentData).then(res => {})\r\n                }\r\n\r\n                this.clearImg()\r\n                this.$toast.success('发布成功')\r\n\r\n                // this.tag.cate_id == 124 班级通知\r\n\r\n                if(this.tag.cate_id == 124 || this.tag.cate_id == 116){\r\n                  this.$router.replace({\r\n                    name:'class-home',\r\n                    query:{\r\n                      id: data.banji_id || this.userDataState.teacher_banji_id\r\n                    }\r\n                  })\r\n                }else if( this.tag.cate_id == 99 || this.$route.query.back == 'apps-school'){\r\n                  this.$router.replace({\r\n                    name:'apps-school',\r\n                    query:{\r\n                      id: data.school_id || this.userDataState.teacher_school_id\r\n                    }\r\n                  })\r\n                } else if(this.getResult[0]!=''&&this.getResult[0]!='apps-find'){\r\n                  this.$router.replace({\r\n                    name: this.getResult[0],\r\n                    query:{\r\n                      ...this.$route.query,\r\n                      id: this.getResult[0] == 'baby-home'?this.userDataState.child_id:this.userDataState.teacher_banji_id > 0?this.userDataState.teacher_banji_id:this.userDataState.banji_id\r\n                    }\r\n                  })\r\n                }else{\r\n                  this.$router.replace({\r\n                    name: 'apps-find'\r\n                  })\r\n                }\r\n              break\r\n              default:\r\n                this.$toast.fail(res.data.msg)\r\n            }\r\n          })\r\n        }\r\n    },\r\n    deletePhoto(index) {\r\n      this.grapicData.photos.splice(index, 1)\r\n      this.photoLength--\r\n    },\r\n    toTopicPage() {\r\n      this.show = true\r\n    },\r\n    doUpload(e) {\r\n      let file = e.target.files[0]\r\n      let type = e.target.dataset.type\r\n      let formData = new FormData()\r\n      //  动态获取视频截取大小以获取视频封面\r\n      let size = e.target.files[0].size/1024/1024/2\r\n\r\n      let sizeVal\r\n\r\n      if(this.isIOS){\r\n        sizeVal = 3\r\n      }else{\r\n        sizeVal = size > 3 ? 3 : size\r\n      }\r\n\r\n      let maxSize = 1024 * 1024 * sizeVal\r\n      let blob = file.slice(0, maxSize)\r\n\r\n      formData.append('file',blob,file.name)\r\n\r\n      let url = '/book/file/get_video_screen'\r\n\r\n      axios({\r\n        url: url,\r\n        data: formData,\r\n        method: 'post',\r\n        onUploadProgress: p => {\r\n          this.progressIsShow = true\r\n          this.percent = 1\r\n        }\r\n      }).then( res => {\r\n          let info = res.data.data\r\n          this.grapicData.photos.push({\r\n            thumb: info.thumb,\r\n            height: info.height,\r\n            width: info.width,\r\n            rotate: info.rotate,\r\n            duration: Math.floor(info.duration) || 15\r\n          })\r\n\r\n        this.upOssMedia(type, file)\r\n      })\r\n    },\r\n    upOssMedia(type, file) {\r\n      if (!this.ossSign) {\r\n        alert('未能获取上传参数')\r\n      }\r\n      let url = this.ossSign.host\r\n      let data = new FormData()\r\n      let key = this.ossSign.dir + '/' + Date.now() + file.name\r\n      let path = url + '/' + this.ossSign.dir + '/' + Date.now() + file.name\r\n\r\n      data.append('key', key)\r\n      data.append('OSSAccessKeyId', this.ossSign.accessid)\r\n      data.append('policy', this.ossSign.policy)\r\n      data.append('success_action_status', 200)\r\n      data.append('signature', this.ossSign.signature)\r\n      data.append('file', file)\r\n\r\n      axios({\r\n        url: url,\r\n        data: data,\r\n        method: 'post',\r\n        onUploadProgress: p => {\r\n          this.percent = Math.floor(100 * (p.loaded / p.total))\r\n        }\r\n      }).then((res) => {\r\n        this.grapicData.photos[0].is_audio =  type == 'audio' ? 1 : 0\r\n        this.grapicData.photos[0].is_video =  type == 'video' ? 1 : 0\r\n        this.grapicData.photos[0].photo = path\r\n        this.percent = 0\r\n        this.progressIsShow = false\r\n      })\r\n    },\r\n    upOssPhoto(blob, file, base64) {\r\n      let img = new Image()\r\n      img.src = base64\r\n\r\n      let fd = new FormData()\r\n      let url = this.ossSign.host\r\n      let key = this.ossSign.dir + '/' + Date.now() + file.name\r\n      let path = url + '/' + this.ossSign.dir + '/' + Date.now() + file.name\r\n\r\n      fd.append('key', key)\r\n      fd.append('OSSAccessKeyId', this.ossSign.accessid)\r\n      fd.append('policy', this.ossSign.policy)\r\n      fd.append('success_action_status', 200)\r\n      fd.append('signature', this.ossSign.signature)\r\n      fd.append('file', blob, file.name)\r\n    \r\n      axios({\r\n        url: url,\r\n        data: fd,\r\n        method: 'post',\r\n        onUploadProgress: p => {\r\n          this.percent = Math.floor(100 * (p.loaded / p.total))\r\n        }\r\n      }).then((res) => {\r\n        this.grapicData.photos.push({\r\n          photo: path,\r\n          is_audio: 0,\r\n          is_video: 0,\r\n          thumb: `${path}?x-oss-percent=image/resize,m_fill,h_200,w_200`,\r\n          height: img.height || 0,\r\n          width: img.width || 0\r\n        })\r\n        this.percent = 0\r\n      })\r\n    },\r\n    toArticle(data){\r\n      this.$router.push({\r\n        name:data.routeName,\r\n        query:{\r\n          ...this.$route.query,\r\n          id: data.detailsId\r\n        }\r\n      })\r\n    },\r\n    switchChange(num){\r\n      this.weChatSwitch = num\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.bar {\r\n  height: 2rem /* 32/16 */;\r\n  line-height: 2rem /* 32/16 */;\r\n}\r\n\r\n.text-length.danger {\r\n  color: #f56c6c;\r\n}\r\n\r\n.preview {\r\n  position: relative;\r\n}\r\n\r\n.preview .close-btn {\r\n  width: 1.25rem /* 20/16 */;\r\n  height: 1.25rem /* 20/16 */;\r\n  line-height: 1.25rem /* 20/16 */;\r\n  position: absolute;\r\n  right: 0 /* 5/16 */;\r\n  top: 0 /* 5/16 */;\r\n  text-align: center;\r\n  line-height: 1.25rem /* 20/16 */;\r\n  background: #000;\r\n  color: #fff;\r\n  opacity: 0.5;\r\n}\r\n\r\n.upload-media {\r\n  flex: 5;\r\n}\r\n\r\n.topic {\r\n  flex: 2;\r\n  text-align: center;\r\n}\r\n\r\n.text-length {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.progress {\r\n  padding: 0.625rem /* 10/16 */;\r\n}\r\n\r\n.user-info{\r\n  position: relative;\r\n  width: 100%;\r\n  height: 2.8125rem /* 45/16 */;\r\n}\r\n\r\n.user-info .avatar{\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate3d(-50%, -50%, 0);\r\n}\r\n\r\n.user-info .avatar,\r\n.user-info .avatar img{\r\n  width: 2rem /* 32/16 */;\r\n  height: 2rem /* 32/16 */;\r\n  border-radius: 50%;\r\n}\r\n\r\n.tag {\r\n  margin-left: 0.9375rem /* 15/16 */;\r\n  margin-top: 0.3125rem /* 5/16 */;\r\n}\r\n\r\n.img-grid img.thumb {\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: 50%;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  vertical-align: top;\r\n}\r\n\r\n.type-tag {\r\n  position: absolute;\r\n  bottom: 0.3125rem /* 5/16 */;\r\n  right: 0.3125rem /* 5/16 */;\r\n}\r\n\r\n.img-grid{\r\n  background: #f8f8f8;\r\n}\r\n\r\n.textarea-module{\r\n  padding-top: 2.8125rem /* 45/16 */;\r\n}\r\n\r\n.prompt-text{\r\n  color: #E6A23C;\r\n  background: #fff;\r\n  padding-left: 15px;\r\n}\r\n\r\n.progress-popup{\r\n  background: transparent;\r\n  width: 100%;\r\n  height: 70vh;\r\n}\r\n\r\n.upload-upload{\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.progress{\r\n  color: #fff;\r\n  text-align: center;\r\n}\r\n</style>\r\n<style>\r\n.cell-value.van-cell__value {\r\n  flex: 5;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Graphic.vue?vue&type=template&id=cfd8e12c&scoped=true&\"\nimport script from \"./Graphic.vue?vue&type=script&lang=js&\"\nexport * from \"./Graphic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Graphic.vue?vue&type=style&index=0&id=cfd8e12c&scoped=true&lang=css&\"\nimport style1 from \"./Graphic.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cfd8e12c\",\n  null\n  \n)\n\nexport default component.exports","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","import mod from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=style&index=0&id=f9883a92&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=style&index=0&id=f9883a92&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=style&index=0&id=cfd8e12c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=style&index=0&id=cfd8e12c&scoped=true&lang=css&\"","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-setting\"},[_c('van-cell',{attrs:{\"value\":_vm.classify,\"is-link\":_vm.$route.query.pageType!=\"notice\",\"arrow-direction\":\"down\"},on:{\"click\":_vm.selectTagShow}},[_c('div',{staticClass:\"classify-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\" 分类\\n    \")])]),(((_vm.tag.cate_id!=99&&_vm.tag.cate_id!=124) || _vm.$route.query.tags)&&_vm.$route.query.pageType!=\"notice\")?_c('van-cell',{attrs:{\"title\":\"同步到\",\"value-class\":\"cell-value\",\"value\":_vm.synchronous,\"center\":\"\",\"is-link\":\"\"},on:{\"click\":function($event){_vm.isResultShow = true}}}):_c('van-switch-cell',{attrs:{\"title\":\"微信公众号消息\",\"title-style\":\"flex:3\",\"value-class\":\"switch-cell-value\",\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#67C23A\",\"inactive-color\":\"#f2f6fc\",\"label\":\"通知会通过阅亮书架公众号提醒家长\"},on:{\"change\":function($event){return _vm.$emit(\"onChangeSwitch\",_vm.checked)}},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}}),_c('van-popup',{staticClass:\"page-popup-layer\",attrs:{\"position\":\"bottom\",\"get-container\":\"#app\"},model:{value:(_vm.isResultShow),callback:function ($$v) {_vm.isResultShow=$$v},expression:\"isResultShow\"}},[_c('van-checkbox-group',{model:{value:(_vm.settingResult),callback:function ($$v) {_vm.settingResult=$$v},expression:\"settingResult\"}},[_c('div',{staticClass:\"form-title\"},[_vm._v(\"同步到\")]),_c('van-cell-group',_vm._l((_vm.resultList),function(item,index){return _c('van-cell',{key:index,attrs:{\"border\":false,\"clickable\":\"\",\"title\":item.title},on:{\"click\":function($event){return _vm.toggle(index)}}},[_c('van-checkbox',{ref:\"checkboxes\",refInFor:true,staticClass:\"theme-checkbox\",attrs:{\"name\":item.name}})],1)}),1)],1)],1),_c('van-popup',{staticClass:\"page-popup-layer\",attrs:{\"position\":\"bottom\",\"get-container\":\"#app\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.isCateShow)?_c('div',{staticClass:\"cate-item\"},_vm._l((_vm.schoolCateList),function(item,index){return _c('van-cell-group',{key:index},[_c('van-cell',{attrs:{\"title\":item.name,\"size\":\"large\"}},[_c('i',{staticClass:\"iconfont icon-topic\",attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_vm._v(\"\")])]),_vm._l((item.cateList),function(cate,cateIndex){return _c('van-cell',{key:cateIndex,attrs:{\"is-link\":\"\",\"title\":cate.cate_name},on:{\"click\":function($event){return _vm.selectCate(cate)}}},[_c('i',{staticClass:\"iconfont icon-topic-mini\",attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_vm._v(\"\")])])})],2)}),1):_c('topic-list',{attrs:{\"topicList\":_vm.topicList,\"tagIndex\":_vm.tagIndex,\"cateIndex\":_vm.cateIndex},on:{\"close\":_vm.closeTopic,\"confirm\":function($event){_vm.show = false},\"select\":_vm.selectTag}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"article-setting\">\r\n    <van-cell :value=\"classify\" :is-link='$route.query.pageType!=\"notice\"' arrow-direction=\"down\" @click=\"selectTagShow\">\r\n      <div class=\"classify-title\" slot=\"title\">\r\n        <i class=\"iconfont\">&#xe67c;</i> 分类\r\n      </div>\r\n    </van-cell>\r\n    <van-cell v-if='((tag.cate_id!=99&&tag.cate_id!=124) || $route.query.tags)&&$route.query.pageType!=\"notice\"' title=\"同步到\" value-class='cell-value' :value='synchronous' center is-link @click=\"isResultShow = true\" />\r\n    <van-switch-cell v-model=\"checked\" title=\"微信公众号消息\" title-style='flex:3' value-class='switch-cell-value' :active-value='1' :inactive-value='0' active-color='#67C23A' inactive-color='#f2f6fc' label='通知会通过阅亮书架公众号提醒家长' v-else @change='$emit(\"onChangeSwitch\",checked)'/>\r\n\r\n    <van-popup class=\"page-popup-layer\" position=\"bottom\" v-model=\"isResultShow\" get-container='#app'>\r\n      <van-checkbox-group v-model=\"settingResult\">\r\n        <div class=\"form-title\">同步到</div>\r\n        <van-cell-group>\r\n          <van-cell :border='false' v-for=\"(item,index) in resultList\" clickable :key=\"index\" :title=\"item.title\" @click=\"toggle(index)\">\r\n            <van-checkbox class=\"theme-checkbox\" :name=\"item.name\" ref=\"checkboxes\" />\r\n          </van-cell>\r\n        </van-cell-group>\r\n      </van-checkbox-group>\r\n    </van-popup>\r\n\r\n    <van-popup class=\"page-popup-layer\" position=\"bottom\" v-model=\"show\" get-container='#app'>\r\n      <div class=\"cate-item\" v-if='isCateShow'>\r\n        <van-cell-group v-for='(item,index) in schoolCateList' :key=\"index\">\r\n          <van-cell :title=\"item.name\" size=\"large\">\r\n            <i class=\"iconfont icon-topic\" slot=\"icon\">&#xe67c;</i>\r\n          </van-cell>\r\n          <van-cell is-link v-for='(cate,cateIndex) in item.cateList' :title='cate.cate_name' :key=\"cateIndex\" @click='selectCate(cate)'>\r\n            <i class=\"iconfont icon-topic-mini\" slot=\"icon\">&#xe6d7;</i>\r\n          </van-cell>\r\n        </van-cell-group>\r\n      </div>\r\n      <topic-list v-else @close='closeTopic' @confirm='show = false' @select='selectTag' :topicList='topicList'\r\n        :tagIndex='tagIndex' :cateIndex='cateIndex' />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from './../../../lib/js/api'\r\nimport topicList from './../../../module/release/topicList'\r\nimport { mapState, mapGetters, mapActions, mapMutations } from 'vuex'\r\nimport { contains } from './../../../lib/js/util'\r\n\r\nexport default {\r\n  name: 'article-setting',\r\n  props: {\r\n    isWxMsg:{\r\n      type:Number,\r\n      default: 1\r\n    }\r\n  },\r\n  components: {\r\n    topicList\r\n  },\r\n  computed: {\r\n    ...mapState('articleSetting', ['result', 'group', 'tag']),\r\n    ...mapGetters(['userDataState', 'managerState']),\r\n    synchronous() {\r\n      let array = []\r\n      this.resultList.forEach(element => {\r\n        this.result.forEach(e => {\r\n          if (e == element.name) {\r\n            array.push(element.title)\r\n          }\r\n        })\r\n      })\r\n      return array.join(',')\r\n    },\r\n    classify() {\r\n      let tags\r\n\r\n      if (this.$route.query.tags && this.$route.query.tags != '宝贝主页') {\r\n        tags = this.$route.query.tags\r\n      } else {\r\n        tags = this.tag.cate_name\r\n      }\r\n\r\n      return tags\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      isResultShow: false,\r\n      selectGroup: false,\r\n      loading: false,\r\n      groupList: [],\r\n      resultList: [],\r\n      topicList: [],\r\n      settingResult: [],\r\n      tagIndex: 0,\r\n      cateIndex: 0,\r\n      cateName: '',\r\n      banjiCateList: [],\r\n      babyCateList: [],\r\n      routerPath: ['apps-school', 'class-home', 'baby-home', 'apps-find'],\r\n      schoolCateList: [{\r\n        name: '宝贝主页',\r\n        cateList: []\r\n      }, {\r\n        name: '班级主页',\r\n        cateList: []\r\n      }, {\r\n        name: '学校主页',\r\n        cateList: []\r\n      }],\r\n      isCateShow: false,\r\n      checked: 1,\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    to.meta.keepAlive = false //去掉页面数据缓存\r\n    next()\r\n  },\r\n  watch: {\r\n    \"$router\": 'fetchData',\r\n    settingResult: {\r\n      handler(val) {\r\n        this.addResult(val)\r\n        localStorage.setItem('result', JSON.stringify(val))\r\n      },\r\n      deep: true\r\n    },\r\n    isWxMsg(val){\r\n      this.checked = val\r\n    },\r\n    managerState() {\r\n      localStorage.removeItem('tag')\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['release']),\r\n    ...mapActions('articleSetting', ['addResult']),\r\n    ...mapMutations('articleSetting',['setTag']),\r\n    async fetchData() {\r\n      let array = []\r\n\r\n      array.push({\r\n        title: '发现',\r\n        name: 'apps-find',\r\n        to: 1\r\n      })\r\n\r\n      if (this.userDataState.child_id > 0 && this.$route.query.cate_id != 116) {\r\n        array.push({\r\n          title: '宝贝主页',\r\n          name: 'baby-home',\r\n          to: 1\r\n        })\r\n      }\r\n\r\n      if (this.userDataState.banji_id > 0 || this.userDataState.teacher_school_id > 0) {\r\n        array.push({\r\n          title: `${this.userDataState.teacher_banji_id == this.$route.query.id || this.userDataState.teacher_school_id == this.$route.query.id || this.$route.query.cate_id == 116 ? '管理的' : '宝贝的'}班级`,\r\n          name: 'class-home',\r\n          to: 1\r\n        })\r\n      }\r\n\r\n      this.resultList = array\r\n      // 设置默认\r\n      let arr = []\r\n      array.map(e => {\r\n        arr.push(e.name)\r\n      })\r\n\r\n      this.settingResult = arr\r\n      this.addResult(arr)\r\n\r\n      if (localStorage.getItem('result') && !arr.includes(this.$route.query.back)) {\r\n        this.settingResult = JSON.parse(localStorage.getItem('result'))\r\n        this.addResult(this.settingResult)\r\n      }\r\n\r\n      if (!this.routerPath.includes(this.$route.query.back)) {\r\n        this.isCateShow = true\r\n        await this.getCateList('宝贝主页')\r\n        await this.getCateList('班级主页')\r\n        await this.getCateList('学校主页')\r\n      } else {\r\n        let data = {\r\n          params: {\r\n            portal_name: '宝贝主页'\r\n          }\r\n        }\r\n\r\n        if (this.$route.query.back == 'class-home') {\r\n          data.params.portal_name = '班级主页'\r\n        }\r\n\r\n        if (this.$route.query.back == 'apps-school') {\r\n          data.params.portal_name = '学校主页'\r\n        }\r\n\r\n        axios.get('/book/schoolArticleCate/getList', data).then(res => {\r\n          if (res.status == 200) {\r\n\r\n            let cateArray = res.data\r\n            let data = []\r\n            cateArray.forEach(element => {\r\n              if (element.access_level == 0) {\r\n                data.push(element)\r\n              } else if (this.userDataState.teacher_school_id == this.$route.query.id || this.userDataState.teacher_banji_id == this.$route.query.id) {\r\n                data.push(element)\r\n              }\r\n            })\r\n            this.topicList = data\r\n\r\n            if (this.$route.query.cate_id || this.$route.query.tag_id) {\r\n              cateArray.forEach((element, tagIndex) => {\r\n                if (this.$route.query.tag_id) {\r\n                  if (element.cate_id == this.$route.query.tag_id) {\r\n                    this.tagIndex = tagIndex\r\n                    this.cateName = element.cate_name\r\n                    this.setTag(element)\r\n                  }\r\n                } else {\r\n                  element.children.forEach((e, cateIndex) => {\r\n                    if (e.cate_id == this.$route.query.cate_id) {\r\n                      this.tagIndex = tagIndex\r\n                      this.cateIndex = cateIndex\r\n                      this.cateName = e.cate_name\r\n                      this.setTag(e)\r\n                    }\r\n                  })\r\n                }\r\n              })\r\n            } else {\r\n              if (localStorage.getItem('tag')) {\r\n                this.setTag(JSON.parse(localStorage.getItem('tag')))\r\n              } else {\r\n                this.setTag(data[0])\r\n              }\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    async getCateList(portalName) {\r\n      return axios.get('/book/schoolArticleCate/getList', {\r\n        params: {\r\n          portal_name: portalName\r\n        }\r\n      }).then(res => {\r\n        // return res\r\n        this.schoolCateList.map(e => {\r\n          if (e.name == portalName) {\r\n            e.cateList = res.data\r\n          }\r\n        })\r\n      })\r\n    },\r\n    toggle(index) {\r\n      this.addResult(this.settingResult)\r\n      this.$refs.checkboxes[index].toggle()\r\n    },\r\n    selectTag(tag) {\r\n      this.setTag(tag)\r\n      localStorage.setItem('tag', JSON.stringify(tag))\r\n    },\r\n    closeTopic() {\r\n      this.setTag(this.topicList[this.tagIndex])\r\n      this.show = false\r\n    },\r\n    selectCate(cate){\r\n      this.show = false\r\n      this.setTag(cate)\r\n    },\r\n    selectTagShow(){\r\n      if(this.$route.query.pageType != 'notice'){\r\n        this.show = true\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.group-cell {\r\n  padding: 0.625rem /* 10/16 */;\r\n}\r\n\r\n.cell-link {\r\n  border-radius: 0.625rem /* 10/16 */;\r\n  overflow: hidden;\r\n  box-shadow: 0 0.125rem /* 2/16 */ 0.9375rem /* 15/16 */ rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.icon {\r\n  margin-right: 0.625rem /* 10/16 */;\r\n}\r\n\r\n.icon .iconfont {\r\n  font-size: 1.25rem /* 20/16 */;\r\n  background: linear-gradient(135deg, #00bcd4, #0084ff);\r\n  -webkit-background-clip: text;\r\n  color: transparent;\r\n}\r\n\r\n.footer-bar {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  z-index: 10;\r\n}\r\n\r\n.theme-btn {\r\n  width: 100%;\r\n}\r\n\r\n.cate-item {\r\n  max-height: 60vh;\r\n}\r\n\r\n.icon-topic {\r\n  font-size: 20px;\r\n  background: linear-gradient(127deg, #45caff, #1471fb);\r\n  -webkit-background-clip: text;\r\n  color: transparent;\r\n}\r\n\r\n.icon-topic-mini {\r\n  color: #45caff;\r\n}\r\n\r\n.icon-topic,\r\n.icon-topic-mini {\r\n  margin-right: 5px;\r\n}\r\n\r\n.classify-title .iconfont{\r\n  background: linear-gradient(127deg, #00C2AB,#3E94FF);\r\n  -webkit-background-clip: text;\r\n  color: transparent;\r\n}\r\n</style>\r\n<style>\r\n.theme-checkbox.van-checkbox {\r\n  float: right;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articleSetting.vue?vue&type=template&id=f9883a92&scoped=true&\"\nimport script from \"./articleSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./articleSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articleSetting.vue?vue&type=style&index=0&id=f9883a92&scoped=true&lang=css&\"\nimport style1 from \"./articleSetting.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9883a92\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}