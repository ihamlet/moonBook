(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32ba4841"],{"2c60":function(a,t,e){"use strict";var n=e("c0aa"),i=e.n(n);i.a},"42f2":function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"read-data"},[e("van-nav-bar",{attrs:{title:a.$route.query.title,border:!1}}),e("div",{staticClass:"container"},[e("van-tabs",{attrs:{type:"card",color:"#0084ff",sticky:"",animated:"",swipeable:""},on:{change:a.onChangeTab},model:{value:a.active,callback:function(t){a.active=t},expression:"active"}},a._l(a.tab,function(t,n){return e("van-tab",{key:n,attrs:{title:t.name}},[e("van-pull-refresh",{on:{refresh:a.onRefresh},model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}},[e("van-list",{attrs:{finished:a.finished,"finished-text":a.$store.state.slogan},on:{load:a.onLoad},model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}},[t.length?e("div",{staticClass:"list"}):a._e(),e("div",{staticClass:"no-list"},[a._v("\n                          尚无数据\n                      ")])])],1)],1)}),1)],1)],1)},i=[],s=e("cebc"),o=e("9993"),c=e("591a"),r={name:"readData",computed:Object(s["a"])({},Object(c["c"])(["userPointState"]),{tab:function(){return[{name:"图书借阅",api:"/book/SchoolTushuBorrow/getRank",params:{region:"banji",group:"baby"}},{name:"阅读打卡",api:"/book/SchoolBookSign/getRank",params:{sort:"read_sign",time:"all",city_name:this.userPointState.city}}]}}),data:function(){return{active:0,page:1,loading:!1,finished:!1,list:[]}},methods:{onLoad:function(){var a=this,t=this.tab[this.active],e={params:Object(s["a"])({page:this.page,banji_id:this.$route.query.banji_id,school_id:this.$route.query.school_id},t.params)};return o["a"].get(t.api,e).then(function(t){switch(t.data.status){case 1:1==a.page?a.list=t.data.data:a.list=a.list.concat(t.data.data),a.page++,a.loading=!1,a.list.length>=t.data.count&&(a.finished=!0);break;default:a.$toast(t.data.msg)}})},onRefresh:function(){var a=this;this.page=1,this.onLoad().then(function(){a.loading=!1,a.finished=!1})},onChangeTab:function(a){this.active=a,this.onRefresh()}}},l=r,d=(e("2c60"),e("2877")),u=Object(d["a"])(l,n,i,!1,null,"4016846b",null);t["default"]=u.exports},c0aa:function(a,t,e){}}]);
//# sourceMappingURL=chunk-32ba4841.8052eb0f.js.map