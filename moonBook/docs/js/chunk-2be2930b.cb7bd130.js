(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2be2930b"],{1726:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"banji-rank-page theme-background page-padding"},[e("div",{staticClass:"first-screen"},[!t.userDataState.child_id>0?e("div",{staticClass:"reg-tips flex flex-align"},[e("span",{staticClass:"text"},[t._v("您还未注册，参与阅读请注册")]),e("van-button",{staticClass:"theme-btn",attrs:{type:"primary",size:"small",round:""},on:{click:t.toRegister}},[t._v("注册")])],1):t._e(),e("div",{staticClass:"head"},[e("img",{staticClass:"img-concent star-head flipInY animated",attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/rank/star.png"}}),e("div",{staticClass:"time flex flex-align theme-color"},[e("div",{staticClass:"week-name"},[t._v("上周")]),e("div",{staticClass:"start-week-time"},[t._v(t._s(t.$route.query.startWeekTime))]),e("span",[t._v("-")]),e("div",{staticClass:"end-week-time"},[t._v(t._s(t.$route.query.endWeekTime))])])]),e("div",{staticClass:"home-icon",on:{click:t.toBanjiHome}},[e("img",{attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/rank/home-icon.png"}}),e("div",{staticClass:"school-info flex flex-align"},[e("span",[t._v(t._s(t.$route.query.school_name))]),t._v("丨"),e("span",[t._v(t._s(t.$route.query.title))])])]),e("div",{staticClass:"read-data"},[e("ul",{staticClass:"flex flex-align"},[e("li",{staticClass:"item"},[t._m(0),e("div",{staticClass:"number"},t._l(t.setNumber(t.signStat.child_count),function(a,s){return e("i",{key:s,staticClass:"iconfont"},[t._v(t._s(a))])}),0)]),e("li",{staticClass:"item"},[t._m(1),e("div",{staticClass:"number"},t._l(t.setNumber(t.signStat.count),function(a,s){return e("i",{key:s,staticClass:"iconfont"},[t._v(t._s(a))])}),0)]),e("li",{staticClass:"item"},[t._m(2),e("div",{staticClass:"number"},t._l(t.setNumber(t.signStat.days),function(a,s){return e("i",{key:s,staticClass:"iconfont"},[t._v(t._s(a))])}),0)])])])]),t.userDataState.child_id>0?e("div",{staticClass:"container"},[e("div",{staticClass:"module-list-wrap"},[t._m(3),e("lazy-component",[e("div",{staticClass:"module-list"},[e("div",{staticClass:"card-list"},t._l(t.punchList,function(a,s){return e("div",{key:s,staticClass:"card-item flex flex-align punch-card-item animated bounceInLeft",style:{animationDelay:200*s+"ms"}},[e("div",{staticClass:"child-info flex flex-align"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:a.avatar},on:{error:t.imgError}})]),e("div",{staticClass:"child-name"},[e("div",{staticClass:"name"},[t._v(t._s(a.name))]),e("div",{staticClass:"rank-num"},[t._v("No."+t._s(a.rank))])])]),e("div",{staticClass:"sign-count"},[t._v("\n                "+t._s(a.sign_read_count)+"次\n              ")])])}),0)]),e("img",{staticClass:"module-rank",attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/rank/img-1.png"}})])],1),e("div",{staticClass:"module-list-wrap"},[t._m(4),e("lazy-component",[e("div",{staticClass:"module-list"},[e("div",{staticClass:"card-list"},[e("div",{staticClass:"card-module"},t._l(t.punchList,function(a,s){return e("div",{key:s,staticClass:"card-item flex flex-align"},[e("div",{staticClass:"child-info flex flex-align"},[e("div",{staticClass:"icon-flower rotateIn fadeIn animated"},[e("img",{attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/rank/icon-flower.png"}})]),e("div",{staticClass:"avatar"},[e("img",{attrs:{src:a.avatar},on:{error:t.imgError}})]),e("div",{staticClass:"child-name"},[e("div",{staticClass:"name"},[t._v(t._s(a.name))])])]),e("div",{staticClass:"sign-count"},[t._v("\n                  "+t._s(a.sign_days)+"天\n                ")])])}),0)])]),t.userDataState.teacher_banji_id==t.$route.query.banji_id?e("img",{staticClass:"module-rank-active",attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/rank/img-2.png"},on:{click:t.toManagePage}}):t._e(),e("img",{staticClass:"module-rank-active",attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/rank/img-3.png"},on:{click:t.toRankPage}})])],1)]):t._e()])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"name-title flex flex-align flex-justify"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v(" 打卡人数\n              ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"name-title flex flex-align flex-justify"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v(" 打卡天数\n              ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"name-title flex flex-align flex-justify"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v(" 打卡次数\n              ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"module-title-img"},[e("img",{staticClass:"module-img",attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/rank/module-title.png"}}),e("div",{staticClass:"title"},[t._v("打卡次数最多")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"module-title-img"},[e("img",{staticClass:"module-img",attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/rank/module-title.png"}}),e("div",{staticClass:"title"},[t._v("本周获得小红花")])])}],i=(e("7f7f"),e("28a5"),e("cebc")),c=e("9993"),r=e("75e0"),o=e("591a"),u={name:"banjiRank",computed:Object(i["a"])({},Object(o["c"])(["userDataState"]),Object(o["e"])("openWX",["ready"]),{item:function(){var t={details:"来看看".concat(this.$route.query.school_name,"-").concat(this.$route.query.title,"的上周阅读情况吧~"),title:"阅亮书架 | 班级阅读周总结"};return t}}),data:function(){return{numbers:r["g"],punchList:[],signStat:""}},created:function(){this.fetachData()},updated:function(){this.wxShare()},watch:{$router:"fetachData",ready:function(){this.wxShare()}},methods:Object(i["a"])({},Object(o["b"])("openWX",["share"]),{setNumber:function(t){var a=this;if(t){var e=t.split(""),s=e.map(function(t){return a.numbers[t]});return s}},wxShare:function(){var t=this,a={item:t.item,success:function(){t.$router.go(-1)}};t.share(a)},fetachData:function(){var t=this,a={params:{banji_id:this.$route.query.banji_id,page:1,limit:10}};c["a"].get("/book/SchoolBookSign/getRank",a).then(function(a){switch(a.data.status){case 1:t.punchList=a.data.data;break;default:t.$toast(a.data.msg)}}),c["a"].get("/book/SchoolBanji/getSignStat",a).then(function(a){switch(a.data.status){case 1:t.signStat=a.data.data;break;default:t.$toast(a.data.msg)}})},imgError:function(t){t.target.src="https://wx.qlogo.cn/mmopen/ajNVdqHZLLBGT5R0spIjic7Pobf19Uw0qc07mwPLicXILrafUXYkhtMTZ0WialrHiadXDKibJsRTux0WvmNuDyYRWDw/0"},toManagePage:function(){this.$router.push({name:"banjiEdit",query:Object(i["a"])({},this.$route.query)})},toRankPage:function(){this.$router.push({name:"RankingList"})},toRegister:function(){this.$router.push({name:"edit-child",query:{type:"register",back:this.$route.name}})},toBanjiHome:function(){this.$router.push({name:"class-home",query:Object(i["a"])({id:this.$route.query.banji_id},this.$route.query)})}})},l=u,m=(e("ae29"),e("2877")),d=Object(m["a"])(l,s,n,!1,null,"ba243e32",null);a["default"]=d.exports},"75e0":function(t,a,e){"use strict";e.d(a,"h",function(){return n}),e.d(a,"c",function(){return i}),e.d(a,"k",function(){return r}),e.d(a,"e",function(){return l}),e.d(a,"f",function(){return m}),e.d(a,"i",function(){return d}),e.d(a,"j",function(){return f}),e.d(a,"b",function(){return c}),e.d(a,"a",function(){return o}),e.d(a,"d",function(){return u}),e.d(a,"g",function(){return v});var s=e("cebc"),n=["说一点什么吧，他都能听得到","随心而起，有感而发","千头万绪,落笔汇成评论一句","听说，爱评论的人粉丝多","从小陪伴孩子读绘本，日积月累","陪伴就是给孩子最好的爱","愿你像颗种子，勇敢地冲破泥沙","心似海，不敌诗的咏叹"],i=["👍 棒棒哒","🙆 声音很棒","💪 加油哦","👪 很温馨","👏 非常棒","😊 很可爱哦","👑 继续努力","😄 向你学习","🌞 积少成多","📚 推荐这本书","🏆 很精彩"],c=["再接再厉","向你学习","坚持下去","太厉害了","难能可贵"],r=["聪明在于勤奋，天才在于积累","腹有诗书气自华，读书万卷始通神","少成若天性，习惯如自然","锲而不舍，金石可镂","敏而好学，不耻下问","读书之法，在循序渐进，熟读而精思"],o=["阅读是关系孩子素养发展的重要因素","阅读能够提高孩子的语言技能","亲子阅读是传递亲情的桥梁","阅读可以促进儿童认知能力"],u="<p>一起关爱孩子们的成长，我们可以从阅读做起。阅亮书架，将认真与执着地做着这件事情，同时也吸引了无数有识之士加入其中，和我们一起播撒着幸福的种子。</p><p>在路上，我们满怀期待，愿与您同行......</p>",l=[{name:"好的开始",number:1,type:"punch"},{name:"小试牛刀",number:21,type:"punch"},{name:"坚持不懈",number:50,type:"punch"},{name:"渐入佳境",number:100,type:"punch"},{name:"扬帆远航",number:198,type:"punch"},{name:"持之以恒",number:365,type:"punch"},{name:"学富五车",number:660,type:"punch"},{name:"阅读之星",number:1e3,type:"punch"}],m=[{name:"好的开始",number:1,type:"read"},{name:"小试牛刀",number:20,type:"read"},{name:"坚持不懈",number:60,type:"read"},{name:"渐入佳境",number:120,type:"read"},{name:"扬帆远航",number:300,type:"read"},{name:"持之以恒",number:700,type:"read"},{name:"学富五车",number:1e3,type:"read"},{name:"阅亮之星",number:1500,type:"read"}];function d(t){var a=[];return l.forEach(function(e,n){t>=e.number&&a.push(Object(s["a"])({},e,{level:n+1})),0==t&&a.push(Object(s["a"])({},e,{level:0}))}),a}function f(t){var a=[];return m.forEach(function(e,n){t>=e.number&&a.push(Object(s["a"])({},e,{level:n+1})),0==t&&a.push(Object(s["a"])({},e,{level:0}))}),a}var v=["","","","","","","","","",""]},ae29:function(t,a,e){"use strict";var s=e("ff32"),n=e.n(s);n.a},ff32:function(t,a,e){}}]);