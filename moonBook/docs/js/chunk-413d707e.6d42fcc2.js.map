{"version":3,"sources":["webpack:///./src/components/pages/share.vue?2d8c","webpack:///./src/components/pages/share.vue?a443","webpack:///src/components/pages/share.vue","webpack:///./src/components/pages/share.vue?706d","webpack:///./src/components/pages/share.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_share_vue_vue_type_style_index_0_id_2f5409f7_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_share_vue_vue_type_style_index_0_id_2f5409f7_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","pathData","user_id","userDataState","_v","_e","_l","item","index","key","style","animationDelay","_s","attrs","src","backgroundImg","randomNum","on","click","toClassHome","_m","invite_code","directives","name","rawName","value","expression","arg","school_name","banji_name","codeImgURL","staticRenderFns","sharevue_type_script_lang_js_","computed","Object","objectSpread","vuex_esm","data","cate_name","details","concat","$route","query","title","imgUrl","beforeRouteLeave","to","from","next","pageType","pageTitle","path","lib_default","a","stringify","Math","floor","random","tips","updated","wxShare","created","fetchData","watch","$router","ready","methods","acceptClass","self","$nextTick","success","go","share","qrcode","_qrcode","asyncToGenerator","regeneratorRuntime","mark","_callee","link","wrap","_context","prev","id","banji_id","school_id","location","origin","abrupt","browser_default","toDataURL","then","url","catch","err","console","error","stop","apply","arguments","_acceptClass","_callee2","_this","_context2","res","joinSchool","child_id","joinBanji","getUserData","push","_joinSchool","_callee3","childId","_context3","userPointState","split","params","cityname","city","lat","lng","amap_id","typecode","api","get","_x","_joinBanji","_callee4","_context4","_x2","pages_sharevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-413d707e.6d42fcc2.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./share.vue?vue&type=style&index=0&id=2f5409f7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./share.vue?vue&type=style&index=0&id=2f5409f7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share\"},[(_vm.pathData.user_id == _vm.userDataState.user_id || _vm.pathData.user_id == 0)?_c('div',{staticClass:\"tips\"},[_vm._v(\"点击发送到家庭群或家长 邀请家长加入班级\")]):_vm._e(),_c('div',{staticClass:\"share-cover\"},[_c('div',{staticClass:\"present\"},_vm._l((_vm.tips),function(item,index){return _c('span',{key:index,staticClass:\"animated fadeInUp\",style:({animationDelay:((200*index) + \"ms\")})},[_vm._v(_vm._s(item))])}),0),_c('img',{attrs:{\"src\":_vm.backgroundImg[_vm.randomNum]}})]),_c('div',{staticClass:\"share-info flex flex-align\"},[_c('div',{staticClass:\"join-btn\",on:{\"click\":_vm.toClassHome}},[_vm._m(0),_vm._m(1)]),_c('div',{staticClass:\"code-number\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"班级邀请码\")]),_c('div',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.pathData.invite_code))]),_c('div',{staticClass:\"school-info\"},[_c('div',{directives:[{name:\"line-clamp\",rawName:\"v-line-clamp:20\",value:(2),expression:\"2\",arg:\"20\"}],staticClass:\"school-name\"},[_vm._v(\"\\n          \"+_vm._s(_vm.pathData.school_name)+\"\\n        \")]),_c('div',{staticClass:\"banji-name\"},[_vm._v(\"\\n          \"+_vm._s(_vm.pathData.banji_name)+\"\\n        \")])])]),_c('div',{staticClass:\"code-img\"},[_c('img',{staticClass:\"qr-img\",attrs:{\"src\":_vm.codeImgURL}}),_c('div',{staticClass:\"code-description\"},[_vm._v(\"长按识别二维码 加入班级\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"join-banji theme-background\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"join-text theme-color\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\" \\n        加入班级\\n      \")])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"share\">\r\n    <div class=\"tips\" v-if='pathData.user_id == userDataState.user_id || pathData.user_id == 0'>点击发送到家庭群或家长 邀请家长加入班级</div>\r\n    <div class=\"share-cover\">\r\n      <div class=\"present\">\r\n        <span class=\"animated fadeInUp\" :style=\"{animationDelay:`${200*index}ms`}\" v-for='(item,index) in tips' :key=\"index\">{{item}}</span>\r\n      </div>\r\n\r\n      <img :src=\"backgroundImg[randomNum]\" />\r\n    </div>\r\n    <div class=\"share-info flex flex-align\">\r\n      <div class=\"join-btn\" @click=\"toClassHome\">\r\n        <div class=\"join-banji theme-background\">\r\n          <i class=\"iconfont\">&#xe612;</i>\r\n        </div>\r\n        <div class=\"join-text theme-color\">\r\n          <i class=\"iconfont\">&#xe657;</i> \r\n          加入班级\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"code-number\">\r\n        <div class=\"title\">班级邀请码</div>\r\n        <div class=\"number\">{{pathData.invite_code}}</div>\r\n\r\n        <div class=\"school-info\">\r\n          <div class=\"school-name\" v-line-clamp:20=\"2\">\r\n            {{pathData.school_name}}\r\n          </div>\r\n          <div class=\"banji-name\">\r\n            {{pathData.banji_name}}\r\n          </div>\r\n        </div> \r\n      </div>\r\n      <div class=\"code-img\">\r\n          <img class=\"qr-img\" :src=\"codeImgURL\" />\r\n          <div class=\"code-description\">长按识别二维码 加入班级</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from './../lib/js/api'\r\nimport QRcode from 'qrcode'\r\nimport { mapGetters,mapActions,mapState } from 'vuex'\r\nimport qs from 'qs'\r\n\r\nexport default {\r\n  name: 'share',\r\n  computed: {\r\n    ...mapState('openWX',['ready']),\r\n    ...mapGetters(['userDataState','userPointState']),\r\n    item() {\r\n      let data = {\r\n        cate_name: '邀请',\r\n        details:`老师邀请您加入${this.$route.query.school_name}(${this.$route.query.banji_name})`,\r\n        title: `${this.userDataState.name}老师邀请您加入${this.$route.query.school_name}(${this.$route.query.banji_name})`,\r\n        imgUrl: this.backgroundImg[this.randomNum]\r\n      }\r\n\r\n      return data\r\n    }\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    if(to.name == 'banjiEdit' && to.query.pageType == 'add' ){\r\n      let data = {\r\n        ...from.query,\r\n        pageType: 'edit',\r\n        pageTitle:'设置班级',\r\n        title: from.query.banji_name\r\n      }\r\n      next({path:`/manage/banjiEdit?${qs.stringify(data)}`})\r\n    }else{\r\n      next()\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      codeImgURL:'',\r\n      randomNum: Math.floor(Math.random()*5),\r\n      backgroundImg:[\r\n        'https://assets-moonbook.oss-cn-beijing.aliyuncs.com/banjiShare/class-share-0.png',\r\n        'https://assets-moonbook.oss-cn-beijing.aliyuncs.com/banjiShare/class-share-1.png',\r\n        'https://assets-moonbook.oss-cn-beijing.aliyuncs.com/banjiShare/class-share-2.png',\r\n        'https://assets-moonbook.oss-cn-beijing.aliyuncs.com/banjiShare/class-share-3.png',\r\n        'https://assets-moonbook.oss-cn-beijing.aliyuncs.com/banjiShare/class-share-4.png',\r\n      ],\r\n      pathData: this.$route.query,\r\n      tips:['接收班级通知','了解班级动态']\r\n    }\r\n  },\r\n  updated(){   \r\n    this.wxShare()\r\n  },\r\n  created () {\r\n    this.fetchData()\r\n  },\r\n  watch: {\r\n    '$router':'fetchData',\r\n    ready(){\r\n      this.wxShare()\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['getUserData']),\r\n    ...mapActions('openWX', ['share']),\r\n    fetchData(){\r\n      this.acceptClass()\r\n    },\r\n    wxShare(){\r\n      const self = this\r\n      self.$nextTick(() => {\r\n        let data = {\r\n          item: self.item,\r\n          success() {\r\n            self.$router.go(-1)\r\n          }\r\n        }\r\n        self.share(data)\r\n      })\r\n    },\r\n    async qrcode() {\r\n\r\n      let data = {\r\n        id: this.$route.query.banji_id,\r\n        banji_name: this.$route.query.banji_name,\r\n        banji_id: this.$route.query.banji_id,\r\n        school_id: this.$route.query.school_id,\r\n        school_name: this.$route.query.school_name\r\n      }\r\n\r\n      let link = `${location.origin}/#/class-home?${qs.stringify(data)}`\r\n      return QRcode.toDataURL(link).then(url => {\r\n        return url\r\n      }).catch(err => {\r\n        console.error(err)\r\n      })\r\n    },\r\n    async acceptClass(){\r\n        await this.qrcode().then(res=>{\r\n                this.codeImgURL = res\r\n              })\r\n        if(this.pathData.user_id != this.userDataState.user_id && this.pathData.user_id != 0 && this.userDataState.banji_id != this.pathData.banji_id){\r\n          await this.joinSchool(this.userDataState.child_id)\r\n          await this.joinBanji(this.userDataState.child_id) \r\n          await this.getUserData()\r\n        }\r\n    },\r\n    toClassHome(){\r\n        this.$router.push({\r\n          name:'class-home',\r\n          query:{\r\n            id: this.pathData.banji_id\r\n          }\r\n        })\r\n    },\r\n    async joinSchool(childId) {\r\n      let location = this.userPointState.location.split(',')\r\n      let data = {\r\n          params: {\r\n            child_id: childId,\r\n            school_id: this.pathData.school_id,\r\n            school_name: this.pathData.school_name,\r\n            cityname: this.userPointState.city,\r\n            lat: location[1],\r\n            lng: location[0],\r\n            amap_id: '',\r\n            typecode: ''\r\n          }\r\n        }\r\n        return axios.get('/book/babySchool/bind', data).then(res => {})\r\n    }, \r\n    async joinBanji(childId){\r\n      let data = {\r\n        params:{\r\n          banji_id: this.pathData.banji_id,\r\n          invite_code: this.pathData.invite_code,\r\n          child_id: childId\r\n        }\r\n      }\r\n\r\n      return axios.get('/book/baby/join_banji', data).then(res => { })\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n.share-cover{\r\n  width: 100%;\r\n  height: calc(100vh - 200px);\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.share-cover img{\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  bottom: 0;\r\n}\r\n\r\n.code-img{\r\n  width: 120px;\r\n}\r\n\r\n.code-img img{\r\n  width: 120px;\r\n  height: 120px;\r\n}\r\n\r\n.code-number{\r\n  text-align: center;\r\n}\r\n\r\n.share-info{\r\n  justify-content: space-between;\r\n  background: #fff;\r\n  height: 200px;\r\n  padding: 0 20px;\r\n  position: relative;\r\n}\r\n\r\n.code-description{\r\n  font-size: 15px;\r\n  text-align: center;\r\n}\r\n\r\n.number{\r\n  font-size: 30px;\r\n  color: #000;\r\n  font-weight: 700;\r\n}\r\n\r\n.code-number{\r\n  text-align: left;\r\n  padding: 5px;\r\n  flex: 1;\r\n}\r\n\r\n.banji-name{\r\n  font-size: 14px;\r\n}\r\n\r\n.school-info{\r\n  margin-top: 15px;\r\n}\r\n\r\n.tips {\r\n  position: absolute;\r\n  z-index: 10;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: #fff;\r\n  padding: 0.625rem /* 10/16 */ 1.25rem /* 20/16 */;\r\n  height: 1.75rem /* 28/16 */;\r\n  line-height: 1.75rem /* 28/16 */;\r\n  border-radius: 0.5rem /* 8/16 */;\r\n  right: 0.625rem /* 10/16 */;\r\n  top: 30px;\r\n  font-size: 13px;\r\n}\r\n\r\n.tips::before {\r\n  content: '';\r\n  position: absolute;\r\n  border-right: 0 solid transparent;\r\n  border-left: 15px solid transparent;\r\n  border-bottom: 30px solid#000;\r\n  top: -30px;\r\n  right: 0.5rem /* 8/16 */;\r\n  opacity: 0.7;\r\n}\r\n\r\n.join-btn{\r\n  position: absolute;\r\n  top: -23px;\r\n  z-index: 10;\r\n}\r\n\r\n.join-banji{\r\n  width: 46px;\r\n  height: 46px;\r\n  border-radius: 50%;\r\n  text-align: center;\r\n  line-height: 46px;\r\n}\r\n\r\n.join-banji i.iconfont{\r\n  font-size: 24px;\r\n  color: #fff;\r\n}\r\n\r\n.join-text{\r\n  width: 100px;\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  height: 46px;\r\n  line-height: 46px;\r\n  background: #fff;\r\n  padding:0 0 0 56px;\r\n  z-index: -1;\r\n  border-radius: 46px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  padding-left: 70px;\r\n}\r\n\r\n.join-text .iconfont{\r\n  position: absolute;\r\n  animation: fell 2s ease-in-out infinite;\r\n  display: block;\r\n}\r\n\r\n.present{\r\n  position: absolute;\r\n  z-index: 10;\r\n  bottom: 25px;\r\n  display: grid;\r\n  margin-left: 50px;\r\n  opacity: .8;\r\n}\r\n\r\n.present span{\r\n  display: block;\r\n  height: 26px;\r\n  padding: 5px 15px;\r\n  background: #fff;\r\n  margin-bottom: 5px;\r\n  border-radius: 26px;\r\n  line-height: 26px;\r\n}\r\n\r\n@keyframes fell\r\n{\r\n  0% {left: 45px;}\r\n  50% {left: 55px;}\r\n  100% {left: 45px;}\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./share.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./share.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./share.vue?vue&type=template&id=2f5409f7&scoped=true&\"\nimport script from \"./share.vue?vue&type=script&lang=js&\"\nexport * from \"./share.vue?vue&type=script&lang=js&\"\nimport style0 from \"./share.vue?vue&type=style&index=0&id=2f5409f7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f5409f7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}