(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c7ce1ce"],{"21d3":function(t,a,i){"use strict";var n=i("9a21"),e=i.n(n);e.a},"25be":function(t,a,i){},"2c37":function(t,a,i){"use strict";i.r(a);var n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"ranking-page page-padding"},[i("van-nav-bar",{key:t.$route.query.id,class:t.fixedHeaderBar?"theme-nav":"",attrs:{zIndex:2018,title:"阅读之星榜",fixed:"",border:!1},on:{"click-right":t.onClickRight}},[i("div",{staticClass:"child-avatar",attrs:{slot:"right"},slot:"right"},[i("van-button",{staticClass:"theme-btn more-btn",attrs:{round:"",size:"small",type:"primary"}},[t._v("更多榜单")])],1)]),i("div",{staticClass:"container"},[i("div",{ref:"domHeight",staticClass:"header"},[t.tab[t.topTabIdx].content[t.secondTabIdx]?i("div",{staticClass:"my-info"},[i("card",{attrs:{type:"myInfo",rankingData:t.tab[t.topTabIdx].content[t.secondTabIdx].content.myInfo}})],1):t._e()]),i("van-tabs",{attrs:{color:"#0084ff","line-width":20,"line-height":4,sticky:"",swipeable:"",animated:""},on:{change:t.onTopTabClick}},t._l(t.tab,function(a,n){return i("van-tab",{key:n,attrs:{title:a.title}},[i("div",{staticClass:"content"},[i("van-tabs",{attrs:{color:"#0084ff",type:"card"},on:{disabled:t.onTabDisabledClick,click:t.onTabClick}},t._l(a.content,function(a,n){return i("van-tab",{key:n,attrs:{disabled:a.disabled,title:a.title}},[a.content&&a.content.list.length?i("van-cell-group",t._l(a.content.list,function(a,e){return i("van-cell",{key:e,attrs:{size:"large",center:""},on:{click:function(i){return t.toPage(a)}}},[i("div",{staticClass:"item-cell flex flex-align"},[i("div",{staticClass:"icon"},[i("svg-ranking",{attrs:{ranking:a.rank}})],1),i("div",{staticClass:"cell-box flex flex-align"},[i("div",{staticClass:"title flex flex-align"},[a.babyInfo.avatar?i("div",{staticClass:"avatar",class:a.rank<4?"rank":""},[i("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:a.babyInfo.avatar},on:{error:t.imgError}})]):t._e(),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[t._v(t._s(a.babyInfo.name))]),1==n?i("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"label"},[t._v(t._s(a.banji_name||a.school_name))]):2==n?i("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"label"},[t._v(t._s(a.school_name))]):t._e()])]),i("div",{staticClass:"num"},[t._v("\n                        "+t._s(a.read_count)+"本\n                      ")])])])])}),1):i("div",{staticClass:"no-list"},[t._v("\n                尚无数据\n              ")])],1)}),1)],1)])}),1)],1),i("slogan"),i("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[i("van-picker",{attrs:{columns:t.times},on:{change:t.onChange}})],1)],1)},e=[],s=(i("7364"),i("34a3"),i("e20c")),c=i("ed76"),l=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"card"},[t.rankingData?i("div",{staticClass:"content flex flex-align"},[i("div",{staticClass:"icon",attrs:{slot:"icon"},slot:"icon"},[i("svg-ranking",{attrs:{ranking:t.rankingData.rank}})],1),i("div",{staticClass:"title flex flex-align",attrs:{slot:"title"},slot:"title"},[t.rankingData.info.avatar?i("div",{staticClass:"avatar"},[i("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:t.rankingData.info.avatar},on:{error:t.imgError}})]):t._e(),i("div",{staticClass:"info"},[i("span",{staticClass:"name"},[t._v(t._s(t.rankingData.info.name))]),i("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"label"},[t._v(t._s(t.rankingData.title))])]),i("div",{staticClass:"read"},[t._v(t._s(t.rankingData.info.read_count)+"本")]),i("i",{staticClass:"iconfont"},[t._v("")])])]):t._e()])},r=[],o={name:"my-card",props:["rankingData"],components:{svgRanking:c["a"]},methods:{imgError:function(t){t.target.src="https://wx.qlogo.cn/mmopen/ajNVdqHZLLBGT5R0spIjic7Pobf19Uw0qc07mwPLicXILrafUXYkhtMTZ0WialrHiadXDKibJsRTux0WvmNuDyYRWDw/0"}}},d=o,p=(i("9436"),i("17cc")),h=Object(p["a"])(d,l,r,!1,null,"5ef180ed",null),v=h.exports,g=i("5c8c"),m=i("591a"),u=i("77e0"),b=i("9993"),f=1,k=2,C={"总榜":"all","季榜":"season","上季":"last_season","月榜":"month","上月":"last_month","周榜":"week","上周":"last_week"},_={name:"ranking",mixins:[u["h"]],components:{svgRanking:c["a"],card:v,slogan:g["a"]},computed:Object(s["a"])({},Object(m["c"])(["userDataState"])),data:function(){return{topTabIdx:0,secondTabIdx:0,times:["总榜","季榜","上季","月榜","上月","周榜","上周"],time:"all",show:!1,tab:[{title:"宝贝榜",content:[{title:"同班",type:f,content:"",api:{params:{group:"baby",region:"banji"}}},{title:"同园",type:f,content:"",api:{params:{group:"baby",region:"school"}}},{title:"同城",type:f,content:"",api:{params:{group:"baby",region:"city"}}},{title:"总计",type:k,disabled:!0,content:""}]},{title:"班级榜",content:[{title:"同园",type:f,content:"",api:{params:{group:"banji",region:"school"}}},{title:"同城",type:f,content:"",api:{params:{group:"banji",region:"city"}}},{title:"总计",type:k,disabled:!0,content:"",api:{params:{group:"banji",region:"all"}}}]},{title:"校园榜",content:[{title:"同城",type:f,content:"",api:{params:{group:"school",region:"city"}}},{title:"总计",type:k,content:"",disabled:!0,api:{params:{group:"school",region:"all"}}}]}]}},created:function(){this.getTabContent()},methods:{onTopTabClick:function(t){this.topTabIdx=t,this.secondTabIdx=0,this.getTabContent()},onTabClick:function(t){this.secondTabIdx=t,this.getTabContent()},onTabDisabledClick:function(t){var a=this.tab[this.topTabIdx].content[t];a.type===k&&(this.show=!0)},getTabContent:function(){var t=this,a=this.tab[this.topTabIdx].content[this.secondTabIdx],i=this.$toast.loading({forbidClick:!0,loadingType:"spinner"}),n={params:{group:a.api.params.group,time:a.api.params.time,region:a.api.params.region}};n.params.banji_id=this.userDataState.banji_id>0?this.userDataState.banji_id:this.userDataState.teacher_banji_id,n.params.child_id=this.userDataState.child_id,b["a"].get("/book/SchoolTushuBorrow/getRank",n).then(function(n){i.clear(),1===n.data.status?a.content=n.data.data:t.$toast(n.data.msg)})},onChange:function(t,a,i){this.time=a;var n=this.tab[this.topTabIdx],e=n.content.length-1,s=n.content[e];s.title=a;var c=n.content[this.secondTabIdx];c.api.params.time=C[a],this.getTabContent(),this.show=!1},imgError:function(t){t.target.src="https://wx.qlogo.cn/mmopen/ajNVdqHZLLBGT5R0spIjic7Pobf19Uw0qc07mwPLicXILrafUXYkhtMTZ0WialrHiadXDKibJsRTux0WvmNuDyYRWDw/0"},onClickRight:function(){this.$router.replace({name:"RankingList"})},toPage:function(t){switch(this.topTabIdx){case 0:this.$router.push({name:"baby-home",query:{id:t.child_id,back:this.$route.name}});break;case 1:this.$router.push({name:"class-home",query:{id:t.banji_id,back:this.$route.name}});break;case 2:this.$router.push({name:"apps-school",query:{id:t.school_id,back:this.$route.name}});break}}}},w=_,x=(i("f616"),Object(p["a"])(w,n,e,!1,null,"f1a4adfe",null));a["default"]=x.exports},5821:function(t,a,i){},"5c8c":function(t,a,i){"use strict";var n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"slogan"},[t._v("\n    "+t._s(t.$store.state.slogan)+"\n")])},e=[],s={name:"slogan"},c=s,l=(i("d071"),i("17cc")),r=Object(l["a"])(c,n,e,!1,null,"ef722a5e",null);a["a"]=r.exports},9436:function(t,a,i){"use strict";var n=i("25be"),e=i.n(n);e.a},"9a21":function(t,a,i){},d071:function(t,a,i){"use strict";var n=i("fb28"),e=i.n(n);e.a},ed76:function(t,a,i){"use strict";var n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"svg-icon"},[t.ranking<4?i("div",{staticClass:"icon",class:"ranking-"+t.type},[1==t.ranking?i("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"729"}},[i("path",{attrs:{d:"M392.192 440.32L244.224 367.104c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432L419.84 487.936c1.024-18.432-11.776-39.424-27.648-47.616z m338.944-196.096l-147.968-73.216c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432l10.752-164.864c1.024-17.92-11.264-39.424-27.648-47.616z",fill:"#FEAE30","p-id":"730"}}),i("path",{attrs:{d:"M560.128 725.504c5.632 9.728 16.384 11.264 27.136 5.632l81.92-47.616c8.192-4.608 10.752-14.848 6.144-22.528-4.608-8.192-14.848-10.752-23.04-6.144l-52.736 30.208 13.824-33.28c14.848-36.352 20.48-56.32 6.144-81.408v-0.512c-16.384-28.16-47.616-34.816-78.848-16.384-23.04 13.312-32.256 29.696-36.352 50.688-1.024 4.096 0 9.216 2.048 12.288 5.12 8.192 15.36 11.264 23.552 6.656 5.12-3.072 7.68-7.68 8.192-11.264 3.072-13.824 7.68-22.016 16.896-27.648 11.776-6.656 24.064-4.608 31.744 7.68 7.168 12.288 4.608 25.088-5.12 51.2l-22.528 59.904c-3.072 8.704-3.072 15.872 1.024 22.528z",fill:"#E5E5E5","p-id":"731"}}),i("path",{attrs:{d:"M901.12 506.88c10.752 24.576 6.144 52.224-9.728 72.704-36.864 44.544-118.272 108.544-221.184 168.96-100.352 58.88-193.536 98.816-249.856 110.08-26.624 4.096-53.76-6.144-70.144-27.648 0.512 0.512 0.512 1.024 1.024 1.536L110.08 522.24c0-0.512 0.512 0 0-1.024-6.656-11.776-2.56-26.624 9.216-33.792 4.608-2.56 9.728-3.072 14.336-2.56l222.72 46.08-16.384-294.4c-0.512-12.288 6.144-24.576 17.408-31.232 10.752-6.144 23.552-5.632 33.792 0l248.32 162.304 70.144-211.456v0.512c1.536-6.144 5.632-11.264 11.264-14.848 11.776-6.656 27.136-3.072 33.792 8.704 0.512 0.512 0.512 0 1.024 0l147.968 360.96c-1.024-1.536-2.048-2.56-2.56-4.608z",fill:"#FED530","p-id":"732"}}),i("path",{attrs:{d:"M486.912 425.984c65.536-37.888 149.504-15.36 187.392 50.176 37.888 65.536 15.36 149.504-50.176 187.392-65.536 37.888-149.504 15.36-187.392-50.176s-15.36-148.992 50.176-187.392z",fill:"#FEAE30","p-id":"733"}}),i("path",{attrs:{d:"M584.192 606.208c6.144 10.752 19.456 14.336 30.208 8.192 10.752-6.144 14.336-19.456 8.192-30.208L560.128 481.28c-6.144-10.752-19.456-14.336-30.208-8.192l-0.512 0.512c-5.12 3.072-10.24 7.68-16.384 13.824l-20.48 21.504c-6.656 6.656-7.68 16.384-3.072 24.064 5.12 9.216 17.408 12.288 26.624 6.656 2.048-1.024 4.608-3.072 6.144-5.12l11.776-11.264 50.176 82.944z",fill:"#FED530","p-id":"734"}})]):t._e(),2==t.ranking?i("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"695"}},[i("path",{attrs:{d:"M392.192 440.32L244.224 367.104c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432L419.84 487.936c1.024-18.432-11.776-39.424-27.648-47.616z m338.944-196.096l-147.968-73.216c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432l10.752-164.864c1.024-17.92-11.264-39.424-27.648-47.616z",fill:"#C6C6C6","p-id":"696"}}),i("path",{attrs:{d:"M560.128 725.504c5.632 9.728 16.384 11.264 27.136 5.632l81.92-47.616c8.192-4.608 10.752-14.848 6.144-22.528-4.608-8.192-14.848-10.752-23.04-6.144l-52.736 30.208 13.824-33.28c14.848-36.352 20.48-56.32 6.144-81.408v-0.512c-16.384-28.16-47.616-34.816-78.848-16.384-23.04 13.312-32.256 29.696-36.352 50.688-1.024 4.096 0 9.216 2.048 12.288 5.12 8.192 15.36 11.264 23.552 6.656 5.12-3.072 7.68-7.68 8.192-11.264 3.072-13.824 7.68-22.016 16.896-27.648 11.776-6.656 24.064-4.608 31.744 7.68 7.168 12.288 4.608 25.088-5.12 51.2l-22.528 59.904c-3.072 8.704-3.072 15.872 1.024 22.528z",fill:"#E8E8E8","p-id":"697"}}),i("path",{attrs:{d:"M901.12 506.88c10.752 24.576 6.144 52.224-9.728 72.704-36.864 44.544-118.272 108.544-221.184 168.96-100.352 58.88-193.536 98.816-249.856 110.08-26.624 4.096-53.76-6.144-70.144-27.648 0.512 0.512 0.512 1.024 1.024 1.536L110.08 522.24c0-0.512 0.512 0 0-1.024-6.656-11.776-2.56-26.624 9.216-33.792 4.608-2.56 9.728-3.072 14.336-2.56l222.72 46.08-16.384-294.4c-0.512-12.288 6.144-24.576 17.408-31.232 10.752-6.144 23.552-5.632 33.792 0l248.32 162.304 70.144-211.456v0.512c1.536-6.144 5.632-11.264 11.264-14.848 11.776-6.656 27.136-3.072 33.792 8.704 0.512 0.512 0.512 0 1.024 0l147.968 360.96c-1.024-1.536-2.048-2.56-2.56-4.608z",fill:"#E8E8E8","p-id":"698"}}),i("path",{attrs:{d:"M486.912 425.984c65.536-37.888 149.504-15.36 187.392 50.176 37.888 65.536 15.36 149.504-50.176 187.392-65.536 37.888-149.504 15.36-187.392-50.176s-15.36-148.992 50.176-187.392z",fill:"#C6C6C6","p-id":"699"}}),i("path",{attrs:{d:"M538.112 627.2c5.632 9.216 15.872 10.752 25.6 5.12l77.312-44.544c7.68-4.096 10.24-13.824 5.632-21.504-4.096-7.68-13.824-10.24-21.504-5.632l-49.664 28.672 12.8-31.232c13.824-34.304 19.456-52.736 5.632-76.8v-0.512c-15.36-26.624-45.056-32.768-74.24-15.36-21.504 12.288-30.72 27.648-34.304 47.616-1.024 4.096 0 8.192 2.048 11.776 4.608 7.68 14.336 10.752 22.528 6.144 5.12-2.56 7.168-7.168 8.192-10.752 3.072-13.312 7.168-20.48 15.872-25.6 11.264-6.656 23.04-4.608 29.696 7.68 6.656 11.776 4.608 23.552-5.12 48.128l-20.992 56.32c-3.072 7.168-3.072 14.336 0.512 20.48z",fill:"#E8E8E8","p-id":"700"}})]):t._e(),3==t.ranking?i("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"661"}},[i("path",{attrs:{d:"M392.192 439.296L244.224 366.08c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432L419.84 486.912c1.024-18.432-11.776-39.424-27.648-47.616z m338.944-196.096l-147.968-73.216c-16.384-8.192-30.72 0-31.744 18.432l-10.24 164.864c-1.024 18.432 11.264 39.424 27.648 47.616L716.8 474.112c16.384 8.192 30.72 0 31.744-18.432l10.752-164.864c0.512-17.92-11.776-39.424-28.16-47.616z",fill:"#AA733D","p-id":"662"}}),i("path",{attrs:{d:"M560.128 724.48c5.632 9.728 16.384 11.264 27.136 5.632l81.92-47.616c8.192-4.608 10.752-14.848 6.144-22.528-4.608-8.192-14.848-10.752-23.04-6.144l-52.736 30.208 13.824-33.28c14.848-36.352 20.48-56.32 6.144-81.408v-0.512c-16.384-28.16-47.616-34.816-78.848-16.384-23.04 13.312-32.256 29.696-36.352 50.688-1.024 4.096 0 9.216 2.048 12.288 5.12 8.192 15.36 11.264 23.552 6.656 5.12-3.072 7.68-7.68 8.192-11.264 3.072-13.824 7.68-22.016 16.896-27.648 11.776-6.656 24.064-4.608 31.744 7.68 7.168 12.288 4.608 25.088-5.12 51.2l-22.528 59.904c-3.072 8.704-3.072 15.872 1.024 22.528z",fill:"#E5E5E5","p-id":"663"}}),i("path",{attrs:{d:"M901.12 505.856c10.752 24.576 6.144 52.224-9.728 72.704-36.864 44.544-118.272 108.544-221.184 168.96-100.352 58.88-193.536 98.816-249.856 110.08-26.624 4.096-53.76-6.144-70.144-27.648 0.512 0.512 0.512 1.024 1.024 1.536l-240.128-310.784c0-0.512 0.512 0 0-1.024-6.656-11.776-2.56-26.624 9.216-33.792 4.608-2.56 9.728-3.072 14.336-2.56l222.72 46.08-16.384-294.4c-0.512-12.288 6.144-24.576 17.408-31.232 10.752-6.144 23.552-5.632 33.792 0l248.32 162.304 70.144-211.456v0.512c1.536-6.144 5.632-11.264 11.264-14.848 11.776-6.656 27.136-3.072 33.792 8.704 0.512 0.512 0.512 0 1.024 0l147.968 360.96c-2.048-1.024-3.072-2.048-3.584-4.096z",fill:"#CA9561","p-id":"664"}}),i("path",{attrs:{d:"M486.912 424.96c65.536-37.888 149.504-15.36 187.392 50.176 37.888 65.536 15.36 149.504-50.176 187.392-65.536 37.888-149.504 15.36-187.392-50.176s-15.36-148.992 50.176-187.392z",fill:"#AA733D","p-id":"665"}}),i("path",{attrs:{d:"M600.064 619.52c30.208-17.408 37.888-46.592 23.04-72.192v-0.512c-14.336-25.088-37.888-24.064-57.856-16.896l11.776-40.448c2.56-8.192 3.584-14.336-1.024-21.504-4.608-8.192-13.824-9.216-22.528-4.608L487.936 501.76c-6.656 4.096-9.216 13.312-5.632 19.968 4.096 6.656 13.312 9.216 19.968 5.632l41.472-24.064-10.752 41.472c-2.048 7.168-1.536 11.776 0.512 15.872 4.096 6.656 13.312 9.216 19.968 5.632l4.608-2.56c16.384-9.728 29.696-9.216 36.352 2.048v0.512c5.632 10.24 1.536 20.992-9.728 27.648-10.752 6.144-20.48 7.168-32.256 5.12-3.584-0.512-7.168-0.512-11.776 2.048-7.68 4.608-10.752 14.848-6.144 22.528 2.56 4.096 7.168 6.656 11.264 7.68 16.896 1.536 35.328-1.024 54.272-11.776z",fill:"#CA9561","p-id":"666"}})]):t._e()]):i("div",{staticClass:"icon"},[i("div",{staticClass:"number"},[t._v(t._s(t.ranking>100?"99+":t.ranking))])])])},e=[],s={name:"svg-ranking",props:["ranking","type"]},c=s,l=(i("21d3"),i("17cc")),r=Object(l["a"])(c,n,e,!1,null,"5e380186",null);a["a"]=r.exports},f616:function(t,a,i){"use strict";var n=i("5821"),e=i.n(n);e.a},fb28:function(t,a,i){}}]);
//# sourceMappingURL=chunk-4c7ce1ce.ecf9968d.js.map