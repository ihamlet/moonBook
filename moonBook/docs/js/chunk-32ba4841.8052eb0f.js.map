{"version":3,"sources":["webpack:///./src/manage/module/data/readData.vue?12b9","webpack:///./src/manage/module/data/readData.vue?91dc","webpack:///src/manage/module/data/readData.vue","webpack:///./src/manage/module/data/readData.vue?d045","webpack:///./src/manage/module/data/readData.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_readData_vue_vue_type_style_index_0_id_4016846b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_readData_vue_vue_type_style_index_0_id_4016846b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","$route","query","border","type","color","sticky","animated","swipeable","on","change","onChangeTab","model","value","callback","$$v","active","expression","_l","list","index","key","name","refresh","onRefresh","loading","finished","finished-text","$store","state","slogan","load","onLoad","_e","_v","staticRenderFns","readDatavue_type_script_lang_js_","computed","Object","objectSpread","vuex_esm","tab","api","params","region","group","sort","time","city_name","userPointState","city","data","page","methods","_this","tabActive","banji_id","school_id","get","then","res","status","concat","length","count","$toast","msg","_this2","data_readDatavue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-32ba4841.8052eb0f.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./readData.vue?vue&type=style&index=0&id=4016846b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./readData.vue?vue&type=style&index=0&id=4016846b&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"read-data\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.$route.query.title,\"border\":false}}),_c('div',{staticClass:\"container\"},[_c('van-tabs',{attrs:{\"type\":\"card\",\"color\":\"#0084ff\",\"sticky\":\"\",\"animated\":\"\",\"swipeable\":\"\"},on:{\"change\":_vm.onChangeTab},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tab),function(list,index){return _c('van-tab',{key:index,attrs:{\"title\":list.name}},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":_vm.$store.state.slogan},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[(list.length)?_c('div',{staticClass:\"list\"}):_vm._e(),_c('div',{staticClass:\"no-list\"},[_vm._v(\"\\n                          尚无数据\\n                      \")])])],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"read-data\">\r\n    <van-nav-bar :title=\"$route.query.title\" :border='false'/>\r\n    <div class=\"container\">\r\n        <van-tabs type=\"card\" color='#0084ff' v-model=\"active\" sticky animated swipeable @change='onChangeTab'>\r\n            <van-tab :title=\"list.name\" v-for='(list,index) in tab' :key=\"index\">\r\n                <van-pull-refresh v-model=\"loading\" @refresh=\"onRefresh\">\r\n                    <van-list v-model=\"loading\" :finished=\"finished\" :finished-text=\"$store.state.slogan\" @load=\"onLoad\">\r\n                        <!-- <van-cell v-for=\"item in list\" :key=\"item\" :title=\"item\" /> -->\r\n                        <div class=\"list\" v-if='list.length'>\r\n\r\n                        </div>\r\n                        <div class=\"no-list\">\r\n                            尚无数据\r\n                        </div>\r\n                    </van-list>\r\n                </van-pull-refresh>\r\n            </van-tab>\r\n        </van-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from './../../../components/lib/js/api'\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'readData',\r\n  computed: {\r\n    ...mapGetters(['userPointState']),\r\n    tab(){\r\n       return [{\r\n            name:'图书借阅',\r\n            api:'/book/SchoolTushuBorrow/getRank',\r\n            params:{\r\n                region: 'banji',\r\n                group: 'baby'\r\n            }\r\n        },{\r\n            name:'阅读打卡',\r\n            api:'/book/SchoolBookSign/getRank',\r\n            params:{\r\n                sort: 'read_sign',\r\n                time: 'all',\r\n                city_name: this.userPointState.city\r\n            }\r\n        }]\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      active: 0,\r\n      page: 1,\r\n      loading: false,\r\n      finished: false,\r\n      list: []\r\n    }\r\n  },\r\n  methods: {\r\n    onLoad(){\r\n        let tabActive = this.tab[this.active]\r\n\r\n        let data = {\r\n            params:{\r\n                page: this.page,\r\n                banji_id: this.$route.query.banji_id,\r\n                school_id: this.$route.query.school_id,\r\n                ...tabActive.params\r\n            }\r\n        }\r\n\r\n        return axios.get(tabActive.api,data).then(res=>{\r\n            // console.log(res)\r\n            switch(res.data.status){\r\n                case 1:\r\n                    if(this.page == 1){\r\n                        this.list = res.data.data\r\n                    }else{\r\n                        this.list = this.list.concat(res.data.data)\r\n                    }\r\n\r\n                    this.page++\r\n                    this.loading = false\r\n\r\n                    if(this.list.length >= res.data.count){\r\n                        this.finished = true\r\n                    }\r\n                    break\r\n                default:\r\n                    this.$toast(res.data.msg)\r\n            }\r\n        })\r\n    },\r\n    onRefresh() {\r\n        this.page = 1\r\n        this.onLoad().then(()=>{\r\n            this.loading = false\r\n            this.finished = false\r\n        })\r\n    },\r\n    onChangeTab(index){\r\n        this.active = index\r\n        this.onRefresh()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.container{\r\n    padding-top: 10px;\r\n    background: #fff;\r\n}\r\n\r\n.list{\r\n    margin-top: 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./readData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./readData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./readData.vue?vue&type=template&id=4016846b&scoped=true&\"\nimport script from \"./readData.vue?vue&type=script&lang=js&\"\nexport * from \"./readData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./readData.vue?vue&type=style&index=0&id=4016846b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4016846b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}