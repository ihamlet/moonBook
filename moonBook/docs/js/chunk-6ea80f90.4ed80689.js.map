{"version":3,"sources":["webpack:///./src/components/pages/audio/audioPlayer.vue?0940","webpack:///./src/components/pages/audio/audioPlayer.vue?5e4b","webpack:///./src/components/pages/audio/audioPlayer.vue?0470","webpack:///src/components/pages/audio/audioPlayer.vue","webpack:///./src/components/pages/audio/audioPlayer.vue?970b","webpack:///./src/components/pages/audio/audioPlayer.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_audioPlayer_vue_vue_type_style_index_0_id_2ae36afa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_audioPlayer_vue_vue_type_style_index_0_id_2ae36afa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_audioPlayer_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_audioPlayer_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","audioList","staticClass","ref","attrs","src","audioIndex","photos","photo","controls","hidden","on","pause","onPause","play","onPlay","ended","onEnded","timeupdate","onTimeupdate","loadedmetadata","onLoadedmetadata","class","audio","playing","cover","directives","name","rawName","value","expression","arg","_v","_s","title","touchstart","handleTouchStart","style","sliderTime","_f","currentTime","maxTime","click","$event","show","startPlayOrPause","next","toScrollAetails","border","details","$store","state","slogan","position","model","callback","$$v","_l","item","index","key","selectItem","title-class","is-link","center","slot","_e","staticRenderFns","audioPlayervue_type_script_lang_js_","computed","Object","objectSpread","vuex_esm","data","count","minTime","step","created","fetchData","watch","$router","ready","methods","_this","$toast","loading","params","tid","hasaudio","api","get","then","res","status","clear","$nextTick","_this2","_this3","$refs","parseInt","target","duration","formatProcessToolTip","arguments","length","undefined","util","e","setValue","touches","document","addEventListener","handleTouchMove","handleTouchEnd","changedTouches","removeEventListener","$el","_this$audio","clientX","getBoundingClientRect","left","offsetWidth","Math","round","parseFloat","toFixed","changeCurrentTime","scrollIntoView","behavior","filters","transPlayPause","formatSecond","second","audio_audioPlayervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-6ea80f90.4ed80689.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlayer.vue?vue&type=style&index=0&id=2ae36afa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlayer.vue?vue&type=style&index=0&id=2ae36afa&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlayer.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlayer.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.audioList.length)?_c('div',{staticClass:\"audio-player\"},[_c('audio',{ref:\"audio\",attrs:{\"src\":_vm.audioList[_vm.audioIndex].photos[0].photo,\"controls\":\"controls\",\"hidden\":\"\"},on:{\"pause\":_vm.onPause,\"play\":_vm.onPlay,\"ended\":_vm.onEnded,\"timeupdate\":_vm.onTimeupdate,\"loadedmetadata\":_vm.onLoadedmetadata}}),_c('div',{staticClass:\"audio-container\"},[_c('div',{staticClass:\"disc\",class:_vm.audio.playing?'turn':''},[_c('img',{attrs:{\"src\":_vm.audioList[_vm.audioIndex].cover}})]),_c('div',{staticClass:\"square\"},[_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.audioList[_vm.audioIndex].cover}}),_c('div',{staticClass:\"bg-black\"})]),_c('div',{staticClass:\"control\"},[_c('div',{directives:[{name:\"line-clamp\",rawName:\"v-line-clamp:20\",value:(2),expression:\"2\",arg:\"20\"}],staticClass:\"title\"},[_vm._v(_vm._s(_vm.audioList[_vm.audioIndex].title))]),_c('div',{staticClass:\"progress-bar\"},[_c('div',{staticClass:\"bar\",on:{\"touchstart\":_vm.handleTouchStart}},[_c('div',{staticClass:\"slider-fill\",style:('width:'+_vm.sliderTime+'%')}),_c('div',{staticClass:\"slider-thumb\",style:('left:'+_vm.sliderTime+'%')})]),_c('div',{staticClass:\"time flex flex-align\"},[_c('div',{staticClass:\"start-time\"},[_vm._v(_vm._s(_vm._f(\"formatSecond\")(_vm.audio.currentTime)))]),_c('div',{staticClass:\"end-time\"},[_vm._v(_vm._s(_vm._f(\"formatSecond\")(_vm.audio.maxTime)))])])]),_c('div',{staticClass:\"btn-list flex flex-align\"},[_c('div',{staticClass:\"btn\"},[_c('div',{staticClass:\"palyer-list-btn\",on:{\"click\":function($event){_vm.show = true}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])]),_c('div',{staticClass:\"btn\"},[_c('div',{staticClass:\"player-btn\",on:{\"click\":_vm.startPlayOrPause}},[(_vm.audio.playing)?_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]):_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])]),_c('div',{staticClass:\"btn\"},[_c('div',{staticClass:\"next-btn\",on:{\"click\":_vm.next}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])])])]),_c('div',{staticClass:\"down\",on:{\"click\":_vm.toScrollAetails}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_c('span',{staticClass:\"introduction\"},[_vm._v(\"查看简介\")])])]),_c('div',{staticClass:\"container\"},[_c('van-nav-bar',{attrs:{\"border\":false,\"title\":\"故事简介\"}}),_c('div',{ref:\"details\",staticClass:\"details\"},[_vm._v(\"\\n      \"+_vm._s(_vm.audioList[_vm.audioIndex].details)+\"\\n    \")])],1),_c('div',{staticClass:\"slogan\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$store.state.slogan)+\"\\n  \")]),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"list scroll-y\"},_vm._l((_vm.audioList),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectItem(item,index)}}},[_c('van-cell',{attrs:{\"title-class\":index==_vm.audioIndex?\"active\":\"\",\"title\":item.title,\"is-link\":\"\",\"center\":\"\"}},[(index==_vm.audioIndex)?_c('div',{staticClass:\"icon\",attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]):_vm._e()])],1)}),0)])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"audio-player\"  v-if='audioList.length'>\r\n    <audio ref=\"audio\" @pause=\"onPause\" @play=\"onPlay\" @ended='onEnded' @timeupdate=\"onTimeupdate\" @loadedmetadata=\"onLoadedmetadata\"  :src=\"audioList[audioIndex].photos[0].photo\" controls=\"controls\" hidden></audio>\r\n\r\n    <div class=\"audio-container\">\r\n      <div class=\"disc\" :class=\"audio.playing?'turn':''\">\r\n        <img :src=\"audioList[audioIndex].cover\"/>\r\n      </div>\r\n      <div class=\"square\">\r\n        <img class=\"cover\" :src=\"audioList[audioIndex].cover\"/>\r\n        <div class=\"bg-black\"></div>\r\n      </div>\r\n      <div class=\"control\">\r\n        <div class=\"title\" v-line-clamp:20=\"2\">{{audioList[audioIndex].title}}</div>\r\n        <div class=\"progress-bar\">\r\n            <div class=\"bar\" @touchstart=\"handleTouchStart\">\r\n                <div class=\"slider-fill\" :style=\"'width:'+sliderTime+'%'\"></div>\r\n                <div class=\"slider-thumb\" :style=\"'left:'+sliderTime+'%'\"></div>\r\n            </div>\r\n          <div class=\"time flex flex-align\">\r\n            <div class=\"start-time\">{{audio.currentTime|formatSecond}}</div>\r\n            <div class=\"end-time\">{{audio.maxTime|formatSecond}}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"btn-list flex flex-align\">\r\n          <div class=\"btn\">\r\n            <div class=\"palyer-list-btn\" @click=\"show = true\">\r\n              <i class=\"iconfont\">&#xe6b0;</i>\r\n            </div>\r\n          </div>\r\n          <div class=\"btn\">\r\n            <div class=\"player-btn\" @click=\"startPlayOrPause\">\r\n              <i class=\"iconfont\" v-if='audio.playing'>&#xe639;</i>\r\n              <i class=\"iconfont\" v-else>&#xe61e;</i>\r\n            </div>\r\n          </div>\r\n          <div class=\"btn\">\r\n            <div class=\"next-btn\" @click=\"next\">\r\n              <i class=\"iconfont\">&#xe637;</i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"down\" @click=\"toScrollAetails\">\r\n        <i class=\"iconfont\">&#xe6c4;</i>\r\n        <span class=\"introduction\">查看简介</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"container\">\r\n      <van-nav-bar :border='false' title=\"故事简介\"/>\r\n      <div class=\"details\" ref='details'>\r\n        {{audioList[audioIndex].details}}\r\n      </div>\r\n    </div>\r\n    <div class=\"slogan\">\r\n        {{$store.state.slogan}}\r\n    </div>\r\n\r\n\r\n    <van-popup v-model=\"show\" position=\"bottom\">\r\n        <div class=\"list scroll-y\">\r\n            <div class=\"item\" v-for='(item,index) in audioList' :key=\"index\" @click=\"selectItem(item,index)\">\r\n              <van-cell :title-class='index==audioIndex?\"active\":\"\"' :title=\"item.title\" is-link center>\r\n                <div class=\"icon\" slot='icon' v-if='index==audioIndex'>\r\n                  <i class=\"iconfont\">&#xe639;</i>\r\n                </div>\r\n              </van-cell>\r\n            </div>\r\n        </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from './../../lib/js/api'\r\nimport { realFormatSecond } from './../../lib/js/util'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'audio-player',\r\n  computed: {\r\n    ...mapState('openWX',['ready']),\r\n  },\r\n  data() {\r\n    return {\r\n      count:0,\r\n      audioList: [],\r\n      audioIndex: 0,\r\n      show: false,\r\n      sliderTime:0,\r\n      audio:{\r\n          playing:false,\r\n          currentTime:0,\r\n          maxTime:0,\r\n          minTime:0,\r\n          step:0.1\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  watch: {\r\n    '$router': 'fetchData',\r\n    ready(){\r\n      this.play()\r\n    }\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      this.$toast.loading()\r\n\r\n      let data = {\r\n        params: {\r\n          tid: 57,\r\n          hasaudio: 1\r\n        }\r\n      }\r\n      axios.get('/book/SchoolArticle/getList', data).then(res => {\r\n        switch (res.data.status) {\r\n          case 1:\r\n            this.audioList = res.data.data\r\n            this.count = res.data.count\r\n            this.$toast.clear()\r\n            this.$nextTick(()=>{\r\n                this.play()\r\n            })\r\n            break\r\n        }\r\n      })\r\n    },\r\n    selectItem(item,index){\r\n        this.audioIndex = index\r\n        this.show = false\r\n        this.$nextTick(()=>{\r\n            this.play()\r\n        })\r\n    },\r\n    next(){\r\n       this.audioIndex < this.count?this.audioIndex++:this.audioIndex=0\r\n       this.$nextTick(()=>{\r\n            this.play()\r\n        })            \r\n    },\r\n    startPlayOrPause() {\r\n        return this.audio.playing ? this.pause() : this.play()\r\n    },\r\n    play(){\r\n        this.$refs.audio.play()\r\n    },\r\n    pause(){\r\n        this.$refs.audio.pause()\r\n    },\r\n    onPause(){\r\n        this.audio.playing = false\r\n    },\r\n    onPlay(){\r\n        this.audio.playing = true\r\n    },\r\n    onEnded(){\r\n        this.next()\r\n    },\r\n    onLoadedmetadata(res){\r\n        this.audio.maxTime = parseInt(res.target.duration)\r\n    },\r\n    onTimeupdate(res){\r\n        this.audio.currentTime = res.target.currentTime\r\n        this.sliderTime = parseInt(this.audio.currentTime / this.audio.maxTime * 100)\r\n    },\r\n    formatProcessToolTip(index = 0) {\r\n        index = parseInt(this.audio.maxTime / 100 * index)\r\n        return '进度条: ' + realFormatSecond(index)\r\n    },\r\n    handleTouchStart(e) {\r\n        this.setValue(e.touches[0])\r\n        document.addEventListener('touchmove', this.handleTouchMove)\r\n        document.addEventListener('touchup', this.handleTouchEnd)\r\n        document.addEventListener('touchend', this.handleTouchEnd)\r\n        document.addEventListener('touchcancel', this.handleTouchEnd)\r\n    },\r\n    handleTouchMove(e){\r\n        this.setValue(e.changedTouches[0])\r\n    },\r\n    handleTouchEnd(e) {\r\n        this.setValue(e.changedTouches[0])\r\n        document.removeEventListener('touchmove', this.handleTouchMove)\r\n        document.removeEventListener('touchup', this.handleTouchEnd)\r\n        document.removeEventListener('touchend', this.handleTouchEnd)\r\n        document.removeEventListener('touchcancel', this.handleTouchEnd)\r\n    },\r\n    setValue(e) {\r\n        const $el=this.$el\r\n        const {\r\n            maxTime,\r\n            minTime,\r\n            step\r\n        } = this.audio\r\n        let value = (e.clientX - $el.getBoundingClientRect().left) / $el.offsetWidth * (maxTime - minTime)\r\n        value = Math.round(value / step) * step + minTime\r\n        value = parseFloat(value.toFixed(5))\r\n\r\n        if (value > maxTime) {\r\n            value = maxTime;\r\n        } else if (value < minTime) {\r\n            value = minTime\r\n        }\r\n        this.$refs.audio.currentTime = value\r\n    },\r\n    changeCurrentTime(index){\r\n        this.$refs.audio.currentTime = parseInt(index / 100 * this.audio.maxTime)\r\n    },\r\n    toScrollAetails(){\r\n      this.$refs.details.scrollIntoView({\r\n        behavior:'smooth'\r\n    })\r\n  },\r\n  },\r\n  filters: {\r\n        transPlayPause(value) {\r\n            return value ? '暂停' : '播放'\r\n        },\r\n        formatSecond(second = 0) {\r\n            return realFormatSecond(second)\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.audio-player {\r\n  width: 100%;\r\n  background: #fff;\r\n}\r\n\r\n.audio-container {\r\n  position: relative;\r\n}\r\n\r\n.square {\r\n  width: 100%;\r\n  height: 100vh;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.cover{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    z-index: 1;\r\n    background: inherit;\r\n    filter: blur(4px);\r\n}\r\n\r\n.disc,\r\n.disc img {\r\n  border-radius: 50%;\r\n}\r\n\r\n.disc {\r\n  width: 180px;\r\n  height: 180px;\r\n  position: absolute;\r\n  left: 50%;\r\n  bottom: 50%;\r\n  margin-left: -100px;\r\n  overflow: hidden;\r\n  border: 10px solid rgba(0, 0, 0, 0.5);\r\n  box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);\r\n  z-index: 10;\r\n}\r\n\r\n.disc img {\r\n  width: 174px;\r\n  height: 174px;\r\n  border: 3px solid #fff;\r\n}\r\n\r\n.bg-black {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  position: absolute;\r\n  z-index: 2;\r\n}\r\n\r\n.control {\r\n  position: absolute;\r\n  bottom: 80px;\r\n  width: 100%;\r\n  z-index: 10;\r\n}\r\n\r\n.btn-list {\r\n  margin: 0 auto;\r\n}\r\n\r\n.btn-list div {\r\n  flex: 1;\r\n}\r\n\r\n.btn {\r\n  color: #fff;\r\n}\r\n\r\n.player-btn {\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  text-align: center;\r\n  line-height: 60px;\r\n}\r\n\r\n.player-btn i.iconfont {\r\n  font-size: 35px;\r\n  background: linear-gradient(127deg, #ff9800, #e91e63);\r\n  -webkit-background-clip: text;\r\n  color: transparent;\r\n  text-shadow: 0 0.0625rem /* 1/16 */ 0.375rem /* 6/16 */ rgba(233, 30, 99, 0.3);\r\n}\r\n\r\n.player-btn,\r\n.palyer-list-btn,\r\n.next-btn {\r\n  margin: 0 auto;\r\n  text-align: center;\r\n}\r\n\r\n.palyer-list-btn i.iconfont,\r\n.next-btn i.iconfont {\r\n  font-size: 35px;\r\n}\r\n\r\n.btn-list,\r\n.progress-bar,\r\n.title{\r\n  width: 80%;\r\n}\r\n\r\n.progress-bar {\r\n  background: #fff;\r\n  margin: 0 auto 30px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.title {\r\n  color: #fff;\r\n  text-align: center;\r\n  margin: 20px auto;\r\n}\r\n\r\n.details{\r\n    padding: 0 20px;\r\n    text-align: justify;\r\n}\r\n\r\n.container{\r\n    padding-bottom: 30px;\r\n}\r\n\r\n.slogan{\r\n    text-align: center;\r\n    height: 45px;\r\n    line-height: 45px;\r\n    font-size: 13px;\r\n    color: #C0C4CC;\r\n}\r\n\r\n.list{\r\n    height: 50vh;\r\n    overflow-y: scroll;\r\n}\r\n\r\n.time{\r\n    color: #fff;\r\n    justify-content: space-between;\r\n    height: 36px;\r\n    line-height: 36px;\r\n    font-size: 13px;\r\n}\r\n\r\n.progress-bar,\r\n.slider-fill{\r\n  height: 2px;\r\n  position: relative;\r\n}\r\n\r\n.slider-fill{\r\n    background: linear-gradient(127deg, #ff9800, #e91e63);\r\n}\r\n\r\n.slider-thumb{\r\n    position: absolute;\r\n    width: 15px;\r\n    height: 15px;\r\n    border-radius: 50%;\r\n    background: #fff;\r\n    top: -6px;\r\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.turn{\r\n    animation:5s linear infinite CDturn\r\n}\r\n\r\n.icon{\r\n  background: linear-gradient(127deg, #ff9800, #e91e63);\r\n  -webkit-background-clip: text;\r\n  color: transparent;\r\n  margin-right: 5px;\r\n}\r\n\r\n.down{\r\n  position: absolute;\r\n  bottom: 0;\r\n  z-index: 11;\r\n  width: 100%;\r\n  text-align: center;\r\n  animation:2s cubic-bezier(0.4, 0, 1, 1) infinite downIcon;\r\n  display: grid;\r\n  opacity: 0.5;\r\n}\r\n\r\n.down i.iconfont{\r\n  font-size: 28px;\r\n  color: #fff;\r\n}\r\n\r\n.introduction{\r\n  font-size: 12px;\r\n  color: #fff;\r\n}\r\n\r\n@keyframes CDturn{\r\n    from{transform:rotate(0deg)}\r\n    to{transform:rotate(360deg)}\r\n}\r\n\r\n@keyframes downIcon{\r\n    0%{height: 30px}\r\n    50%{height: 58px}\r\n    100%{height: 30px}\r\n}\r\n</style>\r\n<style>\r\n.van-cell__title.active{\r\n    background: linear-gradient(90deg, #FE8537,#F02B2B);\r\n    -webkit-background-clip: text;\r\n    color: transparent;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./audioPlayer.vue?vue&type=template&id=2ae36afa&scoped=true&\"\nimport script from \"./audioPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./audioPlayer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./audioPlayer.vue?vue&type=style&index=0&id=2ae36afa&scoped=true&lang=css&\"\nimport style1 from \"./audioPlayer.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ae36afa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}