(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b194996"],{"078c":function(t,a,e){"use strict";var s=e("43b1"),i=e.n(s);i.a},"0fab":function(t,a,e){"use strict";var s=e("ece6"),i=e.n(s);i.a},"3b93":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"share-box"},[e("van-row",{staticClass:"svg-list"},[e("van-col",{attrs:{span:t.userDataState.user_id==t.item.user_id?"24":"12"}},[e("div",{staticClass:"btn"},[e("svg",{staticClass:"icon wechat",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3129"}},[e("path",{attrs:{d:"M1024 636.032c0-141.888-141.866667-257.429333-301.461333-257.429333-169.088 0-301.866667 115.541333-301.866667 257.429333 0 142.250667 132.778667 257.386667 301.866667 257.386667 35.370667 0 71.146667-9.024 106.496-17.642667l97.450667 53.418667-26.666667-88.789333C970.922667 786.965333 1024 715.84 1024 636.032zM624.618667 591.616c-17.642667 0-35.328-17.664-35.328-35.392 0-17.621333 17.685333-35.328 35.328-35.328 26.752 0 44.458667 17.706667 44.458667 35.328C669.077333 573.952 651.370667 591.616 624.618667 591.616zM820.010667 591.616c-17.664 0-35.306667-17.664-35.306667-35.392 0-17.621333 17.642667-35.328 35.306667-35.328 26.709333 0 44.416 17.706667 44.416 35.328C864.426667 573.952 846.293333 591.616 820.010667 591.616z",fill:"#30CE39","p-id":"3130"}}),e("path",{attrs:{d:"M693.248 347.242667c11.626667 0 23.296 0.810667 34.901333 2.005333-31.274667-146.133333-187.392-254.464-365.674667-254.464C163.370667 94.784 0 230.442667 0 403.029333c0 99.562667 54.208 181.418667 144.917333 244.864L108.8 757.034667l126.826667-63.786667c45.354667 8.810667 81.877333 18.069333 126.848 18.069333 11.221333 0 22.506667-0.405333 33.749333-1.557333-7.232-24.128-11.242667-49.749333-11.242667-75.882667C384.96 475.690667 521.066667 347.242667 693.248 347.242667zM498.133333 248.896c27.285333 0 45.333333 18.069333 45.333333 45.376 0 27.264-18.069333 45.333333-45.333333 45.333333-27.306667 0-54.570667-18.069333-54.570667-45.333333C443.968 266.944 471.210667 248.896 498.133333 248.896zM244.458667 339.562667c-27.306667 0-54.570667-18.048-54.570667-45.333333 0-27.306667 27.285333-45.354667 54.570667-45.354667 27.328 0 45.397333 18.069333 45.397333 45.354667C289.834667 321.130667 271.786667 339.562667 244.458667 339.562667z",fill:"#30CE39","p-id":"3131"}})]),e("div",{staticClass:"text"},[t._v("分享到微信")])])]),t.userDataState.user_id!=t.item.user_id?e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"btn",on:{click:function(a){t.childShow=!0}}},[e("svg",{staticClass:"icon zhuanfa",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{t:"1551174489120",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3124"}},[e("path",{attrs:{d:"M878.4 575.3h-68.5c-14.6 0-26.5 11.9-26.5 26.5v182.8H240V671.9c0-14.6-11.9-26.5-26.5-26.5H145c-14.6 0-26.5 11.9-26.5 26.5v207.6c0 9.1 4.6 17.1 11.5 21.8l0.1 0.1 0.6 0.3c4.1 2.6 9 4.2 14.2 4.2h733.4c0.9 0 1.8 0 2.7-0.1 3.4-0.3 6.7-1.4 9.6-2.9 0.1-0.1 0.2-0.1 0.3-0.2 0.3-0.2 0.7-0.4 1-0.6 0.4-0.2 0.8-0.5 1.2-0.7l0.1-0.1c7-4.8 11.6-12.8 11.6-21.9V601.8c0-14.6-11.8-26.5-26.4-26.5z",fill:"#70c6f2","p-id":"3125"}}),e("path",{attrs:{d:"M899.1 321.7v-0.1l-0.5-0.4c-1.4-1.5-3-2.8-4.7-3.9L664.1 125.9c-4.6-5.4-11.4-8.9-19.1-8.9-13.8 0-25 11.2-25 25h-0.1v94.7C134 288.3 163.9 614 163.9 614c97.3-173.3 374.3-178.8 456-176.4v97.2h0.1c0 13.8 11.2 25 25 25 7.2 0 13.6-3 18.2-7.9l230.7-192.5c7-4.4 11.6-12.2 11.6-21.1 0-6.4-2.4-12.2-6.4-16.6z",fill:"#ffcf10","p-id":"3126","data-spm-anchor-id":"a313x.7781069.0.i0"}})]),e("div",{staticClass:"text"},[t._v("收录")])])]):t._e()],1)],1)},i=[],n=e("e20c"),c=e("591a"),o=e("9993"),r=e("ae3a"),l={name:"share",props:["postId","item"],computed:Object(n["a"])({},Object(c["c"])(["userDataState"])),components:{topicList:r["a"]},data:function(){return{children:[],childShow:!1,cateId:"",show:!1,childId:"",topicList:""}},created:function(){this.fetchData()},watch:{$router:"fetchData"},methods:{fetchData:function(){var t=this,a={params:{sort:"old",user_id:this.userDataState.user_id}};o["a"].get("/book/baby/getList",a).then(function(a){1==a.data.status&&(t.children=a.data.data,t.childId=a.data.data[0].id)});var e={params:{portal_name:"宝贝主页"}};o["a"].get("/book/schoolArticleCate/getList",e).then(function(a){200==a.status&&(t.topicList=a.data,t.cateId=a.data[0].cate_id)})},onChange:function(t,a){this.childId=a.id},selectChild:function(){this.childShow=!1,this.show=!0},selectTag:function(t){this.cateId=t.cate_id},selectConfirm:function(){var t=this,a={params:{post_id:this.postId,child_id:this.childId||"",cate_id:this.cateId||""}};o["a"].get("/book/SchoolArticle/copy",a).then(function(a){if(1==a.data.status){var e={post_id:t.$route.query.id,contents:"收录了这篇文章"};o["a"].post("/book/SchoolArticleComment/edit?ajax=1",e).then(function(a){1==a.data.status&&t.$toast.success("收录成功")})}else t.$toast.fail("操作失败")}),this.show=!1}}},d=l,u=(e("0fab"),e("17cc")),h=Object(u["a"])(d,s,i,!1,null,"60448dd1",null);a["a"]=h.exports},"43b1":function(t,a,e){},"75e0":function(t,a,e){"use strict";e.d(a,"g",function(){return i}),e.d(a,"c",function(){return n}),e.d(a,"j",function(){return o}),e.d(a,"e",function(){return d}),e.d(a,"f",function(){return u}),e.d(a,"h",function(){return h}),e.d(a,"i",function(){return m}),e.d(a,"b",function(){return c}),e.d(a,"a",function(){return r}),e.d(a,"d",function(){return l});var s=e("e20c"),i=["说一点什么吧，他都能听得到","随心而起，有感而发","千头万绪,落笔汇成评论一句","听说，爱评论的人粉丝多","从小陪伴孩子读绘本，日积月累","陪伴就是给孩子最好的爱","愿你像颗种子，勇敢地冲破泥沙","心似海，不敌诗的咏叹"],n=["👍 棒棒哒","🙆 声音很棒","💪 加油哦","👪 很温馨","👏 非常棒","😊 很可爱哦","👑 继续努力","😄 向你学习","🌞 积少成多","📚 推荐这本书","🏆 很精彩"],c=["再接再厉","向你学习","坚持下去","太厉害了","难能可贵"],o=["聪明在于勤奋，天才在于积累","腹有诗书气自华，读书万卷始通神","少成若天性，习惯如自然","锲而不舍，金石可镂","敏而好学，不耻下问","读书之法，在循序渐进，熟读而精思"],r=["阅读是关系孩子素养发展的重要因素","阅读能够提高孩子的语言技能","亲子阅读是传递亲情的桥梁","阅读可以促进儿童认知能力"],l="<p>一起关爱孩子们的成长，我们可以从阅读做起。阅亮书架，将认真与执着地做着这件事情，同时也吸引了无数有识之士加入其中，和我们一起播撒着幸福的种子。</p><p>在路上，我们满怀期待，愿与您同行......</p>",d=[{name:"好的开始",number:1,type:"punch"},{name:"小试牛刀",number:21,type:"punch"},{name:"坚持不懈",number:50,type:"punch"},{name:"渐入佳境",number:100,type:"punch"},{name:"扬帆远航",number:198,type:"punch"},{name:"持之以恒",number:365,type:"punch"},{name:"学富五车",number:660,type:"punch"},{name:"阅读之星",number:1e3,type:"punch"}],u=[{name:"好的开始",number:1,type:"read"},{name:"小试牛刀",number:20,type:"read"},{name:"坚持不懈",number:60,type:"read"},{name:"渐入佳境",number:120,type:"read"},{name:"扬帆远航",number:300,type:"read"},{name:"持之以恒",number:700,type:"read"},{name:"学富五车",number:1e3,type:"read"},{name:"阅亮之星",number:1500,type:"read"}];function h(t){var a=[];return d.forEach(function(e,i){t>=e.number&&a.push(Object(s["a"])({},e,{level:i+1})),0==t&&a.push(Object(s["a"])({},e,{level:0}))}),a}function m(t){var a=[];return u.forEach(function(e,i){t>=e.number&&a.push(Object(s["a"])({},e,{level:i+1})),0==t&&a.push(Object(s["a"])({},e,{level:0}))}),a}},c629:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.flag?e("div",{ref:"comment",staticClass:"comment-list",attrs:{id:"comment"}},[e("van-nav-bar",{key:t.$route.query.id,attrs:{border:!1,zIndex:0}},[e("div",{staticClass:"zan",attrs:{slot:"right"},slot:"right"},[t._v("赞 "+t._s(t.item.zan_num))]),e("div",{staticClass:"comment",attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.listLength)+" 评论")])]),0==t.listLength?e("div",{staticClass:"no-centent"},[e("div",{staticClass:"prompt",on:{click:function(a){return t.showField()}}},[t._v("暂无评论,点击抢沙发")])]):t._e(),e("div",{staticClass:"container"},[e("van-list",{attrs:{finished:t.finished,"finished-text":t.$store.state.slogan},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.list,function(a,s){return e("van-cell",{key:s},[e("div",{staticClass:"user-card flex flex-align"},[e("div",{staticClass:"user-info flex flex-align"},[e("div",{staticClass:"avatar",on:{click:function(e){return t.toZoom(a)}}},[e("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:a.avatar}})]),e("div",{staticClass:"user-data"},[e("span",{staticClass:"user-name"},[t._v(t._s(a.username))])])]),e("div",{staticClass:"zan flex flex-align",on:{click:function(e){return t.zan(a)}}},[a.isZan?e("i",{staticClass:"iconfont highlight rotateInDownLeft animated"},[t._v("")]):e("i",{staticClass:"iconfont"},[t._v("")]),e("div",{staticClass:"num"},[t._v(t._s(a.zan_count))])])]),e("div",{staticClass:"contents"},[t._v("\n          "+t._s(a.contents)+"\n        ")]),e("div",{staticClass:"reply"},[0!=a.replyList.length?e("div",{staticClass:"reply-content"},t._l(a.replyList,function(s,i){return e("div",{key:i,staticClass:"list"},[e("div",{staticClass:"item"},[e("span",{staticClass:"reply-title"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v("\n                  "+t._s(s.username)+"回复"+t._s(a.username)+"\n                ")]),e("span",{staticClass:"reply-contents"},[t._v("\n                  "+t._s(s.contents)+"\n                ")])])])}),0):t._e(),a.quote?e("div",{staticClass:"reply-content"},[e("div",{staticClass:"list"},[e("div",{staticClass:"item"},[e("span",{staticClass:"reply-title"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v("\n                  "+t._s(a.quote.username)+"的评论\n                ")]),e("span",{staticClass:"reply-contents"},[t._v("\n                  "+t._s(a.quote.contents)+"\n                ")])])])]):t._e(),e("div",{staticClass:"comment-bar flex flex-align"},[e("div",{staticClass:"date"},[t._v(t._s(t.timeAgo(a.create_time)))]),e("div",{staticClass:"theme-color",on:{click:function(e){return t.showField(a,"reply")}}},[e("van-tag",{attrs:{round:"",size:"large",type:"primary"}},[t._v(t._s(a.replyList.length?a.replyList.length:"")+"回复")])],1)])])])}),1)],1),e("div",{staticClass:"comment"},[e("div",{staticClass:"footer-bar"},[e("div",{staticClass:"bar-padding flex flex-align"},[e("div",{staticClass:"input-box flex flex-align",on:{click:function(a){return t.showField()}}},[e("div",{staticClass:"input-box-avatar avatar"},[e("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:t.userDataState.avatar},on:{error:t.imgError}})]),e("span",[t._v("写评论")])]),e("div",{staticClass:"btn-icon flex flex-align"},[e("div",{staticClass:"btn",on:{click:t.toScroll}},[t.listLength>0?e("van-tag",{staticClass:"num-tag",attrs:{round:"",type:"danger"}},[t._v(t._s(t.listLength>1e3?"999+":t.listLength))]):t._e(),e("i",{staticClass:"iconfont"},[t._v("")])],1),e("div",{staticClass:"btn",on:{click:function(a){return t.addPraise(t.item)}}},[t.item.zan_num>0?e("van-tag",{staticClass:"num-tag",attrs:{round:"",type:"danger"}},[t._v(t._s(t.item.zan_num>1e3?"999+":t.item.zan_num))]):t._e(),t.item.isZan?e("i",{staticClass:"iconfont highlight rotateInDownLeft animated"},[t._v("")]):e("i",{staticClass:"iconfont"},[t._v("")])],1),"include"!=t.include?e("div",{staticClass:"btn",on:{click:function(a){return t.addCollect(t.item)}}},[t.item.collect_num>0?e("van-tag",{staticClass:"num-tag",attrs:{round:"",type:"danger"}},[t._v(t._s(t.item.collect_num>1e3?"999+":t.item.collect_num))]):t._e(),t.item.isShoucang?e("i",{staticClass:"iconfont star highlight swing animated"},[t._v("")]):e("i",{staticClass:"iconfont"},[t._v(" ")])],1):e("div",{staticClass:"btn",on:{click:t.isShare}},[e("i",{staticClass:"iconfont"},[t._v("")])])])])]),e("van-popup",{staticClass:"comment-popup",attrs:{"overlay-class":"bg-opacity",position:"bottom","get-container":"#app"},on:{close:function(a){return t.$refs.field.blur()}},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},["include"!=t.include&&t.score?e("div",{staticClass:"score flex-column"},[e("div",{staticClass:"score-title"},[t._v("评分")]),e("van-rate",{staticClass:"score-rate",attrs:{size:25,count:5,"void-color":"#ceefe8"},model:{value:t.star,callback:function(a){t.star=a},expression:"star"}})],1):t._e(),e("div",{staticClass:"comment-content flex"},[e("div",{staticClass:"field-box"},[e("van-field",{ref:"field",staticClass:"comment-field",attrs:{border:!1,size:"large",minHeight:50,type:"textarea",placeholder:t.placeholder,rows:"1",autosize:""},model:{value:t.message,callback:function(a){t.message=a},expression:"message"}})],1),e("div",{staticClass:"submit-btn theme-color"},[e("van-button",{staticClass:"theme-btn",attrs:{loading:t.isLoading,size:"large",type:"primary",square:""},on:{click:t.submit}},[t._v("发 布")])],1)]),1==t.item.template_id?e("div",{staticClass:"comment-tag scroll-x"},t._l(t.commentTag,function(a,s){return e("div",{key:s,staticClass:"scroll-item jackInTheBox animated",style:{animationDelay:100*s+"ms"},on:{click:function(e){return t.biuCommentTag(a)}}},[e("van-button",{staticClass:"tag-item",attrs:{round:"",type:"default"}},[t._v(t._s(a))])],1)}),0):t._e()])],1),e("van-popup",{staticClass:"share-popup",attrs:{"get-container":"#app"},model:{value:t.shareShow,callback:function(a){t.shareShow=a},expression:"shareShow"}},[e("div",{staticClass:"share-img"},[e("img",{attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/shareWord.png"}})])])],1):t._e()},i=[],n=(e("7364"),e("b745"),e("e20c")),c=e("591a"),o=e("9993"),r=e("3b93"),l=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spray"},[e("canvas",{attrs:{id:"canvas",width:"981",height:"1745"}})])}],u={name:"spray",created:function(){this.$nextTick(function(){var t={};t.anim={init:function(){var t=document.getElementById("canvas");t.width=window.innerWidth,t.height=window.innerHeight,this.ctx=t.getContext("2d"),this.cw=t.width,this.ch=t.height,this.particles=[],this.letters=["😀","😁","😂","😃","😄","😅","😆","😉","😊","😋","😎","😍","😘","😗","😙","😚","🏀","⚽","👍","🔥"]},render:function(){var t={x:this.cw/2,y:this.ch,character:this.letters[Math.floor(Math.random()*this.letters.length)],xSpeed:20*Math.random()-10,ySpeed:20*Math.random()-10,color:[155,100,50,.7]};this.particles.push(t),this.drawparticles()},drawparticles:function(){this.fadeCanvas();for(var t=this.particles.length,a=0;a<t;a++){var e=this.particles[a];this.ctx.font="20px sans-serif",this.ctx.fillText(e.character,e.x,e.y),e.x+=e.xSpeed,e.y+=e.ySpeed,e.y*=.98,e.color[2]*=.99,e.color[0]+=1,e.color[0]>253&&(e.color[2]=0)}},fadeCanvas:function(){this.ctx.fillStyle="rgba(255,255,255,.5)",this.ctx.fillRect(0,0,this.cw,this.ch)}},t.anim.init(),t.anim.render(),setInterval(function(){t.anim.render()},60),window.onresize=function(){t.anim.init()}})}},h=u,m=e("17cc"),p=Object(m["a"])(h,l,d,!1,null,"5dd787aa",null),f=p.exports,v=e("bec1"),g=e("75e0"),_={name:"comment",props:["item","include","type","postId","isCommentShow"],components:{share:r["a"],spray:f},computed:Object(n["a"])({},Object(c["c"])(["userToken","userDataState"]),{placeholder:function(){return Object(v["g"])(g["g"],1)[0]},commentTag:function(){return g["c"].sort(function(){return Math.random()-.5}),g["c"]}}),data:function(){return{star:3,list:[],toTopAndComment:!1,listLength:"",loading:!1,finished:!1,page:1,commentId:"",show:!1,isLoading:!1,message:"",shareShow:!1,score:!1,flag:!1}},watch:{postId:function(){var t=this;this.flag=!0,"comments"==this.$route.query.point&&this.$nextTick(function(){t.$refs.comment.scrollIntoView()})},show:function(t){this.$emit("showComment",t)}},methods:{onLoad:function(){var t=this,a={params:{post_id:this.postId,page:this.page,limit:10,sort:"new"}};return o["a"].get("/book/SchoolArticleComment/getList",a).then(function(a){if(1==a.data.status){t.listLength=a.data.count;var e=a.data.data;1==t.page?t.list=e:t.list=t.list.concat(e),t.loading=!1,t.page++,t.list.length>=a.data.count&&(t.finished=!0)}})},biuCommentTag:function(t){this.message=t,this.submit()},submit:function(){var t=this;this.isLoading=!0;var a={post_id:this.item.post_id,contents:this.message,tags:this.item.ad_label};this.commentId?a.reply_comment_id=this.commentId:a.star=2*this.star,this.message.length?o["a"].post("/book/SchoolArticleComment/edit?ajax=1",a).then(function(a){1==a.data.status?(t.show=!1,t.page=1,t.onLoad(),t.$toast.success(a.data.info),t.isLoading=!1,t.$refs.comment.scrollIntoView()):t.$toast.fail(a.data.info)}):this.$toast("请填写评论内容")},addPraise:function(t){var a=this;if("preview"!=this.$route.query.type){t.isZan=!t.isZan;var e={params:{ajax:1,id:this.item.post_id}};o["a"].get("/book/SchoolArticle/zan",e).then(function(e){1==e.data.status&&(t.isZan?t.zan_num++:t.zan_num--,"1"==e.data.data.like&&a.$toast.success({className:"zan-icon toast-icon"}))})}},addCollect:function(t){var a=this;t.isShoucang=!t.isShoucang;var e={params:{post_id:this.postId}};o["a"].get("/book/SchoolArticleCollect/add",e).then(function(e){1==e.data.status&&(t.isShoucang?t.collect_num++:t.collect_num--,t.isShoucang||a.$toast.success({className:"shoucang-icon toast-icon"}))})},showField:function(t,a){var e=this;"preview"!=this.$route.query.type&&(this.isLoading=!1,this.message="",t?(this.prompt="回复：".concat(t.username),this.commentId=t.comment_id):(this.commentId="",this.prompt="写评论"),this.show=!0,this.$nextTick(function(){e.$refs.field.focus()}),this.score="reply"!=a)},timeAgo:function(t){return Object(v["l"])(1e3*t)},toScroll:function(){this.toTopAndComment=!this.toTopAndComment,this.toTopAndComment?this.$refs.comment.scrollIntoView({behavior:"smooth"}):window.scrollTo(0,0)},toZoom:function(t){this.$router.push({name:"zoom",query:{id:t.user_id,back:this.$route.name,back_id:this.$route.query.id||this.$route.query.back_id}})},isShare:function(){"preview"!=this.$route.query.type&&(this.shareShow=!0)},imgError:function(t){t.target.src="https://wx.qlogo.cn/mmopen/ajNVdqHZLLBGT5R0spIjic7Pobf19Uw0qc07mwPLicXILrafUXYkhtMTZ0WialrHiadXDKibJsRTux0WvmNuDyYRWDw/0"},zan:function(t){t.isZan=!t.isZan;var a={params:{comment_id:t.comment_id}};o["a"].get("/book/SchoolArticleComment/zan",a).then(function(a){switch(a.data.status){case 1:t.zan_count=a.data.data.zan_count;break}})}}},C=_,b=(e("078c"),Object(m["a"])(C,s,i,!1,null,"2ad3b91b",null));a["a"]=b.exports},ece6:function(t,a,e){}}]);