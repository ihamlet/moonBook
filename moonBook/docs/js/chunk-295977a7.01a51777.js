(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-295977a7"],{2346:function(t,s,a){"use strict";var i=a("4f9e"),n=a.n(i);n.a},"4d4a":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container"},[a("div",{staticClass:"task-list"},[a("div",{staticClass:"task-head flex flex-align"},[t._m(0),a("div",{staticClass:"level"},[a("img",{attrs:{src:t.level[t.childInfo.mission_level]}})])]),a("div",{staticClass:"list"},[a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},[a("van-list",{attrs:{finished:t.finished,"finished-text":t.$store.state.slogan},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},[a("div",{staticClass:"card-list"},t._l(t.list,function(s,i){return a("div",{key:i,staticClass:"task-card flex flex-align fadeInUp animated",class:"an-"+i,on:{click:function(a){return t.toGraphic(s)}}},[a("div",{staticClass:"cover"},[a("img",{attrs:{src:s.cover}})]),a("div",{staticClass:"task-title"},[t._v(t._s(s.title))]),s.today_finished?a("div",{staticClass:"done"},[a("i",{staticClass:"iconfont"},[t._v("")])]):a("div",{staticClass:"icon-arrow"},[a("van-icon",{attrs:{name:"arrow",color:"#fff"}})],1)])}),0)])],1)],1)])])},n=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"head-title"},[a("div",{staticClass:"title"},[t._v("完成任务")]),a("div",{staticClass:"sub"},[t._v("赢得奖励")])])}],e=a("9993"),o={name:"task-list",data:function(){return{list:[],loading:!1,finished:!1,page:1,childInfo:"",level:["https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/task/0.png","https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/task/1.png","https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/task/2.png","https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/task/3.png","https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/task/4.png","https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/task/5.png"]}},created:function(){this.fetchData()},watch:{$router:"fetchData"},methods:{fetchData:function(){var t=this,s={params:{child_id:this.$route.query.id}};e["a"].get("/book/baby/getInfo",s).then(function(s){1==s.data.status&&(t.childInfo=s.data.data)})},onLoad:function(){var t=this,s={params:{tid:this.$route.query.tid,sort:"old",page:this.page}};return e["a"].get("/book/SchoolArticle/getList",s).then(function(s){switch(s.data.status){case 1:1==t.page?t.list=s.data.data:t.list=t.list.concat(s.data.data),t.loading=!1,t.page++,t.list.length>=s.data.count&&(t.finished=!0);break}})},onRefresh:function(){var t=this;this.page=1,this.onLoad().then(function(){t.loading=!1,t.finished=!1})},toGraphic:function(t){if(t.today_finished)this.$toast("今天已经完成了该任务");else{this.$router.push({name:"graphic",query:{id:this.$route.query.id,back:"baby-home",cate_id:150,tags:"宝贝主页"}});var s={post_id:t.post_id,contents:t.title};e["a"].post("/book/SchoolArticleComment/edit?ajax=1",s).then(function(t){})}}}},c=o,l=(a("2346"),a("2877")),d=Object(l["a"])(c,i,n,!1,null,"31a71e66",null);s["default"]=d.exports},"4f9e":function(t,s,a){}}]);
//# sourceMappingURL=chunk-295977a7.01a51777.js.map