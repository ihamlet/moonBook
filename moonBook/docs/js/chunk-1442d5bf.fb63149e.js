(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1442d5bf"],{"084a":function(t,a,e){},"0a94":function(t,a,e){},1908:function(t,a,e){"use strict";var i=e("f96c"),n=e.n(i);n.a},"2d5a":function(t,a,e){"use strict";var i=e("454e"),n=e.n(i);n.a},"2e44":function(t,a,e){},3915:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"reading"},[e("van-cell",{attrs:{title:t.moduleTitle,"is-link":"rank"==t.type},on:{click:t.toBabyHome}}),t.list&&t.list.length?e("div",{staticClass:"book-list scroll-x"},t._l(t.list,function(a,i){return e("div",{key:i,staticClass:"book-item scroll-item"},[a.book_thumb?e("div",{staticClass:"book-box"},[e("div",{staticClass:"book-cover"},[e("img",{attrs:{src:t.thumb(a.book_thumb),alt:a.book_name},on:{error:function(e){return t.outThumb(e,a)},click:function(e){return t.toBookDetails(a)}}}),e("div",{staticClass:"listening",on:{click:function(e){return t.listening(a)}}},[e("i",{staticClass:"iconfont"},[t._v("")])])]),e("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:2,expression:"2",arg:"20"}],staticClass:"book-name",on:{click:function(e){return t.toBookDetails(a)}}},[t._v("\n          "+t._s(a.book_name)+"\n        ")]),e("div",{staticClass:"book-detail"},[e("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"book-author"},[t._v("作者:"+t._s(a.book_author))]),e("div",{staticClass:"book-borrow"},[e("span",[t._v(t._s(a.book_borrow_count))]),t._v("人借过\n          ")]),e("div",{staticClass:"book-label"},t._l(a.book_tags,function(a,i){return e("div",{key:i,staticClass:"label-item"},[t._v("\n              "+t._s(a)+"\n            ")])}),0)])]):t._e()])}),0):e("div",{staticClass:"not-content"},[t._v("\n    尚无记录 "),0==t.userDataState.isVip?e("span",{staticClass:"theme-color",on:{click:t.toAccept}},[t._v(" 办理阅亮书架借阅卡")]):t._e()])],1)},n=[],s=(e("a481"),e("4917"),e("cebc")),o=e("9993"),c=e("591a"),r={name:"reading",props:["list","moduleTitle","type","babyId"],computed:Object(s["a"])({},Object(c["c"])(["userDataState"])),data:function(){return{applyShow:!1,active:0}},methods:{toBabyHome:function(){this.$router.push({name:"baby-home",query:{id:this.babyId}})},thumb:function(t){if(t){var a=t.match(/https?:\/\/(.+?)\//);return a?"/book/api/remotePic?url=".concat(t):t}},outThumb:function(t,a){var e="";e=a.book_author.length>7?a.book_author.substr(0,7)+"...":a.book_author,t.target.outerHTML="\n        <div class='three-d-book'>\n            <div class='three-d-book-cover'>\n                <div class='three-d-book-name'>\n                    ".concat(a.book_name,"\n                </div>\n                <div class='three-d-book-author'>\n                    ").concat(e,"\n                </div>\n            </div>\n        </div>\n      ")},toBookDetails:function(t){this.$router.push({name:"book-details",query:{id:t.book_id}})},listening:function(t){var a=/（.+?）/,e=t.book_name.replace(a,""),i="https://m.ximalaya.com/search/".concat(e),n=localStorage.getItem("bookRead_"+t.book_id);n?location.href=i:o["a"].get("/book/story/updateRead").then(function(){localStorage.setItem("bookRead_"+t.book_id,!0),location.href=i})},toAccept:function(){this.applyShow=!0,this.active=0}}},l=r,u=(e("95bb"),e("2877")),d=Object(u["a"])(l,i,n,!1,null,"6f48ef47",null);a["a"]=d.exports},"454e":function(t,a,e){},"535f":function(t,a,e){"use strict";var i=e("a4819"),n=e.n(i);n.a},5778:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"avatar-default",class:[t.size,t.avatarClass]},[1==t.gender?e("img",{attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/boy-avatar.png",alt:"默认男孩头像"}}):e("img",{attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/girl-avatar.png",alt:"默认女孩头像"}})])},n=[],s={name:"avatar",props:["gender","size","avatarClass"]},o=s,c=(e("7335"),e("2877")),r=Object(c["a"])(o,i,n,!1,null,"ba617808",null);a["a"]=r.exports},"5c8c":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"slogan"},[t._v("\n    "+t._s(t.$store.state.slogan)+"\n")])},n=[],s={name:"slogan"},o=s,c=(e("d071"),e("2877")),r=Object(c["a"])(o,i,n,!1,null,"ef722a5e",null);a["a"]=r.exports},6724:function(t,a,e){"use strict";var i=e("0a94"),n=e.n(i);n.a},7335:function(t,a,e){"use strict";var i=e("2e44"),n=e.n(i);n.a},"75e0":function(t,a,e){"use strict";e.d(a,"h",function(){return n}),e.d(a,"c",function(){return s}),e.d(a,"k",function(){return c}),e.d(a,"e",function(){return u}),e.d(a,"f",function(){return d}),e.d(a,"i",function(){return h}),e.d(a,"j",function(){return m}),e.d(a,"b",function(){return o}),e.d(a,"a",function(){return r}),e.d(a,"d",function(){return l}),e.d(a,"g",function(){return b});var i=e("cebc"),n=["说一点什么吧，他都能听得到","随心而起，有感而发","千头万绪,落笔汇成评论一句","听说，爱评论的人粉丝多","从小陪伴孩子读绘本，日积月累","陪伴就是给孩子最好的爱","愿你像颗种子，勇敢地冲破泥沙","心似海，不敌诗的咏叹"],s=["👍 棒棒哒","🙆 声音很棒","💪 加油哦","👪 很温馨","👏 非常棒","😊 很可爱哦","👑 继续努力","😄 向你学习","🌞 积少成多","📚 推荐这本书","🏆 很精彩"],o=["再接再厉","向你学习","坚持下去","太厉害了","难能可贵"],c=["聪明在于勤奋，天才在于积累","腹有诗书气自华，读书万卷始通神","少成若天性，习惯如自然","锲而不舍，金石可镂","敏而好学，不耻下问","读书之法，在循序渐进，熟读而精思"],r=["阅读是关系孩子素养发展的重要因素","阅读能够提高孩子的语言技能","亲子阅读是传递亲情的桥梁","阅读可以促进儿童认知能力"],l="<p>一起关爱孩子们的成长，我们可以从阅读做起。阅亮书架，将认真与执着地做着这件事情，同时也吸引了无数有识之士加入其中，和我们一起播撒着幸福的种子。</p><p>在路上，我们满怀期待，愿与您同行......</p>",u=[{name:"好的开始",number:1,type:"punch"},{name:"小试牛刀",number:21,type:"punch"},{name:"坚持不懈",number:50,type:"punch"},{name:"渐入佳境",number:100,type:"punch"},{name:"扬帆远航",number:198,type:"punch"},{name:"持之以恒",number:365,type:"punch"},{name:"学富五车",number:660,type:"punch"},{name:"阅读之星",number:1e3,type:"punch"}],d=[{name:"好的开始",number:1,type:"read"},{name:"小试牛刀",number:20,type:"read"},{name:"坚持不懈",number:60,type:"read"},{name:"渐入佳境",number:120,type:"read"},{name:"扬帆远航",number:300,type:"read"},{name:"持之以恒",number:700,type:"read"},{name:"学富五车",number:1e3,type:"read"},{name:"阅亮之星",number:1500,type:"read"}];function h(t){var a=[];return u.forEach(function(e,n){t>=e.number&&a.push(Object(i["a"])({},e,{level:n+1})),0==t&&a.push(Object(i["a"])({},e,{level:0}))}),a}function m(t){var a=[];return d.forEach(function(e,n){t>=e.number&&a.push(Object(i["a"])({},e,{level:n+1})),0==t&&a.push(Object(i["a"])({},e,{level:0}))}),a}var b=["","","","","","","","","",""]},"8d58":function(t,a,e){},"95bb":function(t,a,e){"use strict";var i=e("8d58"),n=e.n(i);n.a},"95e9":function(t,a,e){},a4819:function(t,a,e){},bbfb2:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.hackReset?e("div",{staticClass:"baby-home page-padding"},[e("van-nav-bar",{key:t.$route.query.id,class:[t.fixedHeaderBar?"theme-nav":""],attrs:{border:!1,fixed:"",zIndex:100},on:{"click-left":t.onClickLeft}},[e("div",{staticClass:"head-bar-title",attrs:{slot:"title"},on:{click:t.selectBaby},slot:"title"},[t._v("\n      "+t._s(t.pageTitle)+" "),t.babyList.length?e("i",{staticClass:"iconfont"},[t._v("")]):t._e()]),t.childInfo.is_mine?e("div",{staticClass:"head-bar-text",attrs:{slot:"right"},on:{click:t.toVerifyList},slot:"right"},[e("span",{staticClass:"text"},[e("i",{staticClass:"iconfont"},[t._v("")])])]):t._e()]),e("div",{ref:"domHeight",staticClass:"header",class:[1==t.childInfo.gendor?"theme-background":"background"]},[e("div",{staticClass:"baby-info flex flex-align"},[t.childInfo.avatar?e("div",{staticClass:"avatar",on:{click:t.toEditorBaby}},[e("img",{directives:[{name:"http2https",rawName:"v-http2https"}],staticClass:"avatar-img",attrs:{src:t.childInfo.avatar},on:{error:t.imgError}})]):e("avatar",{attrs:{gender:t.childInfo.sex,size:"small",avatarClass:"border"}}),e("div",{staticClass:"baby-data",on:{click:t.toEditorBaby}},[e("div",{staticClass:"list flex flex-align"},[e("div",{staticClass:"item name"},[t._v(t._s(t.childInfo.name))]),e("div",{staticClass:"item detail"},[e("span",{staticClass:"gender"},["boy"==t.childInfo.sex?e("i",{staticClass:"iconfont"},[t._v("")]):e("i",{staticClass:"iconfont"},[t._v("")])]),e("span",{staticClass:"age"},[t._v(t._s(t.childInfo.age)+"岁")])])]),t.childInfo?e("div",{staticClass:"label"},[t._v(t._s(t.level>0?("punch"==t.level.type?"Rv":"Bv")+"."+t.level.level+" "+t.level.name:t.childInfo.title))]):t._e(),e("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"school"},[t._v(t._s(t.childInfo.school_name))])]),t.childInfo.banji_id>0&&t.childInfo.is_mine?e("div",{staticClass:"to-banji-btn"},[e("van-button",{staticClass:"theme-plain",attrs:{plain:"",size:"small",round:"",type:"primary"},on:{click:t.toClassHome}},[t._v(t._s(t.formatBanjiTitle(t.childInfo.banji_name)))])],1):t._e()],1),e("wave")],1),e("div",{staticClass:"container"},[e("div",{staticClass:"bar flex flex-align"},[e("div",{staticClass:"bar-item totalReading",on:{click:t.toReadAmount}},[e("span",{staticClass:"number"},[t._v(t._s(t.childInfo.read_count))]),e("span",{staticClass:"bar-title"},[t._v("借阅量")])]),e("div",{staticClass:"bar-item",on:{click:t.toPunchList}},[e("span",{staticClass:"number"},[t._v(t._s(t.childInfo.sign_read_count))]),e("span",{staticClass:"bar-title"},[t._v("阅读数")])]),e("div",{staticClass:"bar-item diary",on:{click:t.toReadStat}},[e("span",{staticClass:"number"},[t._v(t._s(t.childInfo.sign_days))]),e("span",{staticClass:"bar-title"},[t._v("坚持天数")])]),e("div",{staticClass:"bar-item praise",on:{click:t.toInformation}},[e("span",{staticClass:"number"},[t._v(t._s(t.childInfo.zan_count))]),e("span",{staticClass:"bar-title"},[t._v("赞")])])]),t.childInfo.is_mine?e("div",{staticClass:"metro-card"},[e("metro",{attrs:{childInfo:t.childInfo}})],1):t._e(),t.childInfo.is_mine?e("div",{staticClass:"article-list"},[e("van-tabs",{attrs:{color:"#0084ff","line-width":20,"line-height":4,sticky:"",swipeable:"",animated:"",offsetTop:45,border:!1},on:{change:t.onChangeTab}},t._l(t.tab,function(a,i){return e("van-tab",{key:i,attrs:{title:a.title}},[e("van-list",{attrs:{finished:t.finished,"finished-text":t.$store.state.slogan},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[a.content.length?e("div",{staticClass:"tab-content"},t._l(a.content,function(a,i){return e("div",{key:i,staticClass:"item"},[e("van-cell",[e("graphic-card",{attrs:{item:a,type:"babyHome",title:t.childInfo.name+"的家长",avatar:t.childInfo.avatar},on:{more:t.actionsheet}})],1)],1)}),0):e("div",{staticClass:"no-content"},[e("img",{attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/noData.png"}}),t._v("\n                暂无记录\n              ")])])],1)],1)}),1)],1):e("div",{staticClass:"module"},[e("reading",{key:t.$route.query.id,attrs:{list:t.lateBook,moduleTitle:"宝贝最近在读的书"}})],1)]),t.childInfo.is_mine?t._e():e("slogan"),t.childInfo.is_mine?e("div",{staticClass:"punch"},[e("van-button",{staticClass:"theme-btn",attrs:{round:"",size:"normal",type:"primary"},on:{click:t.punch}},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v("\n      阅读打卡\n    ")])],1):t._e(),e("van-popup",{staticClass:"add-count-popup",attrs:{overlay:!1,"lock-scroll":!1,"get-container":"#app"},model:{value:t.zanShow,callback:function(a){t.zanShow=a},expression:"zanShow"}},[e("i",{staticClass:"iconfont",class:[t.zanShow?"rotateInDownLeft animated":""]},[t._v("")])]),e("van-action-sheet",{attrs:{actions:t.actions,"cancel-text":"取消"},on:{select:t.onSelect,cancel:function(a){t.show=!1}},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}}),e("van-action-sheet",{attrs:{actions:t.manageActions,"cancel-text":"取消",getContainer:"#app"},on:{select:t.onRecommendSelect},model:{value:t.actionsheetShow,callback:function(a){t.actionsheetShow=a},expression:"actionsheetShow"}}),e("van-action-sheet",{attrs:{title:"切换宝贝"},model:{value:t.isSelectBabyShow,callback:function(a){t.isSelectBabyShow=a},expression:"isSelectBabyShow"}},[e("selectChild",{attrs:{babyList:t.babyList},on:{onSelect:t.selectChild}})],1)],1):t._e()},n=[],s=(e("ac6a"),e("7f7f"),e("cebc")),o=e("9993"),c=e("bec1"),r=e("75e0"),l=e("77e0"),u=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"wave1"}),e("div",{staticClass:"wave2"})])}],h={name:"wave"},m=h,b=(e("6724"),e("2877")),f=Object(b["a"])(m,u,d,!1,null,"7bdd96e4",null),v=f.exports,p=e("5778"),g=e("3915"),_=e("a618"),y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"metro"},[e("van-row",{attrs:{gutter:"5"}},[e("van-col",{attrs:{span:"10"}},[e("div",{staticClass:"metro-l"},[e("div",{staticClass:"grid-metro",on:{click:t.toBookShelf}},[e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[t._v("推荐书单")]),e("div",{staticClass:"sub"},[t._v("书架")]),e("van-button",{staticClass:"theme-button",attrs:{type:"info",round:"",size:"small"}},[t._v("前往书架")])],1),e("img",{staticClass:"bg-img book-shelf",attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/book-shelf.png"}}),e("div",{staticClass:"circle"})])])]),e("van-col",{attrs:{span:"14"}},[e("div",{staticClass:"metro-r"},[e("div",{staticClass:"grid-metro",on:{click:t.toTask}},[e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[t._v("每日任务:"+t._s(t.childInfo.today_missions)+"/4")]),e("div",{staticClass:"sub"},[t._v("好的习惯贵在坚持")]),e("van-button",{staticClass:"theme-button",attrs:{type:"info",round:"",size:"small"}},[t._v("完成任务")])],1)]),e("img",{staticClass:"bg-img book-task",attrs:{src:"https://assets-moonbook.oss-cn-beijing.aliyuncs.com/img/task.png"}}),e("div",{staticClass:"circle"})])])],1)],1)},k=[],C={name:"metro",props:["childInfo"],methods:{toBookShelf:function(){this.$router.push({name:"read-guide"})},toTask:function(){this.$router.push({name:"task",query:{id:this.$route.query.id,tid:16}})}}},I=C,$=(e("1908"),Object(b["a"])(I,y,k,!1,null,"c1025ef0",null)),w=$.exports,x=e("5c8c"),S=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"scroll-x",class:t.babyList.length<4?"align-items":""},[e("div",{staticClass:"flex"},[e("div",{staticClass:"scroll-item"},[e("div",{staticClass:"baby-item-card add",on:{click:t.addBaby}},[t._m(0),e("div",{staticClass:"child-name"},[t._v("添加宝贝")])])]),t._l(t.babyList,function(a,i){return e("div",{key:i,staticClass:"scroll-item"},[e("div",{staticClass:"baby-item-card",class:t.$route.query.id==a.id?"active":"",on:{click:function(e){return t.onSelectBaby(a)}}},[a.avatar?e("div",{staticClass:"avatar"},[e("img",{directives:[{name:"http2https",rawName:"v-http2https"}],attrs:{src:a.avatar},on:{error:t.imgError}})]):e("avatar",{attrs:{size:"small",avatarClass:"border"}}),e("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"child-name"},[t._v(t._s(a.name))])],1)])})],2)])},q=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"avatar"},[e("i",{staticClass:"iconfont"},[t._v("")])])}],j=e("591a"),B={name:"select-child",props:["babyList","invite_code"],computed:Object(s["a"])({},Object(j["c"])(["userDataState"])),methods:Object(s["a"])({},Object(j["b"])(["getUserData"]),{onInput:function(t){var a=this;o["a"].get("/book/MemberChild/top",t).then(function(t){switch(t.data.status){case 1:a.getUserData();break}})},addBaby:function(){localStorage.removeItem("childInfo"),this.$router.push({name:"edit-child",query:{pageTitle:"添加宝贝",type:"add",back:this.$route.name,id:this.$route.query.id,banji_name:this.$route.query.banji_name,school_name:this.$route.query.school_name,main_parent_id:this.userDataState.id,invite_code:this.invite_code}})},onSelectBaby:function(t){this.$emit("onSelect",t);var a={params:{child_id:t.id}};this.onInput(a)},imgError:function(t){t.target.src="https://wx.qlogo.cn/mmopen/ajNVdqHZLLBGT5R0spIjic7Pobf19Uw0qc07mwPLicXILrafUXYkhtMTZ0WialrHiadXDKibJsRTux0WvmNuDyYRWDw/0"}})},L=B,R=(e("2d5a"),Object(b["a"])(L,S,q,!1,null,"7a0f5499",null)),T=R.exports,O={name:"baby-home",mixins:[l["i"],l["d"],l["f"]],components:{wave:v,reading:g["a"],avatar:p["a"],graphicCard:_["a"],metro:w,slogan:x["a"],selectChild:T},computed:Object(s["a"])({},Object(j["e"])("openWX",["readSign"]),Object(j["c"])(["managerState","userDataState"]),{pageTitle:function(){var t="";return t=this.childInfo.is_mine?this.fixedHeaderBar?this.$route.meta.title:this.childInfo.name:"".concat(this.childInfo?this.childInfo.name:"","小朋友"),t},recommendActions:function(){var t=this,a=[];return this.managerState&&this.managerState.forEach(function(e){var i={name:"".concat("school"==e.item_type?e.name:t.formatBanjiTitle(e.name)).concat(e.child_name?"("+e.child_name+")":"(管理员)"),subname:"".concat(e.duty,"-").concat(e.desc),id:e.id,type:e.item_type};a.push(i)}),a},level:function(){var t;return t=this.punchArr.length>this.readArr.length?Object(r["i"])(this.childInfo.sign_days).pop():Object(r["j"])(this.childInfo.read_count).pop(),t},punchArr:function(){var t=[],a=Object(r["i"])(this.childInfo.sign_days);return a.forEach(function(a){a.level>0&&t.push(a)}),t},readArr:function(){var t=[],a=Object(r["j"])(this.childInfo.read_count);return a.forEach(function(a){a.level>0&&t.push(a)}),t}}),data:function(){return{actionsheetShow:!1,hackReset:!0,show:!1,isSelectBabyShow:!1,zanShow:!1,childInfo:"",qrImage:"",showQrcode:!1,lateBook:[],babyList:[],loading:!1,finished:!1,releasePageShow:!1,punchLoading:!0,page:1,tabIndex:0,tab:[{title:"全部",content:""}],actions:[{name:"删除",type:"delete",index:1},{name:"推荐",type:"recommend",index:2}],postId:"",templateId:"",activityCount:"",tid:12}},beforeRouteEnter:function(t,a,e){t.meta.keepAlive=!1,e(function(t){t.request()})},created:function(){this.fetchData()},watch:{$router:"fetchData"},methods:Object(s["a"])({},Object(j["b"])("openWX",["scanQRcode"]),Object(j["b"])(["getUserData"]),{fetchData:function(){var t=this,a={params:{portal_name:"宝贝主页"}};o["a"].get("/book/schoolArticleCate/getList",a).then(function(a){if(200==a.status){var e=a.data;e.forEach(function(a){t.tab.push({title:a.cate_name,content:""})})}}),o["a"].get("/book/baby/getList",{params:{sort:"old",user_id:this.userDataState.id}}).then(function(a){switch(a.data.status){case 1:t.babyList=a.data.data;break}});var e={params:{tid:this.tid}};o["a"].get("/book/SchoolArticle/getList",e).then(function(a){1==a.data.status&&(t.activityCount=a.data.count)})},request:function(){var t=this;if(this.userDataState.child_id>"0"){var a={params:{child_id:this.$route.query.id}};o["a"].get("/book/baby/getInfo",a).then(function(a){if(1==a.data.status&&(t.childInfo=a.data.data,!a.data.data.is_mine)){var e={params:{page:1,limit:20,child_id:t.$route.query.id}};o["a"].get("/book/BabyBorrow/getList",e).then(function(a){200==a.status&&(t.lateBook=a.data.data)})}})}else this.$dialog.confirm({title:"添加宝贝",message:"请添加您的宝贝，掌握孩子阅读数据",confirmButtonText:"添加",cancelButtonText:"稍后",showCancelButton:!0}).then(function(){t.$router.push({name:"edit-child",query:{type:"add",pageTitle:"添加宝贝"}}),localStorage.removeItem("childInfo")}).catch(function(){t.$router.go(-1)})},onClickLeft:function(){this.$route.query.back&&"baby-home"!=this.$route.query.back?this.$router.push({name:this.$route.query.back,query:{id:this.$route.query.banji_id?this.$route.query.banji_id:this.$route.query.id,back:this.$route.name}}):this.$router.push({name:"home"})},toPageCodeShare:function(){this.$router.push({name:"share",query:{child_id:this.$route.query.id}})},onChangeTab:function(t){this.tabIndex=t,this.page=1,this.onRefresh()},getList:function(){var t=this,a={params:{page:this.page,sort:"new",child_id:this.$route.query.id,portal_name:"宝贝主页"}};return this.tabIndex>0&&(a.params.cate=this.tab[this.tabIndex].title),o["a"].get("/book/SchoolArticle/getList",a).then(function(a){1==a.data.status?(1==t.page?t.tab[t.tabIndex].content=a.data.data:t.tab[t.tabIndex].content=t.tab[t.tabIndex].content.concat(a.data.data),t.page++,t.loading=!1,t.tab[t.tabIndex].content.length>=a.data.count&&(t.finished=!0)):(t.page=1,t.tab[t.tabIndex].content=[],t.loading=!1,t.finished=!0)})},onLoad:function(){this.getList()},onRefresh:function(){var t=this;this.page=1,this.getList().then(function(){t.loading=!1,t.finished=!1})},toClassHome:function(){this.childInfo.banji_id>0?this.$router.push({name:"class-home",query:{id:this.childInfo.banji_id}}):this.$router.push({name:"class-home",query:{id:this.childInfo.child_id,school_id:this.childInfo.school_id,school_name:this.childInfo.school_name}})},imgError:function(t){t.target.src="https://wx.qlogo.cn/mmopen/ajNVdqHZLLBGT5R0spIjic7Pobf19Uw0qc07mwPLicXILrafUXYkhtMTZ0WialrHiadXDKibJsRTux0WvmNuDyYRWDw/0"},timeAgo:function(t){return Object(c["l"])(1e3*t)},toReadStat:function(){this.$router.push({name:"readStat",query:{id:this.$route.query.id,back:this.$route.name}})},toReadAmount:function(){this.$router.push({name:"readAmount",query:{id:this.$route.query.id,back:this.$route.name}})},toInformation:function(){this.childInfo.is_mine?this.$router.push({name:"information",query:{id:this.$route.query.id,back:this.$route.name}}):this.$toast("您无法查看")},toEditorBaby:function(){this.childInfo.is_mine&&this.$router.push({name:"edit-child",query:{id:this.$route.query.id,pageTitle:"编辑宝贝",type:"edit",back:this.$route.name}})},toPunchList:function(){this.$router.push({name:"punch-list",query:{id:this.$route.query.id}})},actionsheet:function(t){this.show=!0,this.postId=t.post_id,this.templateId=t.template_id},onSelect:function(t){var a=this;switch(t.index){case 1:this.$dialog.confirm({title:"删除",message:"您确认要删除吗"}).then(function(){var t={params:{id:a.postId}};o["a"].get("/book/SchoolArticle/del",t).then(function(t){var e;1==t.data.status&&(a.tab[a.tabIndex].content.forEach(function(t,i){t.post_id==a.postId&&(e=i)}),a.tab[a.tabIndex].content.splice(e,1),a.$toast.success("删除成功"))})}).catch(function(){}),this.show=!1;break;case 2:this.actionsheetShow=!0,this.show=!1;break}},addBaby:function(){this.$router.push({name:"edit-child",query:{pageTitle:"添加宝贝",type:"add",back:this.$route.name,id:this.$route.query.id}})},onSelectBaby:function(t){var a=this;this.hackReset=!1,this.isSelectBabyShow=!1,this.$nextTick(function(){a.hackReset=!0,a.request(),a.onRefresh()}),this.$router.push({name:"baby-home",query:{id:t.id,back:this.$route.name}}),this.onInput()},selectBaby:function(){this.babyList.length&&(this.isSelectBabyShow=!0)},onInput:function(){var t=this,a={params:{child_id:this.$route.query.id}};o["a"].get("/book/MemberChild/top",a).then(function(a){switch(a.data.status){case 1:t.getUserData(),t.childInfo.is_mine||t.$toast("已设为当前宝贝");break;case 0:t.$toast.fail(a.data.data.msg);break}})},toVerifyList:function(){this.$router.push({name:"verify-list",query:{id:this.$route.query.id}})},selectChild:function(t){var a=this;this.hackReset=!1,this.isSelectBabyShow=!1,this.$nextTick(function(){a.hackReset=!0,a.request(),a.onRefresh()}),this.$router.push({name:"baby-home",query:{id:t.id,back:this.$route.name}})}})},D=O,E=(e("535f"),e("d668"),Object(b["a"])(D,i,n,!1,null,"2d2145e2",null));a["default"]=E.exports},d071:function(t,a,e){"use strict";var i=e("95e9"),n=e.n(i);n.a},d668:function(t,a,e){"use strict";var i=e("084a"),n=e.n(i);n.a},f96c:function(t,a,e){}}]);