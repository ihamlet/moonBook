(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00da020c"],{"0b79":function(t,a,i){"use strict";var s=i("ca5c"),n=i.n(s);n.a},"21d3":function(t,a,i){"use strict";var s=i("c6c5"),n=i.n(s);n.a},"6cec":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"brand-page"},[i("van-nav-bar",{key:t.$route.query.id,class:t.fixedHeaderBar?"theme-nav":"",attrs:{zIndex:999,title:"打卡榜",fixed:"",border:!1},on:{"click-right":t.onClickRight}},[i("div",{staticClass:"child-avatar",attrs:{slot:"right"},slot:"right"},[i("van-button",{staticClass:"theme-btn more-btn",attrs:{round:"",size:"small",type:"primary"}},[t._v("更多榜单")])],1)]),i("div",{ref:"domHeight",staticClass:"my-child"},[t.$route.query.id>0?i("div",{staticClass:"my-child-card flex flex-align"},[i("div",{staticClass:"my-child-info flex flex-align"},[i("div",{staticClass:"my-child-hd flex flex-align"},[i("div",{staticClass:"my-child-icon"},[i("svg-ranking",{attrs:{ranking:t.childInfo.rank}})],1),i("div",{staticClass:"avatar",on:{click:function(a){return t.toBabyHome(t.childInfo)}}},[i("img",{attrs:{src:t.childInfo.avatar},on:{error:t.imgError}})]),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[t._v(t._s(t.childInfo.name))]),i("div",{staticClass:"school flex flex-align"},[i("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"theme-color",on:{click:t.toSchoolHome}},[t._v(t._s(t.childInfo.school_name))])])])]),i("div",{staticClass:"num"},[t._v("\n          "+t._s(0==t.active?t.childInfo.sign_days:t.childInfo.sign_read_count)+"\n          "),i("span",{staticClass:"unit"},[t._v(t._s(0==t.active?"天":"次"))])])])]):t._e()]),i("van-tabs",{staticClass:"tab-content",attrs:{background:"inherit","line-width":20,"line-height":4,color:"#fff","title-active-color":"#fff","title-inactive-color":"#fff"},on:{click:t.onClickTab},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},t._l(t.tabs,function(a,s){return i("van-tab",{key:s,attrs:{title:a.title}},[i("div",{staticClass:"tabs-wrap"},[i("van-tabs",{staticClass:"child-tab",attrs:{type:"card",color:"#2cadc2",swipeable:"",animated:"","title-active-color":"#fff","title-inactive-color":"#2cadc2"},on:{change:t.onChangeTab,disabled:function(a){t.show=!0}}},t._l(t.newTab[s],function(a,n){return i("van-tab",{key:n,attrs:{title:a.title,disabled:a.disabled}},[i("div",{staticClass:"list-content"},[i("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"title-name"},[t._v(t._s(3==n?"全平台":a.name))]),i("van-list",{staticClass:"ranking-list",class:3==n?"ranking-total":"",attrs:{finished:t.finished,"finished-text":t.$store.state.slogan},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.rankList,function(a,e){return i("div",{key:e,staticClass:"child-ranking-list"},[e<3?i("div",{staticClass:"rank-top",class:["top-"+e,"an-"+2*e,"fadeIn animated"],on:{click:function(i){return t.toBabyHome(a)}}},[i("div",{staticClass:"icon"},[i("svg-ranking",{attrs:{ranking:e+1}})],1),i("div",{staticClass:"avatar"},[i("img",{attrs:{src:a.avatar},on:{error:t.imgError}})]),i("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"name"},[t._v(t._s(a.name))]),i("div",{staticClass:"num"},[t._v("\n                      "+t._s(0==s?a.sign_days:a.sign_read_count)+"\n                      "),i("span",{staticClass:"unit"},[t._v(t._s(0==s?"天":"次"))])])]):t._e(),e>3?i("van-cell",{on:{click:function(i){return t.toBabyHome(a)}}},[i("div",{staticClass:"child-info flex flex-align"},[i("div",{staticClass:"rank-number"},[i("svg-ranking",{attrs:{ranking:e}})],1),i("div",{staticClass:"data-info flex flex-align"},[i("div",{staticClass:"child-data flex flex-align"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:a.avatar},on:{error:t.imgError}})]),i("div",{staticClass:"info"},[i("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"name"},[t._v(t._s(a.name))]),1==n?i("div",{staticClass:"banji"},[t._v(t._s(t.formatBanjiTitle(a.banji_name)))]):t._e(),2==n?i("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"school"},[t._v(t._s(a.school_name))]):t._e()])]),i("div",{staticClass:"num"},[t._v("\n                          "+t._s(0==s?a.sign_days:a.sign_read_count)+"\n                          "),i("span",{staticClass:"unit"},[t._v(t._s(0==s?"天":"次"))])])])])]):t._e()],1)}),0)],1)])}),1)],1)])}),1),i("van-popup",{attrs:{position:"bottom","get-container":"#app"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[i("van-picker",{attrs:{columns:t.columns},on:{change:t.onChange}})],1)],1)},n=[],e=(i("a481"),i("55dd"),i("28a5"),i("cebc")),c=i("9993"),l=i("ed76"),r=i("591a"),o=i("77e0"),d={name:"memberRanking",mixins:[o["i"],o["e"]],components:{svgRanking:l["a"]},computed:Object(e["a"])({},Object(r["c"])(["userDataState"]),{newTab:function(){var t=[{title:"同班",name:this.formatBanjiTitle(this.userDataState.banji_name),params:{banji_id:this.userDataState.banji_id}},{title:"同园",name:this.userDataState.school_name,params:{school_id:this.userDataState.school_id}},{title:"同城",name:this.userDataState.city_name,params:{city_name:this.userDataState.city_name}},{title:this.tabTitleSelect,disabled:!0}];return this.tabs.map(function(a){return a.content=t})},columns:function(){return this.times.map(function(t){return t.split(",")[0]})}}),data:function(){return{active:0,times:["总计,all","本月,month","上月,last_month","本周,week","上周,last_week"],tabsActive:0,tabs:[{title:"天数",sort:"read_sign"},{title:"次数",sort:"sign_read_count"}],page:1,loading:!1,finished:!1,rankList:[],childInfo:"",show:!1,time:"all",tabTitleSelect:"总计"}},methods:{onLoad:function(){var t=this,a=this.newTab[this.active][this.tabsActive].params,i={params:Object(e["a"])({child_id:this.$route.query.id,sort:this.tabs[this.active].sort,time:this.time},a)};return c["a"].get("/book/SchoolBookSign/getRank",i).then(function(a){switch(a.data.status){case 1:t.rankList=a.data.data,t.childInfo=a.data.my_child,t.loading=!1;var i=a.data.count>20?20:a.data.count;t.rankList.length>=i&&(t.finished=!0);break;default:t.$toast(a.data.msg)}})},onClickTab:function(t){var a=this;this.active=t,this.tabsActive=0,this.onLoad().then(function(){a.loading=!1})},onChangeTab:function(t){var a=this;this.tabsActive=t,this.onLoad().then(function(){a.loading=!1})},toBabyHome:function(t){this.$router.push({name:"baby-home",query:{id:t.child_id}})},imgError:function(t){t.target.src="https://wx.qlogo.cn/mmopen/ajNVdqHZLLBGT5R0spIjic7Pobf19Uw0qc07mwPLicXILrafUXYkhtMTZ0WialrHiadXDKibJsRTux0WvmNuDyYRWDw/0"},onChange:function(t,a,i){var s=this;this.tabTitleSelect=a,this.time=this.times[i].split(",")[1],this.onLoad().then(function(){s.loading=!1})},toSchoolHome:function(){this.$router.push({name:"apps-school",query:{id:this.childInfo.school_id}})},onClickRight:function(){this.$router.replace({name:"RankingList"})}}},v=d,h=(i("0b79"),i("ea7e"),i("2877")),m=Object(h["a"])(v,s,n,!1,null,"3ce3e776",null);a["default"]=m.exports},c6c5:function(t,a,i){},ca5c:function(t,a,i){},caca:function(t,a,i){},ea7e:function(t,a,i){"use strict";var s=i("caca"),n=i.n(s);n.a},ed76:function(t,a,i){"use strict";var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"svg-icon"},[t.ranking<4?i("div",{staticClass:"icon",class:"ranking-"+t.type},[1==t.ranking?i("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"729"}},[i("path",{attrs:{d:"M392.192 440.32L244.224 367.104c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432L419.84 487.936c1.024-18.432-11.776-39.424-27.648-47.616z m338.944-196.096l-147.968-73.216c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432l10.752-164.864c1.024-17.92-11.264-39.424-27.648-47.616z",fill:"#FEAE30","p-id":"730"}}),i("path",{attrs:{d:"M560.128 725.504c5.632 9.728 16.384 11.264 27.136 5.632l81.92-47.616c8.192-4.608 10.752-14.848 6.144-22.528-4.608-8.192-14.848-10.752-23.04-6.144l-52.736 30.208 13.824-33.28c14.848-36.352 20.48-56.32 6.144-81.408v-0.512c-16.384-28.16-47.616-34.816-78.848-16.384-23.04 13.312-32.256 29.696-36.352 50.688-1.024 4.096 0 9.216 2.048 12.288 5.12 8.192 15.36 11.264 23.552 6.656 5.12-3.072 7.68-7.68 8.192-11.264 3.072-13.824 7.68-22.016 16.896-27.648 11.776-6.656 24.064-4.608 31.744 7.68 7.168 12.288 4.608 25.088-5.12 51.2l-22.528 59.904c-3.072 8.704-3.072 15.872 1.024 22.528z",fill:"#E5E5E5","p-id":"731"}}),i("path",{attrs:{d:"M901.12 506.88c10.752 24.576 6.144 52.224-9.728 72.704-36.864 44.544-118.272 108.544-221.184 168.96-100.352 58.88-193.536 98.816-249.856 110.08-26.624 4.096-53.76-6.144-70.144-27.648 0.512 0.512 0.512 1.024 1.024 1.536L110.08 522.24c0-0.512 0.512 0 0-1.024-6.656-11.776-2.56-26.624 9.216-33.792 4.608-2.56 9.728-3.072 14.336-2.56l222.72 46.08-16.384-294.4c-0.512-12.288 6.144-24.576 17.408-31.232 10.752-6.144 23.552-5.632 33.792 0l248.32 162.304 70.144-211.456v0.512c1.536-6.144 5.632-11.264 11.264-14.848 11.776-6.656 27.136-3.072 33.792 8.704 0.512 0.512 0.512 0 1.024 0l147.968 360.96c-1.024-1.536-2.048-2.56-2.56-4.608z",fill:"#FED530","p-id":"732"}}),i("path",{attrs:{d:"M486.912 425.984c65.536-37.888 149.504-15.36 187.392 50.176 37.888 65.536 15.36 149.504-50.176 187.392-65.536 37.888-149.504 15.36-187.392-50.176s-15.36-148.992 50.176-187.392z",fill:"#FEAE30","p-id":"733"}}),i("path",{attrs:{d:"M584.192 606.208c6.144 10.752 19.456 14.336 30.208 8.192 10.752-6.144 14.336-19.456 8.192-30.208L560.128 481.28c-6.144-10.752-19.456-14.336-30.208-8.192l-0.512 0.512c-5.12 3.072-10.24 7.68-16.384 13.824l-20.48 21.504c-6.656 6.656-7.68 16.384-3.072 24.064 5.12 9.216 17.408 12.288 26.624 6.656 2.048-1.024 4.608-3.072 6.144-5.12l11.776-11.264 50.176 82.944z",fill:"#FED530","p-id":"734"}})]):t._e(),2==t.ranking?i("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"695"}},[i("path",{attrs:{d:"M392.192 440.32L244.224 367.104c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432L419.84 487.936c1.024-18.432-11.776-39.424-27.648-47.616z m338.944-196.096l-147.968-73.216c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432l10.752-164.864c1.024-17.92-11.264-39.424-27.648-47.616z",fill:"#C6C6C6","p-id":"696"}}),i("path",{attrs:{d:"M560.128 725.504c5.632 9.728 16.384 11.264 27.136 5.632l81.92-47.616c8.192-4.608 10.752-14.848 6.144-22.528-4.608-8.192-14.848-10.752-23.04-6.144l-52.736 30.208 13.824-33.28c14.848-36.352 20.48-56.32 6.144-81.408v-0.512c-16.384-28.16-47.616-34.816-78.848-16.384-23.04 13.312-32.256 29.696-36.352 50.688-1.024 4.096 0 9.216 2.048 12.288 5.12 8.192 15.36 11.264 23.552 6.656 5.12-3.072 7.68-7.68 8.192-11.264 3.072-13.824 7.68-22.016 16.896-27.648 11.776-6.656 24.064-4.608 31.744 7.68 7.168 12.288 4.608 25.088-5.12 51.2l-22.528 59.904c-3.072 8.704-3.072 15.872 1.024 22.528z",fill:"#E8E8E8","p-id":"697"}}),i("path",{attrs:{d:"M901.12 506.88c10.752 24.576 6.144 52.224-9.728 72.704-36.864 44.544-118.272 108.544-221.184 168.96-100.352 58.88-193.536 98.816-249.856 110.08-26.624 4.096-53.76-6.144-70.144-27.648 0.512 0.512 0.512 1.024 1.024 1.536L110.08 522.24c0-0.512 0.512 0 0-1.024-6.656-11.776-2.56-26.624 9.216-33.792 4.608-2.56 9.728-3.072 14.336-2.56l222.72 46.08-16.384-294.4c-0.512-12.288 6.144-24.576 17.408-31.232 10.752-6.144 23.552-5.632 33.792 0l248.32 162.304 70.144-211.456v0.512c1.536-6.144 5.632-11.264 11.264-14.848 11.776-6.656 27.136-3.072 33.792 8.704 0.512 0.512 0.512 0 1.024 0l147.968 360.96c-1.024-1.536-2.048-2.56-2.56-4.608z",fill:"#E8E8E8","p-id":"698"}}),i("path",{attrs:{d:"M486.912 425.984c65.536-37.888 149.504-15.36 187.392 50.176 37.888 65.536 15.36 149.504-50.176 187.392-65.536 37.888-149.504 15.36-187.392-50.176s-15.36-148.992 50.176-187.392z",fill:"#C6C6C6","p-id":"699"}}),i("path",{attrs:{d:"M538.112 627.2c5.632 9.216 15.872 10.752 25.6 5.12l77.312-44.544c7.68-4.096 10.24-13.824 5.632-21.504-4.096-7.68-13.824-10.24-21.504-5.632l-49.664 28.672 12.8-31.232c13.824-34.304 19.456-52.736 5.632-76.8v-0.512c-15.36-26.624-45.056-32.768-74.24-15.36-21.504 12.288-30.72 27.648-34.304 47.616-1.024 4.096 0 8.192 2.048 11.776 4.608 7.68 14.336 10.752 22.528 6.144 5.12-2.56 7.168-7.168 8.192-10.752 3.072-13.312 7.168-20.48 15.872-25.6 11.264-6.656 23.04-4.608 29.696 7.68 6.656 11.776 4.608 23.552-5.12 48.128l-20.992 56.32c-3.072 7.168-3.072 14.336 0.512 20.48z",fill:"#E8E8E8","p-id":"700"}})]):t._e(),3==t.ranking?i("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"661"}},[i("path",{attrs:{d:"M392.192 439.296L244.224 366.08c-16.384-8.192-30.72 0-31.744 18.432l-10.752 164.864c-1.024 18.432 11.264 39.424 27.648 47.616l147.968 73.216c16.384 8.192 30.72 0 31.744-18.432L419.84 486.912c1.024-18.432-11.776-39.424-27.648-47.616z m338.944-196.096l-147.968-73.216c-16.384-8.192-30.72 0-31.744 18.432l-10.24 164.864c-1.024 18.432 11.264 39.424 27.648 47.616L716.8 474.112c16.384 8.192 30.72 0 31.744-18.432l10.752-164.864c0.512-17.92-11.776-39.424-28.16-47.616z",fill:"#AA733D","p-id":"662"}}),i("path",{attrs:{d:"M560.128 724.48c5.632 9.728 16.384 11.264 27.136 5.632l81.92-47.616c8.192-4.608 10.752-14.848 6.144-22.528-4.608-8.192-14.848-10.752-23.04-6.144l-52.736 30.208 13.824-33.28c14.848-36.352 20.48-56.32 6.144-81.408v-0.512c-16.384-28.16-47.616-34.816-78.848-16.384-23.04 13.312-32.256 29.696-36.352 50.688-1.024 4.096 0 9.216 2.048 12.288 5.12 8.192 15.36 11.264 23.552 6.656 5.12-3.072 7.68-7.68 8.192-11.264 3.072-13.824 7.68-22.016 16.896-27.648 11.776-6.656 24.064-4.608 31.744 7.68 7.168 12.288 4.608 25.088-5.12 51.2l-22.528 59.904c-3.072 8.704-3.072 15.872 1.024 22.528z",fill:"#E5E5E5","p-id":"663"}}),i("path",{attrs:{d:"M901.12 505.856c10.752 24.576 6.144 52.224-9.728 72.704-36.864 44.544-118.272 108.544-221.184 168.96-100.352 58.88-193.536 98.816-249.856 110.08-26.624 4.096-53.76-6.144-70.144-27.648 0.512 0.512 0.512 1.024 1.024 1.536l-240.128-310.784c0-0.512 0.512 0 0-1.024-6.656-11.776-2.56-26.624 9.216-33.792 4.608-2.56 9.728-3.072 14.336-2.56l222.72 46.08-16.384-294.4c-0.512-12.288 6.144-24.576 17.408-31.232 10.752-6.144 23.552-5.632 33.792 0l248.32 162.304 70.144-211.456v0.512c1.536-6.144 5.632-11.264 11.264-14.848 11.776-6.656 27.136-3.072 33.792 8.704 0.512 0.512 0.512 0 1.024 0l147.968 360.96c-2.048-1.024-3.072-2.048-3.584-4.096z",fill:"#CA9561","p-id":"664"}}),i("path",{attrs:{d:"M486.912 424.96c65.536-37.888 149.504-15.36 187.392 50.176 37.888 65.536 15.36 149.504-50.176 187.392-65.536 37.888-149.504 15.36-187.392-50.176s-15.36-148.992 50.176-187.392z",fill:"#AA733D","p-id":"665"}}),i("path",{attrs:{d:"M600.064 619.52c30.208-17.408 37.888-46.592 23.04-72.192v-0.512c-14.336-25.088-37.888-24.064-57.856-16.896l11.776-40.448c2.56-8.192 3.584-14.336-1.024-21.504-4.608-8.192-13.824-9.216-22.528-4.608L487.936 501.76c-6.656 4.096-9.216 13.312-5.632 19.968 4.096 6.656 13.312 9.216 19.968 5.632l41.472-24.064-10.752 41.472c-2.048 7.168-1.536 11.776 0.512 15.872 4.096 6.656 13.312 9.216 19.968 5.632l4.608-2.56c16.384-9.728 29.696-9.216 36.352 2.048v0.512c5.632 10.24 1.536 20.992-9.728 27.648-10.752 6.144-20.48 7.168-32.256 5.12-3.584-0.512-7.168-0.512-11.776 2.048-7.68 4.608-10.752 14.848-6.144 22.528 2.56 4.096 7.168 6.656 11.264 7.68 16.896 1.536 35.328-1.024 54.272-11.776z",fill:"#CA9561","p-id":"666"}})]):t._e()]):i("div",{staticClass:"icon"},[i("div",{staticClass:"number"},[t._v(t._s(t.ranking>100?"99+":t.ranking))])])])},n=[],e={name:"svg-ranking",props:["ranking","type"]},c=e,l=(i("21d3"),i("2877")),r=Object(l["a"])(c,s,n,!1,null,"5e380186",null);a["a"]=r.exports}}]);