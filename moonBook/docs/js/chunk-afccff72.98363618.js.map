{"version":3,"sources":["webpack:///./src/components/module/search/schoolCard.vue?ea3b","webpack:///src/components/module/search/schoolCard.vue","webpack:///./src/components/module/search/schoolCard.vue?5df5","webpack:///./src/components/module/search/schoolCard.vue","webpack:///./src/components/pages/accept/schoolList.vue?5229","webpack:///./src/components/pages/accept/schoolList.vue?058f","webpack:///src/components/pages/accept/schoolList.vue","webpack:///./src/components/pages/accept/schoolList.vue?c890","webpack:///./src/components/pages/accept/schoolList.vue","webpack:///./src/components/module/search/schoolCard.vue?99c1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","arg","_v","_s","item","searchType","_e","staticRenderFns","schoolCardvue_type_script_lang_js_","computed","Object","objectSpread","vuex_esm","props","search_schoolCardvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_schoolList_vue_vue_type_style_index_0_id_6080ded8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_schoolList_vue_vue_type_style_index_0_id_6080ded8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","class","$route","query","type","attrs","action","placeholder","show-action","shape","on","search","onSearch","model","callback","$$v","keyword","slot","click","swipeable","animated","color","border","change","changeTab","_l","list","index","key","title","finished","finishedText","$store","state","slogan","load","onLoad","loading","content","itemIndex","is-link","$event","select","school_id","toCity","searchListShow","prompt","close","schoolListvue_type_script_lang_js_","components","schoolCard","data","tab","typeCode","page","levels","tips","fees","tabIndex","watch","val","userPointState","methods","_this","arr","location","split","products","lng","lat","school_type","getSchoolList","then","res","concat","length","count","$router","push","id","shelf_id","$toast","_this2","keywords","city","schoolType","getSearch","resData","accept_schoolListvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_schoolCard_vue_vue_type_style_index_0_id_152efe60_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_schoolCard_vue_vue_type_style_index_0_id_152efe60_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-afccff72.98363618.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item\"},[_c('div',{directives:[{name:\"line-clamp\",rawName:\"v-line-clamp:20\",value:(1),expression:\"1\",arg:\"20\"}],staticClass:\"school-name\"},[_vm._v(\"\\n        \"+_vm._s(_vm.item[_vm.searchType == 'wmSearchSchool'?'title':'name'])+\"\\n    \")]),_c('div',{directives:[{name:\"line-clamp\",rawName:\"v-line-clamp:20\",value:(1),expression:\"1\",arg:\"20\"}],staticClass:\"school-address\"},[(_vm.item[_vm.searchType == 'wmSearchSchool'?'addr':'address'])?_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm.item[_vm.searchType == 'wmSearchSchool'?'addr':'address'])+\"\\n        \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"item\">\r\n        <div class=\"school-name\" v-line-clamp:20=\"1\">\r\n            {{item[searchType == 'wmSearchSchool'?'title':'name']}}\r\n        </div>\r\n        <div class=\"school-address\" v-line-clamp:20=\"1\">\r\n            <span v-if=\"item[searchType == 'wmSearchSchool'?'addr':'address']\">\r\n                {{item[searchType == 'wmSearchSchool'?'addr':'address']}}\r\n            </span>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n    name:'school-list',\r\n    computed: {\r\n      ...mapGetters(['userPointState'])\r\n    },\r\n    props: ['item','prompt','searchType']\r\n}\r\n</script>\r\n<style scoped>\r\n.search-nav-bar{\r\n    padding: .3125rem /* 5/16 */;\r\n    border-bottom: 1px solid #F2F6FC;\r\n    background: #fff;\r\n}\r\n\r\n.search-close,\r\n.search-btn{\r\n    flex: 1;\r\n    text-align: center;\r\n}\r\n\r\n.search-close{\r\n    color: #909399;\r\n}\r\n\r\n.search-btn,\r\ninput.search-input{\r\n    height: 2.25rem /* 36/16 */;\r\n    line-height: 2.25rem /* 36/16 */;\r\n}\r\n\r\ninput.search-input{\r\n    flex: 5;\r\n    background: #fff;\r\n    border: none;\r\n    border-radius: .375rem /* 6/16 */;\r\n    padding-left: 1.25rem /* 20/16 */;\r\n    padding-right: .3125rem /* 5/16 */;\r\n    border: 1px solid #E4E7ED;\r\n    margin-right: .3125rem /* 5/16 */;\r\n}\r\n\r\n.fixed{\r\n    position: sticky;\r\n    top: 0;\r\n    z-index: 1001;\r\n    width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./schoolCard.vue?vue&type=template&id=152efe60&scoped=true&\"\nimport script from \"./schoolCard.vue?vue&type=script&lang=js&\"\nexport * from \"./schoolCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./schoolCard.vue?vue&type=style&index=0&id=152efe60&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"152efe60\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolList.vue?vue&type=style&index=0&id=6080ded8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolList.vue?vue&type=style&index=0&id=6080ded8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"school-list\"},[_c('div',{staticClass:\"fixed\",class:_vm.$route.query.type},[_c('form',{attrs:{\"action\":\"/\"}},[_c('van-search',{attrs:{\"placeholder\":\"请输入学校名称\",\"show-action\":\"\",\"shape\":\"round\"},on:{\"search\":_vm.onSearch},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}},[_c('div',{staticClass:\"theme-color\",attrs:{\"slot\":\"action\"},on:{\"click\":_vm.onSearch},slot:\"action\"},[_vm._v(\"\\n            搜索\\n          \")])])],1)]),_c('div',{staticClass:\"container\",class:_vm.$route.query.type},[_c('van-tabs',{attrs:{\"type\":\"card\",\"swipeable\":\"\",\"animated\":\"\",\"color\":\"#0084ff\",\"border\":false},on:{\"change\":_vm.changeTab}},_vm._l((_vm.tab),function(list,index){return _c('van-tab',{key:index,attrs:{\"title\":list.title}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finishedText\":_vm.$store.state.slogan},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[(list.content.length)?_c('div',{staticClass:\"list\"},_vm._l((list.content),function(item,itemIndex){return _c('van-cell',{key:itemIndex,staticClass:\"flex flex-align\",attrs:{\"is-link\":\"\"},on:{\"click\":function($event){return _vm.select(item)}}},[_c('schoolCard',{attrs:{\"item\":item,\"searchType\":item.school_id > 0? \"wmSearchSchool\":\"amapSearchSchool\"}})],1)}),1):_c('div',{staticClass:\"no-list\"},[_vm._v(\"\\n              尚未成功定位  \"),_c('span',{staticClass:\"theme-color\",on:{\"click\":_vm.toCity}},[_vm._v(\"城市选择\")])])])],1)}),1)],1),_c('van-popup',{staticClass:\"page-popup\",model:{value:(_vm.searchListShow),callback:function ($$v) {_vm.searchListShow=$$v},expression:\"searchListShow\"}},[_c('search-list',{attrs:{\"prompt\":\"搜索学校名称\",\"type\":\"joinSchool\"},on:{\"close\":function($event){_vm.searchListShow = false},\"select\":_vm.select}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"school-list\">\r\n    <div class=\"fixed\" :class=\"$route.query.type\">\r\n      <form action=\"/\">\r\n        <van-search placeholder=\"请输入学校名称\" v-model=\"keyword\" show-action shape=\"round\" @search=\"onSearch\">\r\n            <div class=\"theme-color\" slot=\"action\" @click=\"onSearch\">\r\n              搜索\r\n            </div>\r\n        </van-search>\r\n      </form>\r\n    </div>\r\n    <div class=\"container\" :class=\"$route.query.type\">\r\n      <van-tabs type=\"card\" swipeable animated color='#0084ff' @change='changeTab' :border='false'>\r\n          <van-tab :title=\"list.title\" v-for='(list,index) in tab' :key=\"index\">\r\n            <van-list v-model=\"loading\" :finished=\"finished\" :finishedText=\"$store.state.slogan\" @load=\"onLoad\">\r\n              <div class=\"list\" v-if=\"list.content.length\">\r\n                <van-cell v-for=\"(item,itemIndex) in list.content\" :key=\"itemIndex\" is-link class=\"flex flex-align\" @click=\"select(item)\">\r\n                    <schoolCard :item='item' :searchType='item.school_id > 0? \"wmSearchSchool\":\"amapSearchSchool\"'/>\r\n                </van-cell>\r\n              </div>\r\n              <div class=\"no-list\" v-else>\r\n                尚未成功定位  <span class=\"theme-color\" @click=\"toCity\">城市选择</span> \r\n              </div>\r\n            </van-list>\r\n          </van-tab>\r\n      </van-tabs>\r\n    </div>\r\n    <van-popup v-model=\"searchListShow\" class=\"page-popup\">\r\n      <search-list prompt='搜索学校名称' type='joinSchool' @close='searchListShow = false' @select='select' />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from './../../lib/js/api'\r\nimport { mapActions,mapGetters } from 'vuex'\r\nimport schoolCard from './../../module/search/schoolCard'\r\n\r\nexport default {\r\n  name: 'school-list',\r\n  components: {\r\n    schoolCard  \r\n  },\r\n  computed: {\r\n    ...mapGetters(['userDataState', 'userPointState'])\r\n  },\r\n  data() {\r\n    return {\r\n      keyword:'',\r\n      tab:[{\r\n          title:'幼儿园',\r\n          typeCode:'141204',\r\n          content:[],\r\n      },{\r\n          title:'小学',\r\n          typeCode:'141203',\r\n          content:[]\r\n      }],\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      searchListShow: false,\r\n      page: 1,\r\n      levels:'',\r\n      tips:'',\r\n      fees:'',\r\n      tabIndex: 0\r\n    }\r\n  },\r\n  watch: {\r\n    keyword(val){\r\n      this.page = 1\r\n      this.tab[this.tabIndex].content = []\r\n      this.onSearch(val)\r\n    },\r\n    userPointState(){\r\n      this.onLoad()\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(['getSchoolList','getSearch']),\r\n    changeTab(index){\r\n        this.tabIndex = index\r\n        this.page = 1\r\n        this.loading = false\r\n    },\r\n    onLoad() {\r\n      let arr = this.userPointState.location.split(\",\")\r\n\r\n      let products = {\r\n        page: this.page,\r\n        lng: arr[0],\r\n        lat: arr[1],\r\n        school_type: this.tab[this.tabIndex].title\r\n      }\r\n  \r\n      return this.getSchoolList(products).then(res => {\r\n          if(this.page == 1){\r\n            this.tab[this.tabIndex].content = res.data\r\n          }else{\r\n            this.tab[this.tabIndex].content = this.tab[this.tabIndex].content.concat(res.data)\r\n          }\r\n          \r\n          this.loading = false\r\n          this.page++\r\n          if (this.tab[this.tabIndex].content.length >= res.count) {\r\n            this.finished = true\r\n          }\r\n        })\r\n    },\r\n    select(item) {\r\n      if(this.$route.query.type == 'page'){\r\n        this.$router.push({\r\n          name:'apps-school',\r\n          query:{\r\n            id: item.school_id,\r\n            type: 'preview'\r\n          }\r\n        })\r\n      }else{\r\n        if (item.shelf_id > 0) {\r\n          this.$router.push({\r\n              name:'AcceptCardLevel',\r\n              query:{\r\n                  id: item.shelf_id\r\n              }\r\n          })\r\n        } else {\r\n          this.$toast('该学校暂未有书架')\r\n        }\r\n      }\r\n    },\r\n    onSearch(keyword){\r\n      if(keyword){\r\n        let arr = this.userPointState.location.split(\",\")\r\n\r\n        let data = {\r\n          keywords: keyword,\r\n          city: this.userPointState.city,\r\n          lng: arr[0],\r\n          lat: arr[1],\r\n          schoolType: this.tab[this.tabIndex].title,\r\n          type: this.tab[this.tabIndex].typeCode\r\n        }\r\n  \r\n        this.getSearch(data).then(res=>{\r\n          if(res.resData.length){\r\n            this.tab[this.tabIndex].content = res.resData\r\n          }else{\r\n            this.page = 1\r\n            this.onLoad()\r\n          }\r\n        })\r\n      }else{\r\n        this.page = 1\r\n        this.onLoad()\r\n      }\r\n    },\r\n    toCity(){\r\n      this.$router.push({\r\n        name:'city'\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.list,\r\n.container{\r\n    padding-top: .625rem /* 10/16 */;\r\n}\r\n\r\n.fixed.page{\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100%;\r\n  z-index: 2019;\r\n}\r\n\r\n.container.page{\r\n  padding-top: 4.0625rem /* 65/16 */;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./schoolList.vue?vue&type=template&id=6080ded8&scoped=true&\"\nimport script from \"./schoolList.vue?vue&type=script&lang=js&\"\nexport * from \"./schoolList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./schoolList.vue?vue&type=style&index=0&id=6080ded8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6080ded8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolCard.vue?vue&type=style&index=0&id=152efe60&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./schoolCard.vue?vue&type=style&index=0&id=152efe60&scoped=true&lang=css&\""],"sourceRoot":""}