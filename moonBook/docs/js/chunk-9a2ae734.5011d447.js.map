{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./src/components/pages/editor/Graphic.vue?0319","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./src/components/pages/editor/Graphic.vue?f1fd","webpack:///./src/components/pages/editor/Graphic.vue?9278","webpack:///src/components/pages/editor/Graphic.vue","webpack:///./src/components/pages/editor/Graphic.vue?05e7","webpack:///./src/components/pages/editor/Graphic.vue","webpack:///./src/components/pages/editor/mould/articleSetting.vue?86e0","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./src/components/pages/editor/mould/articleSetting.vue?7b88","webpack:///src/components/pages/editor/mould/articleSetting.vue","webpack:///./src/components/pages/editor/mould/articleSetting.vue?6331","webpack:///./src/components/pages/editor/mould/articleSetting.vue","webpack:///./src/components/pages/editor/mould/articleSetting.vue?b9fc"],"names":["$export","__webpack_require__","context","INCLUDES","P","F","includes","searchString","this","indexOf","arguments","length","undefined","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Graphic_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Graphic_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","MATCH","module","exports","KEY","re","e","f","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Graphic_vue_vue_type_style_index_0_id_3c76bd5d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Graphic_vue_vue_type_style_index_0_id_3c76bd5d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","border","fixed","slot","_v","_s","title","directives","name","rawName","src","userDataState","avatar","loading","percent","loading-text","type","size","round","on","click","onClickRelease","progressIsShow","_e","percentage","show-pivot","color","placeholder","icon","rows","autosize","model","value","grapicData","callback","$$v","$set","expression","gutter","_l","item","index","key","span","class","thumb","large","is_video","photo","preview","$event","deletePhoto","uploaderImg","typeUpload","post","childId","child_id","detailsId","post_id","tushu_id","toDetails","toArticle","isWxMsg","onChangeSwitch","switchChange","ref","after-read","onRead","multiple","accept","data-type","hidden","change","doUpload","capture","close-on-click-overlay","$store","state","slogan","staticRenderFns","Graphicvue_type_script_lang_js_","mixins","mixin","components","topicList","articleSetting","articleCard","computed","Object","objectSpread","vuex_esm","imagesLength","photos","boolean","data","u","navigator","userAgent","$route","query","pageType","show","actionShow","text","isAndroid","isIOS","match","ossSign","mediaContent","photoLength","videoThumb","created","fetchData","beforeRouteLeave","to","from","next","meta","keepAlive","watch","handler","val","localStorage","setItem","JSON","stringify","deep","imgList","tag","cate_id","$router","methods","_this","getItem","parse","api","get","then","res","articleDetailData","params","ajax","id","status","extra","postData","template_id","concat","user","username","book_id","bookDetailData","bookData","sign_read_count","sign_days","upVideo","$nextTick","$refs","fileVideo","selectFileVideo","ready","selectImg","selectPhoto","input","file","_this2","array","push","forEach","element","util","content","toBlob","blob","upOssPhoto","$dialog","alert","message","onSelect","go","_this3","details","banji_id","school_id","is_wx_msg","teacher_school_id","home_type","from_page","teacher_school_name","tags","cate_name","teacher_duty","class_post_count","back","release","commentData","contents","clearImg","$toast","success","replace","teacher_banji_id","getResult","fail","msg","splice","toTopicPage","sizeVal","_this4","target","files","dataset","formData","FormData","maxSize","slice","append","url","method","onUploadProgress","p","info","height","width","rotate","duration","Math","floor","upOssMedia","_this5","host","dir","Date","now","path","accessid","policy","signature","loaded","total","is_audio","base64","_this6","img","Image","fd","routeName","num","weChatSwitch","editor_Graphicvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_articleSetting_vue_vue_type_style_index_0_id_4eee30e5_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_articleSetting_vue_vue_type_style_index_0_id_4eee30e5_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","isRegExp","defined","that","NAME","TypeError","String","classify","is-link","arrow-direction","selectTagShow","value-class","synchronous","center","isResultShow","title-style","active-value","inactive-value","active-color","inactive-color","label","$emit","checked","position","get-container","settingResult","clickable","toggle","refInFor","cate","cateIndex","selectCate","tagIndex","close","closeTopic","confirm","select","selectTag","articleSettingvue_type_script_lang_js_","props","Number","default","resultList","result","join","selectGroup","groupList","cateName","banjiCateList","babyCateList","routerPath","schoolCateList","cateList","isCateShow","addResult","managerState","removeItem","_fetchData","asyncToGenerator","regeneratorRuntime","mark","_callee","arr","wrap","_context","prev","map","getCateList","portal_name","cateArray","_data","access_level","tag_id","setTag","children","stop","apply","_getCateList","_callee2","portalName","_context2","abrupt","_x","checkboxes","mould_articleSettingvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_articleSetting_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_articleSetting_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-9a2ae734.5011d447.js","sourcesContent":["// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=style&index=1&lang=css&\"","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=style&index=0&id=3c76bd5d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=style&index=0&id=3c76bd5d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"graphic page-padding\"},[_c('van-nav-bar',{attrs:{\"border\":false,\"fixed\":\"\"}},[(_vm.title)?_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]):_c('div',{staticClass:\"user-info\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{directives:[{name:\"http2https\",rawName:\"v-http2https\"}],attrs:{\"src\":_vm.userDataState.avatar}})])]),_c('div',{staticClass:\"head-bar-btn theme-color\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('van-button',{staticClass:\"theme-btn\",attrs:{\"loading\":_vm.percent != 0,\"loading-text\":\"上传中\",\"type\":\"primary\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.onClickRelease}},[_vm._v(\"发布\")])],1)]),_c('div',{staticClass:\"textarea-module\"},[(_vm.percent!=0&&_vm.percent!=100&&!_vm.progressIsShow)?_c('van-progress',{attrs:{\"percentage\":_vm.percent,\"show-pivot\":false,\"color\":\"linear-gradient(to right, #00BCD4, #0084ff)\"}}):_vm._e(),_c('van-cell-group',[_c('van-field',{staticClass:\"theme-textarea\",attrs:{\"border\":false,\"type\":\"textarea\",\"placeholder\":_vm.icon,\"rows\":\"2\",\"autosize\":\"\"},model:{value:(_vm.grapicData.text),callback:function ($$v) {_vm.$set(_vm.grapicData, \"text\", $$v)},expression:\"grapicData.text\"}}),_c('div',{staticClass:\"upload-module flex wrap\"},[_c('van-cell',{attrs:{\"border\":false}},[_c('van-row',{attrs:{\"gutter\":\"4\"}},[_vm._l((_vm.grapicData.photos),function(item,index){return _c('van-col',{key:index,attrs:{\"span\":8}},[_c('div',{staticClass:\"preview img-grid\",class:[item.thumb?'transparent':'']},[_c('img',{staticClass:\"thumb\",attrs:{\"src\":item.thumb,\"large\":item.is_video==1?'':item.photo,\"preview\":\"\"}}),_c('div',{staticClass:\"close-btn\",on:{\"click\":function($event){return _vm.deletePhoto(index)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]),(item.is_video == 1)?_c('van-tag',{staticClass:\"type-tag\",attrs:{\"color\":\"#7232dd\"}},[_vm._v(\"视频\")]):_vm._e()],1)])}),(_vm.boolean)?_c('van-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"img-grid\",on:{\"click\":_vm.uploaderImg}},[_c('div',{staticClass:\"photo-upload\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_c('span',{staticClass:\"directions\"},[_vm._v(_vm._s(_vm.typeUpload?'添加视频':'添加图片'))])])])]):_vm._e()],2)],1)],1),(_vm.post)?_c('div',{staticClass:\"article-card\"},[_c('van-cell',[_c('articleCard',{attrs:{\"item\":_vm.post,\"childId\":_vm.userDataState.child_id,\"detailsId\":_vm.post.post_id || _vm.post.tushu_id},on:{\"toDetails\":_vm.toArticle}})],1)],1):_vm._e()],1)],1),_c('articleSetting',{attrs:{\"type\":\"mould\",\"isWxMsg\":_vm.isWxMsg},on:{\"onChangeSwitch\":_vm.switchChange}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],staticClass:\"media-input\"},[_c('van-uploader',{ref:\"selectPhoto\",attrs:{\"after-read\":_vm.onRead,\"multiple\":\"\"}}),_c('input',{ref:\"selectFileVideo\",attrs:{\"type\":\"file\",\"accept\":\"video/*\",\"data-type\":\"video\",\"hidden\":\"\"},on:{\"change\":_vm.doUpload}}),_c('input',{ref:\"fileVideo\",attrs:{\"type\":\"file\",\"accept\":\"video/*\",\"capture\":\"camcorder\",\"data-type\":\"video\",\"hidden\":\"\"},on:{\"change\":_vm.doUpload}})],1),_c('van-popup',{staticClass:\"progress-popup\",attrs:{\"close-on-click-overlay\":false},model:{value:(_vm.progressIsShow),callback:function ($$v) {_vm.progressIsShow=$$v},expression:\"progressIsShow\"}},[_c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"upload-upload\"},[_vm._v(\"视频正在上传中...\")]),(_vm.percent!=0)?_c('van-progress',{attrs:{\"percentage\":_vm.percent,\"show-pivot\":false,\"color\":\"linear-gradient(to right, #00BCD4, #0084ff)\"}}):_vm._e()],1)]),_c('div',{staticClass:\"slogan\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$store.state.slogan)+\"\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"graphic page-padding\">\r\n    <van-nav-bar :border='false' fixed>\r\n      <div class=\"title\" slot='title' v-if='title'>\r\n        {{title}}\r\n      </div>\r\n      <div class=\"user-info\" slot='title' v-else>\r\n        <div class=\"avatar\">\r\n          <img :src=\"userDataState.avatar\" v-http2https/>\r\n        </div>\r\n      </div>\r\n      <div class=\"head-bar-btn theme-color\" slot=\"right\">\r\n        <van-button :loading='percent != 0' loading-text='上传中' class=\"theme-btn\" type=\"primary\" size=\"small\" @click=\"onClickRelease\" round>发布</van-button>\r\n      </div>\r\n    </van-nav-bar>\r\n\r\n    <div class=\"textarea-module\">\r\n      <van-progress v-if='percent!=0&&percent!=100&&!progressIsShow' :percentage=\"percent\" :show-pivot='false' color=\"linear-gradient(to right, #00BCD4, #0084ff)\" />\r\n      <van-cell-group>\r\n        <van-field :border='false' class=\"theme-textarea\" v-model=\"grapicData.text\" type=\"textarea\" :placeholder=\"icon\" rows=\"2\" autosize />\r\n        <div class=\"upload-module flex wrap\">\r\n          <van-cell :border='false'>\r\n            <van-row gutter=\"4\">\r\n              <van-col :span=\"8\" v-for='(item,index) in grapicData.photos' :key=\"index\">\r\n                <div class=\"preview img-grid\" :class=\"[item.thumb?'transparent':'']\">\r\n                  <img class=\"thumb\" :src=\"item.thumb\" :large=\"item.is_video==1?'':item.photo\" preview />\r\n                  <div class=\"close-btn\" @click=\"deletePhoto(index)\">\r\n                    <i class=\"iconfont\">&#xe647;</i>\r\n                  </div>\r\n                  <van-tag class=\"type-tag\" color=\"#7232dd\" v-if='item.is_video == 1'>视频</van-tag>\r\n                </div>\r\n              </van-col>\r\n              <van-col :span=\"8\" v-if='boolean'>\r\n                <div class=\"img-grid\" @click=\"uploaderImg\">\r\n                  <div class=\"photo-upload\">\r\n                    <i class=\"iconfont\">&#xe664;</i>\r\n                    <span class=\"directions\">{{typeUpload?'添加视频':'添加图片'}}</span>\r\n                  </div>\r\n                </div>\r\n              </van-col>\r\n            </van-row>\r\n          </van-cell>\r\n        </div>\r\n        <div class=\"article-card\" v-if='post'>\r\n          <van-cell>\r\n            <articleCard :item='post' :childId='userDataState.child_id' :detailsId='post.post_id || post.tushu_id' @toDetails='toArticle'/>\r\n          </van-cell>\r\n        </div>\r\n      </van-cell-group>\r\n    </div>\r\n    <!-- 分类设置、同步、设置机构标签 -->\r\n    <articleSetting type='mould' :isWxMsg='isWxMsg' @onChangeSwitch='switchChange'/>\r\n    <div class=\"media-input\" v-show=\"false\">\r\n      <van-uploader ref='selectPhoto' :after-read=\"onRead\" multiple />\r\n      <input type=\"file\" accept=\"video/*\" ref='selectFileVideo' data-type='video' hidden @change='doUpload'>\r\n      <input type=\"file\" accept=\"video/*\" capture=\"camcorder\" ref='fileVideo' data-type='video' hidden @change='doUpload'>\r\n    </div>\r\n\r\n    <van-popup v-model=\"progressIsShow\" class=\"progress-popup\" :close-on-click-overlay='false'>\r\n      <div class=\"progress\">\r\n        <div class=\"upload-upload\">视频正在上传中...</div>\r\n        <van-progress v-if='percent!=0' :percentage=\"percent\" :show-pivot='false' color=\"linear-gradient(to right, #00BCD4, #0084ff)\" />\r\n      </div>\r\n    </van-popup>\r\n\r\n    <div class=\"slogan\">\r\n      {{$store.state.slogan}}\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from './../../lib/js/api'\r\nimport { mapState, mapActions, mapGetters, mapMutations } from 'vuex'\r\nimport topicList from './../../module/release/topicList'\r\nimport articleSetting from './mould/articleSetting'\r\nimport articleCard from './../../module/card/articleCard'\r\nimport { compress,checkHtml } from './../../lib/js/util'\r\nimport { newBanjiTitle } from './../../lib/js/mixin'\r\n\r\nexport default {\r\n  name: 'graphic',\r\n  mixins:[newBanjiTitle],\r\n  components: {\r\n    topicList,\r\n    articleSetting,\r\n    articleCard\r\n  },\r\n  computed: {\r\n    ...mapState('openWX',['ready','imgList']),\r\n    ...mapState('articleSetting', ['group','tag']),\r\n    ...mapGetters('articleSetting',['getResult']),\r\n    ...mapGetters(['userDataState','managerState']),\r\n    imagesLength() {\r\n      return this.grapicData.photos.length\r\n    },\r\n    boolean(){\r\n      let boolean = true\r\n      if(this.typeUpload){\r\n        if(this.imagesLength == 1){\r\n          boolean = false\r\n        }\r\n      }else{\r\n        if(this.imagesLength >= 9){\r\n          boolean = false\r\n        }\r\n      }\r\n      return boolean\r\n    }\r\n  },\r\n  data() {\r\n    let u = navigator.userAgent\r\n    return {\r\n      icon: this.$route.query.pageType= 'notice'?'请输入通知内容...':'\\ue658\\ue65f\\ue65e\\ue661\\ue659\\ue65a\\ue65b\\ue655\\ue660\\ue662',\r\n      show: false,\r\n      actionShow: false,\r\n      grapicData: {\r\n        text: '',\r\n        photos: []\r\n      },\r\n      isAndroid: u.indexOf('Android') > -1 || u.indexOf('Adr') > -1, //安卓终端\r\n      isIOS: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), // ios终端\r\n      ossSign: '',\r\n      mediaContent: [],\r\n      percent: 0,\r\n      photoLength: 0,\r\n      videoThumb:'',\r\n      typeUpload:'',\r\n      post:'',\r\n      progressIsShow: false,\r\n      isWxMsg:1,\r\n      title: this.$route.query.title || ''\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  //去掉页面数据缓存\r\n  beforeRouteLeave(to, from, next) {\r\n    to.meta.keepAlive = false \r\n    next()\r\n  },\r\n  watch: {\r\n    grapicData: {\r\n      handler(val) {\r\n        localStorage.setItem('grapicData',JSON.stringify(val))\r\n      },\r\n      deep: true\r\n    },\r\n    imgList:{\r\n      handler(val) {\r\n        this.grapicData.photos = val\r\n        this.photoLength = val.length\r\n      },\r\n      deep: true\r\n    },\r\n    tag(val){\r\n      switch(val.cate_id){\r\n        case '124':\r\n          this.title = '班级通知'\r\n          this.icon = '请输入班级通知内容...'\r\n          break\r\n        case '116':\r\n          this.title = '课堂阅读'\r\n          this.icon = '请输入...'\r\n          break\r\n        case '99':\r\n          this.title = '学校通知'\r\n          this.icon = '请输入学校通知内容...'\r\n          break\r\n      }\r\n    },\r\n    '$router': 'fetchData'\r\n  },\r\n  methods: {\r\n    ...mapActions('openWX',['selectImg']),\r\n    ...mapActions(['release']),\r\n    ...mapMutations('openWX',['clearImg']),\r\n    fetchData() {\r\n      if (localStorage.getItem('grapicData')) {\r\n        this.grapicData = JSON.parse(localStorage.getItem('grapicData'))\r\n      }\r\n  \r\n      axios.get('/book/api/oss_sign').then(res => {\r\n        this.ossSign = res.data.data\r\n      })\r\n\r\n      //如果路由存在文章ID 说明是转发文章 这里根据id来获取文章详情\r\n      if(this.$route.query.post_id){\r\n        let articleDetailData = {\r\n          params:{\r\n            ajax:1,\r\n            id:this.$route.query.post_id\r\n          }\r\n        }\r\n\r\n        axios.get('/book/SchoolArticle/detail',articleDetailData).then(res => {\r\n          if(res.data.status == 1){\r\n            if(res.data.data.post.extra){\r\n              this.post = JSON.parse(res.data.data.post.extra)\r\n            }else{\r\n              let postData = res.data.data.post\r\n              this.post = {\r\n                title: postData.template_id == 1?`${postData.user.username}的晒一晒`:postData.title, //内容\r\n                post_id: postData.post_id || 0,\r\n                type:'post'\r\n              }\r\n            }\r\n          }\r\n        })\r\n      }\r\n      \r\n      if(this.$route.query.book_id){\r\n        if(this.$route.query.book_id > 0){\r\n          let bookDetailData = {\r\n            params:{\r\n              ajax:1,\r\n              book_id: this.$route.query.book_id,\r\n            }\r\n          }\r\n\r\n          axios.get('/book/ShelfBook/getInfo',bookDetailData).then(res=>{\r\n            if(res.data.status == 1){\r\n              let bookData = res.data.data\r\n              this.post = {\r\n                title: bookData.title, //内容\r\n                tushu_id: bookData.tushu_id || 0,\r\n                sign_read_count: this.$route.query.sign_read_count,\r\n                sign_days: this.$route.query.sign_days,\r\n                type:'book'\r\n              }\r\n            }\r\n          })\r\n        }else{\r\n          this.post = {\r\n            title: '自选图书', //内容\r\n            tushu_id: 0,\r\n            sign_read_count: this.$route.query.sign_read_count,\r\n            sign_days: this.$route.query.sign_days,\r\n            type:'book'\r\n          }    \r\n        }\r\n      }\r\n\r\n      //判断路由自动触发小视频 视频\r\n      if(this.$route.query.upVideo){\r\n        this.$nextTick(() => {\r\n          switch(this.$route.query.upVideo){\r\n            case 1:\r\n              this.$refs.fileVideo.click()\r\n              this.typeUpload = 'fileVideo'\r\n            break\r\n            case 2:\r\n              this.$refs.selectFileVideo.click()\r\n              this.typeUpload = 'selectFileVideo'\r\n            break\r\n          }\r\n        })\r\n      }\r\n    },\r\n    uploaderImg(){\r\n      switch(this.typeUpload){\r\n        case 'fileVideo':\r\n          this.$refs.fileVideo.click()\r\n        break\r\n        case 'selectFileVideo':\r\n          this.$refs.selectFileVideo.click()\r\n        break\r\n        default:\r\n          if(this.ready){\r\n            // 传上传张数\r\n            this.selectImg(9-this.photoLength)\r\n          }else{\r\n            this.$refs.selectPhoto.$refs.input.click()\r\n          }\r\n      }\r\n    },\r\n    onRead(file) {\r\n      let array = []\r\n      if (file.length) {\r\n        array = file\r\n      } else {\r\n        array.push(file)\r\n      }\r\n      array.forEach(element => {\r\n        if (this.photoLength < 9) {\r\n          this.photoLength++\r\n          compress(element.content, 1200, 0.8, 'blob').then(val => {\r\n            val.toBlob((blob) => {\r\n              this.upOssPhoto(blob, element.file, element.content)\r\n            })\r\n          })\r\n        } else {\r\n          this.$dialog.alert({\r\n            message: `<div class='text-center'>最多只能上传9张图片</div>`\r\n          })\r\n        }\r\n      })\r\n    },\r\n    onSelect(item) {\r\n        this.$router.go(-1)\r\n        this.actionShow = false\r\n        this.grapicData = {\r\n          text: '',\r\n          photos: []\r\n        }\r\n    },\r\n    onClickRelease() {\r\n      if (!this.grapicData.text.length && !this.grapicData.photos.length) {\r\n        if (this.$route.query.back && this.$route.name!='home') {\r\n          this.$router.push({\r\n            name: this.$route.query.back,\r\n            query: {\r\n              id:  this.$route.query.id\r\n            }\r\n          })\r\n        } else {\r\n          this.$router.push({\r\n            name: 'apps-find'\r\n          })\r\n        }\r\n      } else if (this.grapicData.text.length < 12000) {\r\n          \r\n          // cate_id = 116 课堂阅读\r\n\r\n          // 发布\r\n          let data = {\r\n            details: this.grapicData.text,\r\n            template_id: 1,\r\n            photos: this.grapicData.photos,\r\n            extra: this.post,\r\n            banji_id: this.$route.query.banji_id,\r\n            school_id: this.$route.query.school_id,\r\n            is_wx_msg: this.isWxMsg\r\n          }\r\n\r\n          //老师的班级学校\r\n          if(this.userDataState.teacher_school_id > 0 && this.$route.query.home_type == 'banji'){\r\n            data.from_page = `${this.userDataState.teacher_school_id},${this.userDataState.teacher_school_name}`\r\n            data.tags = this.$route.query.tags || `${this.tag.cate_name},${this.userDataState.teacher_duty},${this.userDataState.class_post_count}`\r\n          }\r\n\r\n          switch(this.$route.query.back){\r\n            case 'baby-home':\r\n              data.child_id = this.$route.query.id\r\n              data.tags = this.$route.query.tags || '宝贝主页'\r\n            break\r\n            case 'class-home':\r\n              data.banji_id = this.$route.query.id\r\n            break\r\n            case 'apps-school':\r\n              data.school_id = this.$route.query.id\r\n            break\r\n          }\r\n          \r\n          this.release(data).then(res=>{\r\n            switch(res.data.status){\r\n              case 1:\r\n\r\n                if(this.$route.query.post_id&&this.$route.query.post_id > 0){\r\n                  let commentData = {\r\n                    post_id: this.post.post_id,\r\n                    contents: '收录了',\r\n                  }\r\n\r\n                  axios.post('/book/SchoolArticleComment/edit?ajax=1', commentData).then(res => {})\r\n                }\r\n\r\n                this.clearImg()\r\n                this.$toast.success('发布成功')\r\n\r\n                // this.tag.cate_id == 124 班级通知\r\n\r\n                if(this.tag.cate_id == 124 || this.tag.cate_id == 116){\r\n                  this.$router.replace({\r\n                    name:'class-home',\r\n                    query:{\r\n                      id: data.banji_id || this.userDataState.teacher_banji_id\r\n                    }\r\n                  })\r\n                }else if( this.tag.cate_id == 99 || this.$route.query.back == 'apps-school'){\r\n                  this.$router.replace({\r\n                    name:'apps-school',\r\n                    query:{\r\n                      id: data.school_id || this.userDataState.teacher_school_id\r\n                    }\r\n                  })\r\n                } else if(this.getResult[0]!=''&&this.getResult[0]!='apps-find'){\r\n                  this.$router.replace({\r\n                    name: this.getResult[0],\r\n                    query:{\r\n                      ...this.$route.query,\r\n                      id: this.getResult[0] == 'baby-home'?this.userDataState.child_id:this.userDataState.teacher_banji_id > 0?this.userDataState.teacher_banji_id:this.userDataState.banji_id\r\n                    }\r\n                  })\r\n                }else{\r\n                  this.$router.replace({\r\n                    name: 'apps-find'\r\n                  })\r\n                }\r\n              break\r\n              default:\r\n                this.$toast.fail(res.data.msg)\r\n            }\r\n          })\r\n        }\r\n    },\r\n    deletePhoto(index) {\r\n      this.grapicData.photos.splice(index, 1)\r\n      this.photoLength--\r\n    },\r\n    toTopicPage() {\r\n      this.show = true\r\n    },\r\n    doUpload(e) {\r\n      let file = e.target.files[0]\r\n      let type = e.target.dataset.type\r\n      let formData = new FormData()\r\n      //  动态获取视频截取大小以获取视频封面\r\n      let size = e.target.files[0].size/1024/1024/2\r\n\r\n      let sizeVal\r\n\r\n      if(this.isIOS){\r\n        sizeVal = 3\r\n      }else{\r\n        sizeVal = size > 3 ? 3 : size\r\n      }\r\n\r\n      let maxSize = 1024 * 1024 * sizeVal\r\n      let blob = file.slice(0, maxSize)\r\n\r\n      formData.append('file',blob,file.name)\r\n\r\n      let url = '/book/file/get_video_screen'\r\n\r\n      axios({\r\n        url: url,\r\n        data: formData,\r\n        method: 'post',\r\n        onUploadProgress: p => {\r\n          this.progressIsShow = true\r\n          this.percent = 1\r\n        }\r\n      }).then( res => {\r\n          let info = res.data.data\r\n          this.grapicData.photos.push({\r\n            thumb: info.thumb,\r\n            height: info.height,\r\n            width: info.width,\r\n            rotate: info.rotate,\r\n            duration: Math.floor(info.duration) || 15\r\n          })\r\n\r\n        this.upOssMedia(type, file)\r\n      })\r\n    },\r\n    upOssMedia(type, file) {\r\n      if (!this.ossSign) {\r\n        alert('未能获取上传参数')\r\n      }\r\n      let url = this.ossSign.host\r\n      let data = new FormData()\r\n      let key = this.ossSign.dir + '/' + Date.now() + file.name\r\n      let path = url + '/' + this.ossSign.dir + '/' + Date.now() + file.name\r\n\r\n      data.append('key', key)\r\n      data.append('OSSAccessKeyId', this.ossSign.accessid)\r\n      data.append('policy', this.ossSign.policy)\r\n      data.append('success_action_status', 200)\r\n      data.append('signature', this.ossSign.signature)\r\n      data.append('file', file)\r\n\r\n      axios({\r\n        url: url,\r\n        data: data,\r\n        method: 'post',\r\n        onUploadProgress: p => {\r\n          this.percent = Math.floor(100 * (p.loaded / p.total))\r\n        }\r\n      }).then((res) => {\r\n        this.grapicData.photos[0].is_audio =  type == 'audio' ? 1 : 0\r\n        this.grapicData.photos[0].is_video =  type == 'video' ? 1 : 0\r\n        this.grapicData.photos[0].photo = path\r\n        this.percent = 0\r\n        this.progressIsShow = false\r\n      })\r\n    },\r\n    upOssPhoto(blob, file, base64) {\r\n      let img = new Image()\r\n      img.src = base64\r\n\r\n      let fd = new FormData()\r\n      let url = this.ossSign.host\r\n      let key = this.ossSign.dir + '/' + Date.now() + file.name\r\n      let path = url + '/' + this.ossSign.dir + '/' + Date.now() + file.name\r\n\r\n      fd.append('key', key)\r\n      fd.append('OSSAccessKeyId', this.ossSign.accessid)\r\n      fd.append('policy', this.ossSign.policy)\r\n      fd.append('success_action_status', 200)\r\n      fd.append('signature', this.ossSign.signature)\r\n      fd.append('file', blob, file.name)\r\n    \r\n      axios({\r\n        url: url,\r\n        data: fd,\r\n        method: 'post',\r\n        onUploadProgress: p => {\r\n          this.percent = Math.floor(100 * (p.loaded / p.total))\r\n        }\r\n      }).then((res) => {\r\n        this.grapicData.photos.push({\r\n          photo: path,\r\n          is_audio: 0,\r\n          is_video: 0,\r\n          thumb: `${path}?x-oss-percent=image/resize,m_fill,h_200,w_200`,\r\n          height: img.height || 0,\r\n          width: img.width || 0\r\n        })\r\n        this.percent = 0\r\n      })\r\n    },\r\n    toArticle(data){\r\n      this.$router.push({\r\n        name:data.routeName,\r\n        query:{\r\n          ...this.$route.query,\r\n          id: data.detailsId\r\n        }\r\n      })\r\n    },\r\n    switchChange(num){\r\n      this.weChatSwitch = num\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.bar {\r\n  height: 2rem /* 32/16 */;\r\n  line-height: 2rem /* 32/16 */;\r\n}\r\n\r\n.text-length.danger {\r\n  color: #f56c6c;\r\n}\r\n\r\n.preview {\r\n  position: relative;\r\n}\r\n\r\n.preview .close-btn {\r\n  width: 1.25rem /* 20/16 */;\r\n  height: 1.25rem /* 20/16 */;\r\n  line-height: 1.25rem /* 20/16 */;\r\n  position: absolute;\r\n  right: 0 /* 5/16 */;\r\n  top: 0 /* 5/16 */;\r\n  text-align: center;\r\n  line-height: 1.25rem /* 20/16 */;\r\n  background: #000;\r\n  color: #fff;\r\n  opacity: 0.5;\r\n}\r\n\r\n.upload-media {\r\n  flex: 5;\r\n}\r\n\r\n.topic {\r\n  flex: 2;\r\n  text-align: center;\r\n}\r\n\r\n.text-length {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.progress {\r\n  padding: 0.625rem /* 10/16 */;\r\n}\r\n\r\n.user-info{\r\n  position: relative;\r\n  width: 100%;\r\n  height: 2.8125rem /* 45/16 */;\r\n}\r\n\r\n.user-info .avatar{\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate3d(-50%, -50%, 0);\r\n}\r\n\r\n.user-info .avatar,\r\n.user-info .avatar img{\r\n  width: 2rem /* 32/16 */;\r\n  height: 2rem /* 32/16 */;\r\n  border-radius: 50%;\r\n}\r\n\r\n.tag {\r\n  margin-left: 0.9375rem /* 15/16 */;\r\n  margin-top: 0.3125rem /* 5/16 */;\r\n}\r\n\r\n.img-grid img.thumb {\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: 50%;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  vertical-align: top;\r\n}\r\n\r\n.type-tag {\r\n  position: absolute;\r\n  bottom: 0.3125rem /* 5/16 */;\r\n  right: 0.3125rem /* 5/16 */;\r\n}\r\n\r\n.img-grid{\r\n  background: #f8f8f8;\r\n}\r\n\r\n.textarea-module{\r\n  padding-top: 2.8125rem /* 45/16 */;\r\n}\r\n\r\n.prompt-text{\r\n  color: #E6A23C;\r\n  background: #fff;\r\n  padding-left: 15px;\r\n}\r\n\r\n.progress-popup{\r\n  background: transparent;\r\n  width: 100%;\r\n  height: 70vh;\r\n}\r\n\r\n.upload-upload{\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.progress{\r\n  color: #fff;\r\n  text-align: center;\r\n}\r\n</style>\r\n<style>\r\n.cell-value.van-cell__value {\r\n  flex: 5;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graphic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Graphic.vue?vue&type=template&id=3c76bd5d&scoped=true&\"\nimport script from \"./Graphic.vue?vue&type=script&lang=js&\"\nexport * from \"./Graphic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Graphic.vue?vue&type=style&index=0&id=3c76bd5d&scoped=true&lang=css&\"\nimport style1 from \"./Graphic.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c76bd5d\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=style&index=0&id=4eee30e5&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=style&index=0&id=4eee30e5&scoped=true&lang=css&\"","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-setting\"},[_c('van-cell',{attrs:{\"value\":_vm.classify,\"is-link\":_vm.$route.query.pageType!=\"notice\",\"arrow-direction\":\"down\"},on:{\"click\":_vm.selectTagShow}},[_c('div',{staticClass:\"classify-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\" 分类\\n    \")])]),(((_vm.tag.cate_id!=99&&_vm.tag.cate_id!=124) || _vm.$route.query.tags)&&_vm.$route.query.pageType!=\"notice\")?_c('van-cell',{attrs:{\"title\":\"同步到\",\"value-class\":\"cell-value\",\"value\":_vm.synchronous,\"center\":\"\",\"is-link\":\"\"},on:{\"click\":function($event){_vm.isResultShow = true}}}):_c('van-switch-cell',{attrs:{\"title\":\"微信公众号消息\",\"title-style\":\"flex:2\",\"value-class\":\"switch-cell-value\",\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#67C23A\",\"inactive-color\":\"#f2f6fc\",\"label\":\"通知会通过阅亮书架公众号提醒家长\"},on:{\"change\":function($event){return _vm.$emit(\"onChangeSwitch\",_vm.checked)}},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}}),_c('van-popup',{staticClass:\"page-popup-layer\",attrs:{\"position\":\"bottom\",\"get-container\":\"#app\"},model:{value:(_vm.isResultShow),callback:function ($$v) {_vm.isResultShow=$$v},expression:\"isResultShow\"}},[_c('van-checkbox-group',{model:{value:(_vm.settingResult),callback:function ($$v) {_vm.settingResult=$$v},expression:\"settingResult\"}},[_c('div',{staticClass:\"form-title\"},[_vm._v(\"同步到\")]),_c('van-cell-group',_vm._l((_vm.resultList),function(item,index){return _c('van-cell',{key:index,attrs:{\"border\":false,\"clickable\":\"\",\"title\":item.title},on:{\"click\":function($event){return _vm.toggle(index)}}},[_c('van-checkbox',{ref:\"checkboxes\",refInFor:true,staticClass:\"theme-checkbox\",attrs:{\"name\":item.name}})],1)}),1)],1)],1),_c('van-popup',{staticClass:\"page-popup-layer\",attrs:{\"position\":\"bottom\",\"get-container\":\"#app\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.isCateShow)?_c('div',{staticClass:\"cate-item\"},_vm._l((_vm.schoolCateList),function(item,index){return _c('van-cell-group',{key:index},[_c('van-cell',{attrs:{\"title\":item.name,\"size\":\"large\"}},[_c('i',{staticClass:\"iconfont icon-topic\",attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_vm._v(\"\")])]),_vm._l((item.cateList),function(cate,cateIndex){return _c('van-cell',{key:cateIndex,attrs:{\"is-link\":\"\",\"title\":cate.cate_name},on:{\"click\":function($event){return _vm.selectCate(cate)}}},[_c('i',{staticClass:\"iconfont icon-topic-mini\",attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_vm._v(\"\")])])})],2)}),1):_c('topic-list',{attrs:{\"topicList\":_vm.topicList,\"tagIndex\":_vm.tagIndex,\"cateIndex\":_vm.cateIndex},on:{\"close\":_vm.closeTopic,\"confirm\":function($event){_vm.show = false},\"select\":_vm.selectTag}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"article-setting\">\r\n    <van-cell :value=\"classify\" :is-link='$route.query.pageType!=\"notice\"' arrow-direction=\"down\" @click=\"selectTagShow\">\r\n      <div class=\"classify-title\" slot=\"title\">\r\n        <i class=\"iconfont\">&#xe67c;</i> 分类\r\n      </div>\r\n    </van-cell>\r\n    <van-cell v-if='((tag.cate_id!=99&&tag.cate_id!=124) || $route.query.tags)&&$route.query.pageType!=\"notice\"' title=\"同步到\" value-class='cell-value' :value='synchronous' center is-link @click=\"isResultShow = true\" />\r\n    <van-switch-cell v-model=\"checked\" title=\"微信公众号消息\" title-style='flex:2' value-class='switch-cell-value' :active-value='1' :inactive-value='0' active-color='#67C23A' inactive-color='#f2f6fc' label='通知会通过阅亮书架公众号提醒家长' v-else @change='$emit(\"onChangeSwitch\",checked)'/>\r\n\r\n    <van-popup class=\"page-popup-layer\" position=\"bottom\" v-model=\"isResultShow\" get-container='#app'>\r\n      <van-checkbox-group v-model=\"settingResult\">\r\n        <div class=\"form-title\">同步到</div>\r\n        <van-cell-group>\r\n          <van-cell :border='false' v-for=\"(item,index) in resultList\" clickable :key=\"index\" :title=\"item.title\"\r\n            @click=\"toggle(index)\">\r\n            <van-checkbox class=\"theme-checkbox\" :name=\"item.name\" ref=\"checkboxes\" />\r\n          </van-cell>\r\n        </van-cell-group>\r\n      </van-checkbox-group>\r\n    </van-popup>\r\n\r\n    <van-popup class=\"page-popup-layer\" position=\"bottom\" v-model=\"show\" get-container='#app'>\r\n      <div class=\"cate-item\" v-if='isCateShow'>\r\n        <van-cell-group v-for='(item,index) in schoolCateList' :key=\"index\">\r\n          <van-cell :title=\"item.name\" size=\"large\">\r\n            <i class=\"iconfont icon-topic\" slot=\"icon\">&#xe67c;</i>\r\n          </van-cell>\r\n          <van-cell is-link v-for='(cate,cateIndex) in item.cateList' :title='cate.cate_name' :key=\"cateIndex\" @click='selectCate(cate)'>\r\n            <i class=\"iconfont icon-topic-mini\" slot=\"icon\">&#xe6d7;</i>\r\n          </van-cell>\r\n        </van-cell-group>\r\n      </div>\r\n      <topic-list v-else @close='closeTopic' @confirm='show = false' @select='selectTag' :topicList='topicList'\r\n        :tagIndex='tagIndex' :cateIndex='cateIndex' />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from './../../../lib/js/api'\r\nimport topicList from './../../../module/release/topicList'\r\nimport { mapState, mapGetters, mapActions, mapMutations } from 'vuex'\r\nimport { contains } from './../../../lib/js/util'\r\n\r\nexport default {\r\n  name: 'article-setting',\r\n  props: {\r\n    isWxMsg:{\r\n      type:Number,\r\n      default: 1\r\n    }\r\n  },\r\n  components: {\r\n    topicList\r\n  },\r\n  computed: {\r\n    ...mapState('articleSetting', ['result', 'group', 'tag']),\r\n    ...mapGetters(['userDataState', 'managerState']),\r\n    synchronous() {\r\n      let array = []\r\n      this.resultList.forEach(element => {\r\n        this.result.forEach(e => {\r\n          if (e == element.name) {\r\n            array.push(element.title)\r\n          }\r\n        })\r\n      })\r\n      return array.join(',')\r\n    },\r\n    classify() {\r\n      let tags\r\n\r\n      if (this.$route.query.tags && this.$route.query.tags != '宝贝主页') {\r\n        tags = this.$route.query.tags\r\n      } else {\r\n        tags = this.tag.cate_name\r\n      }\r\n\r\n      return tags\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      isResultShow: false,\r\n      selectGroup: false,\r\n      loading: false,\r\n      groupList: [],\r\n      resultList: [],\r\n      topicList: [],\r\n      settingResult: [],\r\n      tagIndex: 0,\r\n      cateIndex: 0,\r\n      cateName: '',\r\n      banjiCateList: [],\r\n      babyCateList: [],\r\n      routerPath: ['apps-school', 'class-home', 'baby-home', 'apps-find'],\r\n      schoolCateList: [{\r\n        name: '宝贝主页',\r\n        cateList: []\r\n      }, {\r\n        name: '班级主页',\r\n        cateList: []\r\n      }, {\r\n        name: '学校主页',\r\n        cateList: []\r\n      }],\r\n      isCateShow: false,\r\n      checked: 1,\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    to.meta.keepAlive = false //去掉页面数据缓存\r\n    next()\r\n  },\r\n  watch: {\r\n    \"$router\": 'fetchData',\r\n    settingResult: {\r\n      handler(val) {\r\n        this.addResult(val)\r\n        localStorage.setItem('result', JSON.stringify(val))\r\n      },\r\n      deep: true\r\n    },\r\n    isWxMsg(val){\r\n      this.checked = val\r\n    },\r\n    managerState() {\r\n      localStorage.removeItem('tag')\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['release']),\r\n    ...mapActions('articleSetting', ['addResult']),\r\n    ...mapMutations('articleSetting',['setTag']),\r\n    async fetchData() {\r\n      let array = []\r\n\r\n      array.push({\r\n        title: '发现',\r\n        name: 'apps-find',\r\n        to: 1\r\n      })\r\n\r\n      if (this.userDataState.child_id > 0 && this.$route.query.cate_id != 116) {\r\n        array.push({\r\n          title: '宝贝主页',\r\n          name: 'baby-home',\r\n          to: 1\r\n        })\r\n      }\r\n\r\n      if (this.userDataState.banji_id > 0 || this.userDataState.teacher_school_id > 0) {\r\n        array.push({\r\n          title: `${this.userDataState.teacher_banji_id == this.$route.query.id || this.userDataState.teacher_school_id == this.$route.query.id || this.$route.query.cate_id == 116 ? '管理的' : '宝贝的'}班级`,\r\n          name: 'class-home',\r\n          to: 1\r\n        })\r\n      }\r\n\r\n      this.resultList = array\r\n      // 设置默认\r\n      let arr = []\r\n      array.map(e => {\r\n        arr.push(e.name)\r\n      })\r\n\r\n      this.settingResult = arr\r\n      this.addResult(arr)\r\n\r\n      if (localStorage.getItem('result') && !arr.includes(this.$route.query.back)) {\r\n        this.settingResult = JSON.parse(localStorage.getItem('result'))\r\n        this.addResult(this.settingResult)\r\n      }\r\n\r\n      if (!this.routerPath.includes(this.$route.query.back)) {\r\n        this.isCateShow = true\r\n        await this.getCateList('宝贝主页')\r\n        await this.getCateList('班级主页')\r\n        await this.getCateList('学校主页')\r\n      } else {\r\n        let data = {\r\n          params: {\r\n            portal_name: '宝贝主页'\r\n          }\r\n        }\r\n\r\n        if (this.$route.query.back == 'class-home') {\r\n          data.params.portal_name = '班级主页'\r\n        }\r\n\r\n        if (this.$route.query.back == 'apps-school') {\r\n          data.params.portal_name = '学校主页'\r\n        }\r\n\r\n        axios.get('/book/schoolArticleCate/getList', data).then(res => {\r\n          if (res.status == 200) {\r\n\r\n            let cateArray = res.data\r\n            let data = []\r\n            cateArray.forEach(element => {\r\n              if (element.access_level == 0) {\r\n                data.push(element)\r\n              } else if (this.userDataState.teacher_school_id == this.$route.query.id || this.userDataState.teacher_banji_id == this.$route.query.id) {\r\n                data.push(element)\r\n              }\r\n            })\r\n            this.topicList = data\r\n\r\n            if (this.$route.query.cate_id || this.$route.query.tag_id) {\r\n              cateArray.forEach((element, tagIndex) => {\r\n                if (this.$route.query.tag_id) {\r\n                  if (element.cate_id == this.$route.query.tag_id) {\r\n                    this.tagIndex = tagIndex\r\n                    this.cateName = element.cate_name\r\n                    this.setTag(element)\r\n                  }\r\n                } else {\r\n                  element.children.forEach((e, cateIndex) => {\r\n                    if (e.cate_id == this.$route.query.cate_id) {\r\n                      this.tagIndex = tagIndex\r\n                      this.cateIndex = cateIndex\r\n                      this.cateName = e.cate_name\r\n                      this.setTag(e)\r\n                    }\r\n                  })\r\n                }\r\n              })\r\n            } else {\r\n              if (localStorage.getItem('tag')) {\r\n                this.setTag(JSON.parse(localStorage.getItem('tag')))\r\n              } else {\r\n                this.setTag(data[0])\r\n              }\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    async getCateList(portalName) {\r\n      return axios.get('/book/schoolArticleCate/getList', {\r\n        params: {\r\n          portal_name: portalName\r\n        }\r\n      }).then(res => {\r\n        // return res\r\n        this.schoolCateList.map(e => {\r\n          if (e.name == portalName) {\r\n            e.cateList = res.data\r\n          }\r\n        })\r\n      })\r\n    },\r\n    toggle(index) {\r\n      this.addResult(this.settingResult)\r\n      this.$refs.checkboxes[index].toggle()\r\n    },\r\n    selectTag(tag) {\r\n      this.setTag(tag)\r\n      localStorage.setItem('tag', JSON.stringify(tag))\r\n    },\r\n    closeTopic() {\r\n      this.setTag(this.topicList[this.tagIndex])\r\n      this.show = false\r\n    },\r\n    selectCate(cate){\r\n      this.show = false\r\n      this.setTag(cate)\r\n    },\r\n    selectTagShow(){\r\n      if(this.$route.query.pageType != 'notice'){\r\n        this.show = true\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.group-cell {\r\n  padding: 0.625rem /* 10/16 */;\r\n}\r\n\r\n.cell-link {\r\n  border-radius: 0.625rem /* 10/16 */;\r\n  overflow: hidden;\r\n  box-shadow: 0 0.125rem /* 2/16 */ 0.9375rem /* 15/16 */ rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.icon {\r\n  margin-right: 0.625rem /* 10/16 */;\r\n}\r\n\r\n.icon .iconfont {\r\n  font-size: 1.25rem /* 20/16 */;\r\n  background: linear-gradient(135deg, #00bcd4, #0084ff);\r\n  -webkit-background-clip: text;\r\n  color: transparent;\r\n}\r\n\r\n.footer-bar {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  z-index: 10;\r\n}\r\n\r\n.theme-btn {\r\n  width: 100%;\r\n}\r\n\r\n.cate-item {\r\n  max-height: 60vh;\r\n}\r\n\r\n.icon-topic {\r\n  font-size: 20px;\r\n  background: linear-gradient(127deg, #45caff, #1471fb);\r\n  -webkit-background-clip: text;\r\n  color: transparent;\r\n}\r\n\r\n.icon-topic-mini {\r\n  color: #45caff;\r\n}\r\n\r\n.icon-topic,\r\n.icon-topic-mini {\r\n  margin-right: 5px;\r\n}\r\n\r\n.classify-title .iconfont{\r\n  background: linear-gradient(127deg, #00C2AB,#3E94FF);\r\n  -webkit-background-clip: text;\r\n  color: transparent;\r\n}\r\n</style>\r\n<style>\r\n.theme-checkbox.van-checkbox {\r\n  float: right;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articleSetting.vue?vue&type=template&id=4eee30e5&scoped=true&\"\nimport script from \"./articleSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./articleSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articleSetting.vue?vue&type=style&index=0&id=4eee30e5&scoped=true&lang=css&\"\nimport style1 from \"./articleSetting.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4eee30e5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articleSetting.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}